import { c as create_ssr_component, b as each, e as escape, a as subscribe, d as createEventDispatcher, v as validate_component, f as add_attribute, h as set_store_value } from "../../chunks/ssr.js";
import { w as writable } from "../../chunks/index.js";
import { createClient } from "@supabase/supabase-js";
import "typescript";
const css$g = {
  code: "p.svelte-1mw2gy3{opacity:0;animation:svelte-1mw2gy3-fadeIn 2s forwards}@keyframes svelte-1mw2gy3-fadeIn{to{opacity:1}}",
  map: `{"version":3,"file":"LetterByLetter.svelte","sources":["LetterByLetter.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { blur } from \\"svelte/transition\\";\\nexport let text = void 0;\\nexport let message = void 0;\\nlet isVisible = false;\\nlet tokens = [];\\n$: {\\n    const value = text ?? message;\\n    if (Array.isArray(value)) {\\n        tokens = value.map((v) => String(v));\\n    }\\n    else if (typeof value === \\"string\\") {\\n        tokens = value.split(\\" \\");\\n    }\\n    else {\\n        tokens = [];\\n    }\\n    isVisible = true;\\n}\\n<\/script>\\r\\n\\r\\n{#if isVisible}\\r\\n\\t<p>\\r\\n\\t\\t{#each tokens as letter, index}\\r\\n\\t\\t\\t<span transition:blur={{ duration: Math.min(index * 100, 2000) }}>\\r\\n\\t\\t\\t\\t{letter + ' '}\\r\\n\\t\\t\\t</span>\\r\\n\\t\\t{/each}\\r\\n\\t</p>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\tp {\\r\\n\\t\\topacity: 0;\\r\\n\\t\\tanimation: fadeIn 2s forwards;\\r\\n\\t}\\r\\n\\r\\n\\t@keyframes fadeIn {\\r\\n\\t\\tto {\\r\\n\\t\\t\\topacity: 1;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AA+BC,gBAAE,CACD,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,qBAAM,CAAC,EAAE,CAAC,QACtB,CAEA,WAAW,qBAAO,CACjB,EAAG,CACF,OAAO,CAAE,CACV,CACD"}`
};
const LetterByLetter = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let { text = void 0 } = $$props;
  let { message = void 0 } = $$props;
  let isVisible = false;
  let tokens = [];
  if ($$props.text === void 0 && $$bindings.text && text !== void 0) $$bindings.text(text);
  if ($$props.message === void 0 && $$bindings.message && message !== void 0) $$bindings.message(message);
  $$result.css.add(css$g);
  {
    {
      const value = text ?? message;
      if (Array.isArray(value)) {
        tokens = value.map((v) => String(v));
      } else if (typeof value === "string") {
        tokens = value.split(" ");
      } else {
        tokens = [];
      }
      isVisible = true;
    }
  }
  return `${isVisible ? `<p class="svelte-1mw2gy3">${each(tokens, (letter, index) => {
    return `<span>${escape(letter + " ")} </span>`;
  })}</p>` : ``}`;
});
const STARTING_VALUES = {
  INTERACTIVE_POINTS: 50
};
const SHOP_CONFIG = {
  ITEMS_PER_SHOP: 4
};
const game = writable({
  gameData: {
    lootBox: [],
    placeAndTime: { place: "", time: "00:00" },
    shop: [],
    choices: [],
    enemy: {},
    event: { inCombat: false, shopMode: null, lootMode: false },
    story: ""
  }
});
const character = writable({
  stats: [{ hp: 0, maxHp: 0, mp: 0, maxMp: 0 }],
  gold: 0,
  spells: [],
  inventory: []
});
const ui = writable({
  errorWarnMsg: "",
  buyWarnMsg: "",
  sellWarnMsg: ""
});
const selectedItem = writable({});
const coolDowns = writable({});
const misc = writable({
  showInfoWindow: false,
  loading: false,
  showDescription: "none",
  x: 0,
  y: 0,
  diceNumber: 0,
  query: "",
  time: "00:00",
  place: "",
  currentImg: "",
  death: false,
  interactivePoints: STARTING_VALUES.INTERACTIVE_POINTS,
  bugWindow: false,
  maintenanceWindow: false,
  started: false,
  heroClass: ""
});
const bgImage = writable({
  fetchedBg1: "",
  fetchedBg2: "",
  img1active: false,
  img2active: false
});
const descWindow = writable({
  name: "",
  damage: 0,
  type: "",
  healing: 0,
  mana: 0,
  point: 0,
  armor: 0,
  element: "",
  weaponClass: "",
  manaCost: 0,
  price: 0,
  amount: 0
});
const css$f = {
  code: ".date.svelte-k3s7eo.svelte-k3s7eo{position:absolute;right:1rem;bottom:1rem}h2.svelte-k3s7eo.svelte-k3s7eo{margin-bottom:1rem;color:rgb(142, 255, 140);font-weight:500;font-size:2rem}ul.svelte-k3s7eo.svelte-k3s7eo{list-style:circle}ul.svelte-k3s7eo li.svelte-k3s7eo{margin-bottom:1rem;font-size:1.2rem;text-align:start;color:#aaa}button.svelte-k3s7eo.svelte-k3s7eo{margin-top:0.5rem;border-radius:0.3rem;padding:0.3rem 0.8rem;background-color:rgb(200, 82, 82);font-size:0.9rem;cursor:pointer}",
  map: `{"version":3,"file":"Maintenance.svelte","sources":["Maintenance.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { misc } from \\"../../stores\\";\\n<\/script>\\r\\n\\r\\n<div>\\r\\n\\t<h2>Welcome</h2>\\r\\n\\t<!-- <h2 style=\\"color:orangered;\\">Game's Closed Back Again.</h2>\\r\\n\\t<ul>\\r\\n\\t\\t<li>\\r\\n\\t\\t\\tSince the free PALM API is not as stable as the paid OpenAI models, I'm facing difficulties in\\r\\n\\t\\t\\tobtaining precise JSON responses from PALM. It occasionally provides responses with a\\r\\n\\t\\t\\tstructure, but not consistently.\\r\\n\\t\\t</li>\\r\\n\\t\\t<li>I will investigate this further, considering prompt powerups and API parameters.</li>\\r\\n\\t\\t<li>\\r\\n\\t\\t\\tPS: I have just gained access to the PALM API from waitlist, so I'm not very familiar with the\\r\\n\\t\\t\\tpersonality of this LLM yet. It looks worse than unf. bard api. If anyone has experience with\\r\\n\\t\\t\\tit, I would appreciate prompt suggestions/pr's.\\r\\n\\t\\t</li>\\r\\n\\t</ul> -->\\r\\n\\r\\n\\t<ul>\\r\\n\\t\\t<li>Current gemini model: gemini-1.5-flash</li>\\r\\n\\t</ul>\\r\\n\\t<button on:click={() => ($misc.maintenanceWindow = false)}>Okay</button>\\r\\n\\t<span class=\\"date\\">9th of september 2024</span>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.date {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tright: 1rem;\\r\\n\\t\\tbottom: 1rem;\\r\\n\\t}\\r\\n\\th2 {\\r\\n\\t\\tmargin-bottom: 1rem;\\r\\n\\t\\tcolor: rgb(142, 255, 140);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tfont-size: 2rem;\\r\\n\\t}\\r\\n\\r\\n\\tul {\\r\\n\\t\\tlist-style: circle;\\r\\n\\t}\\r\\n\\tul li {\\r\\n\\t\\tmargin-bottom: 1rem;\\r\\n\\t\\tfont-size: 1.2rem;\\r\\n\\t\\ttext-align: start;\\r\\n\\t\\tcolor: #aaa;\\r\\n\\t}\\r\\n\\tbutton {\\r\\n\\t\\tmargin-top: 0.5rem;\\r\\n\\t\\tborder-radius: 0.3rem;\\r\\n\\t\\tpadding: 0.3rem 0.8rem;\\r\\n\\t\\tbackground-color: rgb(200, 82, 82);\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AA4BC,iCAAM,CACL,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IACT,CACA,8BAAG,CACF,aAAa,CAAE,IAAI,CACnB,KAAK,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACzB,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,IACZ,CAEA,8BAAG,CACF,UAAU,CAAE,MACb,CACA,gBAAE,CAAC,gBAAG,CACL,aAAa,CAAE,IAAI,CACnB,SAAS,CAAE,MAAM,CACjB,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IACR,CACA,kCAAO,CACN,UAAU,CAAE,MAAM,CAClB,aAAa,CAAE,MAAM,CACrB,OAAO,CAAE,MAAM,CAAC,MAAM,CACtB,gBAAgB,CAAE,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAClC,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,OACT"}`
};
const Maintenance = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_misc;
  $$unsubscribe_misc = subscribe(misc, (value) => value);
  $$result.css.add(css$f);
  $$unsubscribe_misc();
  return `<div><h2 class="svelte-k3s7eo" data-svelte-h="svelte-xssljm">Welcome</h2>  <ul class="svelte-k3s7eo" data-svelte-h="svelte-13yrl4c"><li class="svelte-k3s7eo">Current gemini model: gemini-1.5-flash</li></ul> <button class="svelte-k3s7eo" data-svelte-h="svelte-1r32n8">Okay</button> <span class="date svelte-k3s7eo" data-svelte-h="svelte-dwxxo4">9th of september 2024</span> </div>`;
});
const supabase = createClient(
  "https://wjfywtvnvjbposklgxzj.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZnl3dHZudmpicG9za2xneHpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzMyOTQzOTQsImV4cCI6MTk4ODg3MDM5NH0.aEF55Z4Wje7SAtPg_TiNOD7iIqsOZ4DBL1EP5juhR7g"
);
const css$e = {
  code: ".close-bug-window.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:absolute;right:var(--space-lg);top:var(--space-md);cursor:pointer;opacity:0.7;transition:opacity var(--transition-fast)}.close-bug-window.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe:hover{opacity:1}.close-bug-window.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe{width:1.5rem}.bug-window.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);width:min(90%, 500px);max-height:80vh;background:var(--color-bg-dark);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-xl);z-index:1001;overflow:auto;padding:var(--space-xl)}.bug-container.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:flex;flex-direction:column;align-items:center;text-align:center;gap:var(--space-md)}.bug-container.svelte-eknbwe h2.svelte-eknbwe.svelte-eknbwe{font-weight:500;font-size:1.25rem;color:var(--color-accent-gold)}.bug-container.svelte-eknbwe p.svelte-eknbwe.svelte-eknbwe{font-size:0.9rem;color:var(--color-text-secondary)}.mail-box.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:flex;flex-direction:column;gap:var(--space-sm);margin-top:var(--space-md)}.mail-box.svelte-eknbwe a.svelte-eknbwe.svelte-eknbwe{color:var(--color-accent-secondary);text-decoration:none;font-size:1rem;padding:var(--space-sm) var(--space-lg);background:rgba(63, 207, 142, 0.1);border-radius:var(--radius-md);transition:background var(--transition-fast)}.mail-box.svelte-eknbwe a.svelte-eknbwe.svelte-eknbwe:hover{background:rgba(63, 207, 142, 0.2)}.mail-box.svelte-eknbwe p.svelte-eknbwe.svelte-eknbwe{user-select:text;font-size:0.8rem;color:var(--color-text-muted)}.info-window.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);width:min(95%, 800px);max-height:85vh;background:var(--color-bg-dark);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-xl);z-index:1000;overflow:auto;padding:var(--space-xl)}.info-window.svelte-eknbwe>button.svelte-eknbwe.svelte-eknbwe{position:absolute;right:var(--space-lg);top:var(--space-md);cursor:pointer;opacity:0.7;transition:opacity var(--transition-fast)}.info-window.svelte-eknbwe>button.svelte-eknbwe.svelte-eknbwe:hover{opacity:1}.info-window.svelte-eknbwe>button.svelte-eknbwe img.svelte-eknbwe{width:1.5rem}.span1.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:block;text-align:center;margin-top:var(--space-lg);padding-top:var(--space-md);border-top:1px solid var(--color-border);color:var(--color-text-muted);font-size:0.75rem}.text-box.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:var(--space-xl);margin-top:var(--space-lg)}.text-box.svelte-eknbwe h3.svelte-eknbwe.svelte-eknbwe{font-weight:500;font-size:1.1rem;margin-bottom:var(--space-md);display:flex;align-items:center;gap:var(--space-sm)}.rules.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{color:var(--color-accent-gold)}.rules.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe::before{content:'âš”ï¸'}.updates.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{color:var(--color-accent-secondary)}.updates.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe::before{content:'ðŸ”®'}.text-box.svelte-eknbwe ul.svelte-eknbwe.svelte-eknbwe{list-style:none;padding:0}.text-box.svelte-eknbwe li.svelte-eknbwe.svelte-eknbwe{margin-bottom:var(--space-sm);font-size:0.85rem;color:var(--color-text-secondary);padding-left:var(--space-md);position:relative}.text-box.svelte-eknbwe li.svelte-eknbwe.svelte-eknbwe::before{content:'â€¢';position:absolute;left:0;color:var(--color-accent-primary)}.map-and-places.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;left:var(--space-md);top:var(--space-md);display:flex;flex-direction:column;gap:var(--space-sm);z-index:50}.map-and-places.svelte-eknbwe>button.svelte-eknbwe.svelte-eknbwe{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-glass);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.map-and-places.svelte-eknbwe>button.svelte-eknbwe.svelte-eknbwe:hover{background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover)}.map-and-places.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe{width:24px;height:24px;opacity:0.8}.places-to-go.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:flex;flex-direction:column;gap:var(--space-xs);margin-top:var(--space-xs)}.places-to-go.svelte-eknbwe button.svelte-eknbwe.svelte-eknbwe{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-sm);background:var(--color-bg-glass);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast)}.places-to-go.svelte-eknbwe button.svelte-eknbwe.svelte-eknbwe:hover:not(:disabled){background:rgba(124, 92, 224, 0.15);transform:translateX(4px)}.places-to-go.svelte-eknbwe button.svelte-eknbwe.svelte-eknbwe:disabled{opacity:0.4;cursor:not-allowed}.places-to-go.svelte-eknbwe button.svelte-eknbwe img.svelte-eknbwe{width:20px;height:20px}.places-to-go.svelte-eknbwe button p.svelte-eknbwe.svelte-eknbwe{font-size:0.75rem;color:var(--color-text-primary);margin:0}.song-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe,.fullscreen-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;right:var(--space-md);width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-glass);backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;opacity:0.6;transition:all var(--transition-fast);z-index:50}.song-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{top:calc(var(--space-md) + 48px)}.fullscreen-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{top:calc(var(--space-md) + 96px)}.song-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe:hover,.fullscreen-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe:hover{opacity:1;background:rgba(255, 255, 255, 0.1)}.song-icon.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe,.fullscreen-icon.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe{width:20px;height:20px}.bottom-right-buttons.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;right:var(--space-md);bottom:var(--space-md);display:flex;flex-direction:column;gap:var(--space-sm);z-index:50}.bug-button.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe,.game-info-button.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-glass);backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;opacity:0.5;transition:all var(--transition-fast)}.bug-button.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe:hover,.game-info-button.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe:hover{opacity:1;background:rgba(255, 255, 255, 0.1)}.bug-button.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe,.game-info-button.svelte-eknbwe img.svelte-eknbwe.svelte-eknbwe{width:18px;height:18px}.maintenance-box.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);background:var(--color-bg-dark);backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-xl);text-align:center;z-index:1000;max-width:90vw}@media(max-width: 768px){.map-and-places.svelte-eknbwe>button.svelte-eknbwe.svelte-eknbwe,.song-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe,.fullscreen-icon.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:none !important}.bottom-right-buttons.svelte-eknbwe.svelte-eknbwe.svelte-eknbwe{display:none}}",
  map: `{"version":3,"file":"UiButtons.svelte","sources":["UiButtons.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher } from \\"svelte\\";\\nimport { fade } from \\"svelte/transition\\";\\nimport { misc } from \\"../../stores\\";\\nimport { game } from \\"../../stores\\";\\nimport Maintenance from \\"./Maintenance.svelte\\";\\nimport { supabase } from \\"$lib/supabaseClient\\";\\nconst dispatch = createEventDispatcher();\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", {\\n        answer\\n    });\\n    $game.gameData.event.shopMode = null;\\n}\\nlet mapOn;\\nlet audioElement;\\nlet audioClicked = false;\\nasync function startSong() {\\n    if (!audioElement && !audioClicked) {\\n        audioClicked = true;\\n        const { data: song, error } = await supabase.storage.from(\\"audios/chad-rpg\\").download(\\"tavernLoopOne.mp3\\");\\n        audioElement = new Audio(URL.createObjectURL(song));\\n        audioElement.loop = true;\\n        audioElement.play();\\n    }\\n    else if (audioElement) {\\n        audioElement.paused ? audioElement.play() : audioElement.pause();\\n    }\\n    else\\n        return;\\n}\\nfunction toggleFullScreen() {\\n    if (!document.fullscreenElement) {\\n        document.documentElement.requestFullscreen();\\n    }\\n    else {\\n        if (document.exitFullscreen) {\\n            document.exitFullscreen();\\n        }\\n    }\\n}\\n<\/script>\\r\\n\\r\\n<div>\\r\\n\\t{#if $misc.maintenanceWindow}\\r\\n\\t\\t<div class=\\"maintenance-box\\">\\r\\n\\t\\t\\t<Maintenance />\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n\\t<!-- audio play button -->\\r\\n\\t{#if $misc.started}\\r\\n\\t\\t<button class=\\"song-icon\\" transition:fade={{ duration: 500 }} on:click={() => startSong()}>\\r\\n\\t\\t\\t<img src=\\"images/music.svg\\" alt=\\"music button\\" />\\r\\n\\t\\t</button>\\r\\n\\t\\t<button\\r\\n\\t\\t\\ttransition:fade={{ duration: 500 }}\\r\\n\\t\\t\\tclass=\\"fullscreen-icon\\"\\r\\n\\t\\t\\ton:click={() => toggleFullScreen()}\\r\\n\\t\\t>\\r\\n\\t\\t\\t<img src=\\"images/fullscreen.svg\\" alt=\\"fullscreen button\\" />\\r\\n\\t\\t</button>\\r\\n\\t{/if}\\r\\n\\t<!--  map and places  -->\\r\\n\\t<div class=\\"map-and-places\\">\\r\\n\\t\\t{#if $misc.started && !$misc.death}\\r\\n\\t\\t\\t<button transition:fade={{ duration: 500 }} on:click={() => (mapOn = !mapOn)}>\\r\\n\\t\\t\\t\\t<img src=\\"images/map.svg\\" alt=\\"map button\\" />\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t{/if}\\r\\n\\t\\t{#if mapOn}\\r\\n\\t\\t\\t<div class=\\"places-to-go\\">\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to nearest Tavern to rest.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 0, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/tavern.svg\\" alt=\\"go tavern button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 0, duration: 100 }}>Tavern</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to nearest Town.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 100, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/town.svg\\" alt=\\"go town button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 100, duration: 100 }}>Town</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to nearest Woods.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 200, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/forest.svg\\" alt=\\"go woods button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 200, duration: 100 }}>Woods</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to nearest Harbor.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 300, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/dock.svg\\" alt=\\"go harbor button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 300, duration: 100 }}>Harbor</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to weaponsmith.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 400, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/shop1.svg\\" alt=\\"go weaponsmith button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 400, duration: 100 }}>Weaponsmith</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to spell shop.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 500, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/shop2.svg\\" alt=\\"go spell shop button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 500, duration: 100 }}>Spell Shop</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading || $game.gameData.event.inCombat}\\r\\n\\t\\t\\t\\t\\ton:click={() => emitAnswer(\\"I'll go to potion shop.\\")}\\r\\n\\t\\t\\t\\t\\ttransition:fade={{ delay: 600, duration: 100 }}\\r\\n\\t\\t\\t\\t\\t><img src=\\"images/landscape-svgs/shop3.svg\\" alt=\\"go potion shop button\\" />\\r\\n\\t\\t\\t\\t\\t<p transition:fade={{ delay: 600, duration: 100 }}>Potion Shop</p></button\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{/if}\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\"bottom-right-buttons\\">\\r\\n\\t\\t<!--  bug window button  -->\\r\\n\\t\\t<button class=\\"bug-button\\" on:click={() => ($misc.bugWindow = !$misc.bugWindow)}>\\r\\n\\t\\t\\t<img src=\\"images/bug.svg\\" alt=\\"info button\\" />\\r\\n\\t\\t</button>\\r\\n\\r\\n\\t\\t<!--  game info button  -->\\r\\n\\t\\t<button\\r\\n\\t\\t\\tclass=\\"game-info-button\\"\\r\\n\\t\\t\\ton:click={() => ($misc.showInfoWindow = !$misc.showInfoWindow)}\\r\\n\\t\\t>\\r\\n\\t\\t\\t<img src=\\"images/info.svg\\" alt=\\"info button\\" />\\r\\n\\t\\t</button>\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- game info window -->\\r\\n\\t{#if $misc.showInfoWindow}\\r\\n\\t\\t<div>\\r\\n\\t\\t\\t<div class=\\"info-window\\">\\r\\n\\t\\t\\t\\t<button on:click={() => ($misc.showInfoWindow = !$misc.showInfoWindow)}>\\r\\n\\t\\t\\t\\t\\t<img src=\\"/images/close-button.svg\\" alt=\\"close info window\\" />\\r\\n\\t\\t\\t\\t</button>\\r\\n\\r\\n\\t\\t\\t\\t<div class=\\"text-box\\">\\r\\n\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t<h3 class=\\"rules\\">About the Game</h3>\\r\\n\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tThis is an interactive role playing game where you are the player and Artificial\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tIntelligence is the storyteller of the game.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tYou'll give your own choices to events throughout the game, and AI will shape the\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstory based on your choices (and combat success).\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tYou can write your own answer too, if you got any \\"interactive chat points\\". You can\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tbuy them from potion shops and some merchants.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tTo fill your hp and mana; you can rest at a Inn, have time in a Tavern, or wonder in\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ta Town.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>There are no cooldowns for items but there are for spells.</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tIn combat, weapon score will be calculated from between 1-20, while spells are 1-23.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>Game ends if your health points drops down to 0.</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tThere is no save game functionality for now, current version is just a tastement.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t<h3 class=\\"updates\\">Potantial Updates</h3>\\r\\n\\t\\t\\t\\t\\t\\t<ul>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tGame balance will be improved, level system will be added, classes will be added.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>Armors-pendants-amulets-elixirs to be added.</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tOther worlds to be added rather than just medieval world. For example; cyberpunk,\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tmagical world, post-apocalyptic, zombie survival etc.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tOther starting conditions to be added rather than just starting as a new adventurer.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tBackground images will be more organized, and songs will change according to places.\\r\\n\\t\\t\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<span class=\\"span1\\"\\r\\n\\t\\t\\t\\t\\t>Â©2023 Solemensis. All rights reserved. <span style=\\"color:aqua\\">|</span>\\r\\n\\t\\t\\t\\t\\tulassacli@outlook.com\\r\\n\\t\\t\\t\\t\\t<span style=\\"color:aqua\\">|</span> github/Solemensis\\r\\n\\t\\t\\t\\t\\t<span style=\\"color:aqua\\">|</span>\\r\\n\\t\\t\\t\\t\\t<span>Current chatbot: gemini-pro</span>\\r\\n\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n\\t<!-- bug report window -->\\r\\n\\t{#if $misc.bugWindow}\\r\\n\\t\\t<div class=\\"bug-window\\">\\r\\n\\t\\t\\t<button class=\\"close-bug-window\\" on:click={() => ($misc.bugWindow = !$misc.bugWindow)}>\\r\\n\\t\\t\\t\\t<img src=\\"/images/close-button.svg\\" alt=\\"close bug window\\" />\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<div class=\\"bug-container\\">\\r\\n\\t\\t\\t\\t<h2>You can encounter some bugs for now, for numerous reasons.</h2>\\r\\n\\t\\t\\t\\t<p>\\r\\n\\t\\t\\t\\t\\tMail me the bugs you've encountered please, or your suggestions. I want to make it stable\\r\\n\\t\\t\\t\\t\\ttime to time.\\r\\n\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t<div class=\\"mail-box\\">\\r\\n\\t\\t\\t\\t\\t<a target=\\"_blank\\" href=\\"mailto:ulassacli@outlook.com\\">Press to mail me</a>\\r\\n\\t\\t\\t\\t\\t<p>or do it by default: ulassacli@outlook.com</p>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n\\t<!-- bug report window -->\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t/* Modal close buttons */\\r\\n\\t.close-bug-window {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tright: var(--space-lg);\\r\\n\\t\\ttop: var(--space-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\topacity: 0.7;\\r\\n\\t\\ttransition: opacity var(--transition-fast);\\r\\n\\t}\\r\\n\\t.close-bug-window:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t}\\r\\n\\t.close-bug-window img {\\r\\n\\t\\twidth: 1.5rem;\\r\\n\\t}\\r\\n\\r\\n\\t/* Bug report modal */\\r\\n\\t.bug-window {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\twidth: min(90%, 500px);\\r\\n\\t\\tmax-height: 80vh;\\r\\n\\t\\tbackground: var(--color-bg-dark);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-xl);\\r\\n\\t\\tz-index: 1001;\\r\\n\\t\\toverflow: auto;\\r\\n\\t\\tpadding: var(--space-xl);\\r\\n\\t}\\r\\n\\r\\n\\t.bug-container {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.bug-container h2 {\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tfont-size: 1.25rem;\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t}\\r\\n\\r\\n\\t.bug-container p {\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t}\\r\\n\\r\\n\\t.mail-box {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tmargin-top: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.mail-box a {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\ttext-decoration: none;\\r\\n\\t\\tfont-size: 1rem;\\r\\n\\t\\tpadding: var(--space-sm) var(--space-lg);\\r\\n\\t\\tbackground: rgba(63, 207, 142, 0.1);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\ttransition: background var(--transition-fast);\\r\\n\\t}\\r\\n\\t.mail-box a:hover {\\r\\n\\t\\tbackground: rgba(63, 207, 142, 0.2);\\r\\n\\t}\\r\\n\\r\\n\\t.mail-box p {\\r\\n\\t\\tuser-select: text;\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t}\\r\\n\\r\\n\\t/* Info window modal */\\r\\n\\t.info-window {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\twidth: min(95%, 800px);\\r\\n\\t\\tmax-height: 85vh;\\r\\n\\t\\tbackground: var(--color-bg-dark);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-xl);\\r\\n\\t\\tz-index: 1000;\\r\\n\\t\\toverflow: auto;\\r\\n\\t\\tpadding: var(--space-xl);\\r\\n\\t}\\r\\n\\r\\n\\t.info-window > button {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tright: var(--space-lg);\\r\\n\\t\\ttop: var(--space-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\topacity: 0.7;\\r\\n\\t\\ttransition: opacity var(--transition-fast);\\r\\n\\t}\\r\\n\\t.info-window > button:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t}\\r\\n\\t.info-window > button img {\\r\\n\\t\\twidth: 1.5rem;\\r\\n\\t}\\r\\n\\r\\n\\t.span1 {\\r\\n\\t\\tdisplay: block;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tmargin-top: var(--space-lg);\\r\\n\\t\\tpadding-top: var(--space-md);\\r\\n\\t\\tborder-top: 1px solid var(--color-border);\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t\\tfont-size: 0.75rem;\\r\\n\\t}\\r\\n\\r\\n\\t.text-box {\\r\\n\\t\\tdisplay: grid;\\r\\n\\t\\tgrid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\\r\\n\\t\\tgap: var(--space-xl);\\r\\n\\t\\tmargin-top: var(--space-lg);\\r\\n\\t}\\r\\n\\r\\n\\t.text-box h3 {\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tfont-size: 1.1rem;\\r\\n\\t\\tmargin-bottom: var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.rules {\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t}\\r\\n\\t.rules::before {\\r\\n\\t\\tcontent: 'âš”ï¸';\\r\\n\\t}\\r\\n\\r\\n\\t.updates {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t}\\r\\n\\t.updates::before {\\r\\n\\t\\tcontent: 'ðŸ”®';\\r\\n\\t}\\r\\n\\r\\n\\t.text-box ul {\\r\\n\\t\\tlist-style: none;\\r\\n\\t\\tpadding: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.text-box li {\\r\\n\\t\\tmargin-bottom: var(--space-sm);\\r\\n\\t\\tfont-size: 0.85rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tpadding-left: var(--space-md);\\r\\n\\t\\tposition: relative;\\r\\n\\t}\\r\\n\\r\\n\\t.text-box li::before {\\r\\n\\t\\tcontent: 'â€¢';\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tleft: 0;\\r\\n\\t\\tcolor: var(--color-accent-primary);\\r\\n\\t}\\r\\n\\r\\n\\t/* Map and places - Top left UI */\\r\\n\\t.map-and-places {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tleft: var(--space-md);\\r\\n\\t\\ttop: var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tz-index: 50;\\r\\n\\t}\\r\\n\\r\\n\\t.map-and-places > button {\\r\\n\\t\\twidth: 44px;\\r\\n\\t\\theight: 44px;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.map-and-places > button:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t}\\r\\n\\r\\n\\t.map-and-places img {\\r\\n\\t\\twidth: 24px;\\r\\n\\t\\theight: 24px;\\r\\n\\t\\topacity: 0.8;\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t\\tmargin-top: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go button {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: var(--space-xs) var(--space-sm);\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-sm);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go button:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(124, 92, 224, 0.15);\\r\\n\\t\\ttransform: translateX(4px);\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go button:disabled {\\r\\n\\t\\topacity: 0.4;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go button img {\\r\\n\\t\\twidth: 20px;\\r\\n\\t\\theight: 20px;\\r\\n\\t}\\r\\n\\r\\n\\t.places-to-go button p {\\r\\n\\t\\tfont-size: 0.75rem;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tmargin: 0;\\r\\n\\t}\\r\\n\\r\\n\\t/* Music / Fullscreen - Top right */\\r\\n\\t.song-icon,\\r\\n\\t.fullscreen-icon {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tright: var(--space-md);\\r\\n\\t\\twidth: 40px;\\r\\n\\t\\theight: 40px;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\topacity: 0.6;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tz-index: 50;\\r\\n\\t}\\r\\n\\r\\n\\t.song-icon {\\r\\n\\t\\ttop: calc(var(--space-md) + 48px);\\r\\n\\t}\\r\\n\\t.fullscreen-icon {\\r\\n\\t\\ttop: calc(var(--space-md) + 96px);\\r\\n\\t}\\r\\n\\r\\n\\t.song-icon:hover,\\r\\n\\t.fullscreen-icon:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t}\\r\\n\\r\\n\\t.song-icon img,\\r\\n\\t.fullscreen-icon img {\\r\\n\\t\\twidth: 20px;\\r\\n\\t\\theight: 20px;\\r\\n\\t}\\r\\n\\r\\n\\t/* Bottom right buttons */\\r\\n\\t.bottom-right-buttons {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tright: var(--space-md);\\r\\n\\t\\tbottom: var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tz-index: 50;\\r\\n\\t}\\r\\n\\r\\n\\t.bug-button,\\r\\n\\t.game-info-button {\\r\\n\\t\\twidth: 36px;\\r\\n\\t\\theight: 36px;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\topacity: 0.5;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.bug-button:hover,\\r\\n\\t.game-info-button:hover {\\r\\n\\t\\topacity: 1;\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t}\\r\\n\\r\\n\\t.bug-button img,\\r\\n\\t.game-info-button img {\\r\\n\\t\\twidth: 18px;\\r\\n\\t\\theight: 18px;\\r\\n\\t}\\r\\n\\r\\n\\t.wallet {\\r\\n\\t\\tmargin-top: var(--space-sm);\\r\\n\\t\\tcolor: var(--color-accent-hp) !important;\\r\\n\\t\\tuser-select: all !important;\\r\\n\\t\\tfont-size: 0.7rem;\\r\\n\\t}\\r\\n\\r\\n\\t.support {\\r\\n\\t\\tcolor: var(--color-accent-gold) !important;\\r\\n\\t}\\r\\n\\r\\n\\t/* Maintenance */\\r\\n\\t.maintenance-box {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\tbackground: var(--color-bg-dark);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\tpadding: var(--space-xl);\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tz-index: 1000;\\r\\n\\t\\tmax-width: 90vw;\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 768px) {\\r\\n\\t\\t/* Hide map, music, and fullscreen buttons on mobile */\\r\\n\\t\\t.map-and-places > button,\\r\\n\\t\\t.song-icon,\\r\\n\\t\\t.fullscreen-icon {\\r\\n\\t\\t\\tdisplay: none !important;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.bottom-right-buttons {\\r\\n\\t\\t\\tdisplay: none;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const UiButtons = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_game;
  let $misc, $$unsubscribe_misc;
  $$unsubscribe_game = subscribe(game, (value) => value);
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  createEventDispatcher();
  $$result.css.add(css$e);
  $$unsubscribe_game();
  $$unsubscribe_misc();
  return `<div>${$misc.maintenanceWindow ? `<div class="maintenance-box svelte-eknbwe">${validate_component(Maintenance, "Maintenance").$$render($$result, {}, {}, {})}</div>` : ``}  ${$misc.started ? `<button class="song-icon svelte-eknbwe" data-svelte-h="svelte-iodik4"><img src="images/music.svg" alt="music button" class="svelte-eknbwe"></button> <button class="fullscreen-icon svelte-eknbwe" data-svelte-h="svelte-waooxb"><img src="images/fullscreen.svg" alt="fullscreen button" class="svelte-eknbwe"></button>` : ``}  <div class="map-and-places svelte-eknbwe">${$misc.started && !$misc.death ? `<button class="svelte-eknbwe" data-svelte-h="svelte-16dhpn3"><img src="images/map.svg" alt="map button" class="svelte-eknbwe"></button>` : ``} ${``}</div> <div class="bottom-right-buttons svelte-eknbwe"> <button class="bug-button svelte-eknbwe" data-svelte-h="svelte-1jjg2ea"><img src="images/bug.svg" alt="info button" class="svelte-eknbwe"></button>  <button class="game-info-button svelte-eknbwe" data-svelte-h="svelte-1ku3gnl"><img src="images/info.svg" alt="info button" class="svelte-eknbwe"></button></div>  ${$misc.showInfoWindow ? `<div><div class="info-window svelte-eknbwe"><button class="svelte-eknbwe" data-svelte-h="svelte-f9h2d2"><img src="/images/close-button.svg" alt="close info window" class="svelte-eknbwe"></button> <div class="text-box svelte-eknbwe" data-svelte-h="svelte-14854zv"><div><h3 class="rules svelte-eknbwe">About the Game</h3> <ul class="svelte-eknbwe"><li class="svelte-eknbwe">This is an interactive role playing game where you are the player and Artificial
								Intelligence is the storyteller of the game.</li> <li class="svelte-eknbwe">You&#39;ll give your own choices to events throughout the game, and AI will shape the
								story based on your choices (and combat success).</li> <li class="svelte-eknbwe">You can write your own answer too, if you got any &quot;interactive chat points&quot;. You can
								buy them from potion shops and some merchants.</li> <li class="svelte-eknbwe">To fill your hp and mana; you can rest at a Inn, have time in a Tavern, or wonder in
								a Town.</li> <li class="svelte-eknbwe">There are no cooldowns for items but there are for spells.</li> <li class="svelte-eknbwe">In combat, weapon score will be calculated from between 1-20, while spells are 1-23.</li> <li class="svelte-eknbwe">Game ends if your health points drops down to 0.</li> <li class="svelte-eknbwe">There is no save game functionality for now, current version is just a tastement.</li></ul></div> <div><h3 class="updates svelte-eknbwe">Potantial Updates</h3> <ul class="svelte-eknbwe"><li class="svelte-eknbwe">Game balance will be improved, level system will be added, classes will be added.</li> <li class="svelte-eknbwe">Armors-pendants-amulets-elixirs to be added.</li> <li class="svelte-eknbwe">Other worlds to be added rather than just medieval world. For example; cyberpunk,
								magical world, post-apocalyptic, zombie survival etc.</li> <li class="svelte-eknbwe">Other starting conditions to be added rather than just starting as a new adventurer.</li> <li class="svelte-eknbwe">Background images will be more organized, and songs will change according to places.</li></ul></div></div> <span class="span1 svelte-eknbwe" data-svelte-h="svelte-1cobkv4">Â©2023 Solemensis. All rights reserved. <span style="color:aqua">|</span>
					ulassacli@outlook.com
					<span style="color:aqua">|</span> github/Solemensis
					<span style="color:aqua">|</span> <span>Current chatbot: gemini-pro</span></span></div></div>` : ``}  ${$misc.bugWindow ? `<div class="bug-window svelte-eknbwe"><button class="close-bug-window svelte-eknbwe" data-svelte-h="svelte-myivot"><img src="/images/close-button.svg" alt="close bug window" class="svelte-eknbwe"></button> <div class="bug-container svelte-eknbwe" data-svelte-h="svelte-1p0icq8"><h2 class="svelte-eknbwe">You can encounter some bugs for now, for numerous reasons.</h2> <p class="svelte-eknbwe">Mail me the bugs you&#39;ve encountered please, or your suggestions. I want to make it stable
					time to time.</p> <div class="mail-box svelte-eknbwe"><a target="_blank" href="mailto:ulassacli@outlook.com" class="svelte-eknbwe">Press to mail me</a> <p class="svelte-eknbwe">or do it by default: ulassacli@outlook.com</p></div></div></div>` : ``}  </div>`;
});
const css$d = {
  code: ".start-overlay.svelte-jbj7do.svelte-jbj7do{position:fixed;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:var(--space-md)}.start-window.svelte-jbj7do.svelte-jbj7do{width:min(90%, 800px);height:min(85vh, 700px);background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-xl);overflow:hidden;box-shadow:var(--shadow-lg);display:grid;grid-template-columns:1fr;grid-template-rows:1fr}.start-content.svelte-jbj7do.svelte-jbj7do,.character-select.svelte-jbj7do.svelte-jbj7do{grid-area:1 / 1;width:100%;height:100%;overflow-y:auto;overflow-x:hidden}.start-content.svelte-jbj7do.svelte-jbj7do{padding:var(--space-xl);display:flex;flex-direction:column;gap:var(--space-lg);height:100%}.character-select.svelte-jbj7do.svelte-jbj7do{padding:var(--space-lg);display:flex;flex-direction:column;justify-content:center}.start-header.svelte-jbj7do.svelte-jbj7do{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm);padding-bottom:var(--space-md);border-bottom:1px solid var(--color-border);flex-shrink:0}.start-header.svelte-jbj7do h1.svelte-jbj7do{font-family:'MedievalSharp', serif;font-size:clamp(1.8rem, 5vw, 2.5rem);font-weight:400;margin:0;text-align:center}.brand.svelte-jbj7do.svelte-jbj7do{color:var(--color-accent-gold)}.modes-grid.svelte-jbj7do.svelte-jbj7do{display:grid;grid-template-columns:repeat(2, 1fr);gap:var(--space-md);flex:1;align-content:center}.mode-card.svelte-jbj7do.svelte-jbj7do{display:flex;gap:var(--space-md);padding:var(--space-md);background:rgba(255, 255, 255, 0.03);border:1px solid var(--color-border);border-radius:var(--radius-lg);transition:all var(--transition-fast)}.mode-card.available.svelte-jbj7do.svelte-jbj7do:hover{background:rgba(255, 255, 255, 0.06);border-color:var(--color-border-hover);transform:translateY(-2px)}.mode-card.disabled.svelte-jbj7do.svelte-jbj7do{opacity:0.5;filter:grayscale(0.8)}.mode-icon.svelte-jbj7do.svelte-jbj7do{flex-shrink:0;width:64px;height:64px;border-radius:var(--radius-md);overflow:hidden;background:rgba(0, 0, 0, 0.2)}.mode-icon.svelte-jbj7do img.svelte-jbj7do{width:100%;height:100%;object-fit:cover}.mode-info.svelte-jbj7do.svelte-jbj7do{flex:1;display:flex;flex-direction:column;gap:var(--space-xs)}.mode-info.svelte-jbj7do h3.svelte-jbj7do{margin:0;font-size:1rem;font-weight:500;color:var(--color-accent-gold)}.mode-info.svelte-jbj7do p.svelte-jbj7do{margin:0;font-size:0.8rem;color:var(--color-text-secondary);line-height:1.4;flex:1}.play-btn.svelte-jbj7do.svelte-jbj7do{align-self:flex-end;padding:var(--space-xs) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-sm);background:rgba(255, 255, 255, 0.05);color:var(--color-text-secondary);font-size:0.8rem;cursor:pointer;transition:all var(--transition-fast)}.play-btn.primary.svelte-jbj7do.svelte-jbj7do{background:linear-gradient(135deg, var(--color-accent-primary), #9b6eff);border-color:transparent;color:white}.play-btn.primary.svelte-jbj7do.svelte-jbj7do:hover{transform:scale(1.05);box-shadow:0 4px 15px rgba(124, 92, 224, 0.4)}.play-btn.svelte-jbj7do.svelte-jbj7do:disabled{cursor:not-allowed;opacity:0.6}@media(max-width: 700px){.modes-grid.svelte-jbj7do.svelte-jbj7do{grid-template-columns:1fr}.start-content.svelte-jbj7do.svelte-jbj7do{padding:var(--space-md)}.mode-icon.svelte-jbj7do.svelte-jbj7do{width:56px;height:56px}}@media(max-width: 480px){.mode-card.svelte-jbj7do.svelte-jbj7do{flex-direction:column;align-items:center;text-align:center}.mode-info.svelte-jbj7do.svelte-jbj7do{align-items:center}.play-btn.svelte-jbj7do.svelte-jbj7do{align-self:center}}",
  map: `{"version":3,"file":"GameStartWindow.svelte","sources":["GameStartWindow.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher } from \\"svelte\\";\\nimport { fade, fly } from \\"svelte/transition\\";\\nimport CharacterClasses from \\"$lib/components/CharacterClasses.svelte\\";\\nimport { misc } from \\"../../stores\\";\\nimport { character } from \\"../../stores\\";\\nimport medievalTavernStarter from \\"$lib/gamedata/gamestarters/medievalTavernStarter.json\\";\\nfunction getRandomValueFromArray(array) {\\n    const randomIndex = Math.floor(Math.random() * array?.length);\\n    return array[randomIndex];\\n}\\nconst dispatch = createEventDispatcher();\\nfunction emitAnswer(answer) {\\n    $character.stats[0].hp = 1;\\n    dispatch(\\"emittedAnswer\\", { answer });\\n}\\nlet gameStarterPrompt = \\"\\";\\nlet gameModeSelected = false;\\nfunction handleGameMode(answer) {\\n    gameModeSelected = true;\\n    gameStarterPrompt = answer;\\n}\\n<\/script>\\r\\n\\r\\n<div class=\\"start-overlay\\" transition:fade={{ duration: 500 }}>\\r\\n\\t<div class=\\"start-window\\" in:fly={{ y: 30, duration: 600, delay: 200 }}>\\r\\n\\t\\t{#if gameModeSelected}\\r\\n\\t\\t\\t<div class=\\"character-select\\" transition:fade={{ duration: 400 }}>\\r\\n\\t\\t\\t\\t<CharacterClasses\\r\\n\\t\\t\\t\\t\\ton:emittedAnswer={() => {\\r\\n\\t\\t\\t\\t\\t\\temitAnswer(gameStarterPrompt)\\r\\n\\t\\t\\t\\t\\t}}\\r\\n\\t\\t\\t\\t/>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{:else}\\r\\n\\t\\t\\t<div class=\\"start-content\\" transition:fade={{ duration: 400 }}>\\r\\n\\t\\t\\t\\t<!-- Header -->\\r\\n\\t\\t\\t\\t<header class=\\"start-header\\">\\r\\n\\t\\t\\t\\t\\t<h1>\\r\\n\\t\\t\\t\\t\\t\\tWelcome to <span class=\\"brand\\">Chad-Rpg!</span>\\r\\n\\t\\t\\t\\t\\t</h1>\\r\\n\\t\\t\\t\\t\\t<!-- <button class=\\"info-btn\\" on:click={() => ($misc.showInfoWindow = !$misc.showInfoWindow)}>\\r\\n\\t\\t\\t\\t\\t\\tWhat is That?\\r\\n\\t\\t\\t\\t\\t</button> -->\\r\\n\\t\\t\\t\\t</header>\\r\\n\\r\\n\\t\\t\\t\\t<!-- Game Mode Grid -->\\r\\n\\t\\t\\t\\t<div class=\\"modes-grid\\">\\r\\n\\t\\t\\t\\t\\t<!-- FRPG Starter -->\\r\\n\\t\\t\\t\\t\\t<div class=\\"mode-card available\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-icon\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\"images/landscape-svgs/rpg.webp\\" alt=\\"FRPG\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-info\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3>FRPG Starter</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p>Start as a new adventurer in a fantasy role-playing world, entering a tavern.</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\"play-btn primary\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ton:click={() => handleGameMode(getRandomValueFromArray([...medievalTavernStarter]))}\\r\\n\\t\\t\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tPlay\\r\\n\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Cyberpunk Starter -->\\r\\n\\t\\t\\t\\t\\t<div class=\\"mode-card disabled\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-icon\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\"images/landscape-svgs/cyberpunk.webp\\" alt=\\"Cyberpunk\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-info\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3>Cyberpunk Starter</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p>Start as a capable human being at a neon city in a Cyberpunk world.</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\"play-btn\\" disabled>Coming Soon</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Random Starter -->\\r\\n\\t\\t\\t\\t\\t<div class=\\"mode-card disabled\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-icon\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\"images/landscape-svgs/random.svg\\" alt=\\"Random\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-info\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3>Random Starter</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p>Start the game at a random place, in a random world, while on a random event.</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\"play-btn\\" disabled>Coming Soon</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Custom Starter -->\\r\\n\\t\\t\\t\\t\\t<div class=\\"mode-card disabled\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-icon\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img src=\\"images/landscape-svgs/custom.svg\\" alt=\\"Custom\\" />\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"mode-info\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<h3>Custom Starter</h3>\\r\\n\\t\\t\\t\\t\\t\\t\\t<p>Start your own unique adventure in your own world!</p>\\r\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\"play-btn\\" disabled>Coming Soon</button>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{/if}\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.start-overlay {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tinset: 0;\\r\\n\\t\\tz-index: 100;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tpadding: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.start-window {\\r\\n\\t\\twidth: min(90%, 800px);\\r\\n\\t\\theight: min(85vh, 700px); /* Fixed height for smoother transition */\\r\\n\\t\\tbackground: var(--color-bg-card); /* Updated to match glass theme */\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-xl);\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\tbox-shadow: var(--shadow-lg);\\r\\n\\r\\n\\t\\t/* Grid layout to stack children */\\r\\n\\t\\tdisplay: grid;\\r\\n\\t\\tgrid-template-columns: 1fr;\\r\\n\\t\\tgrid-template-rows: 1fr;\\r\\n\\t}\\r\\n\\r\\n\\t.start-content,\\r\\n\\t.character-select {\\r\\n\\t\\tgrid-area: 1 / 1; /* Both occupy the same cell */\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\toverflow-y: auto;\\r\\n\\t\\toverflow-x: hidden;\\r\\n\\t}\\r\\n\\r\\n\\t.start-content {\\r\\n\\t\\tpadding: var(--space-xl);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-lg);\\r\\n\\t\\theight: 100%;\\r\\n\\t}\\r\\n\\r\\n\\t.character-select {\\r\\n\\t\\tpadding: var(--space-lg);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t/* Header */\\r\\n\\t.start-header {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding-bottom: var(--space-md);\\r\\n\\t\\tborder-bottom: 1px solid var(--color-border);\\r\\n\\t\\tflex-shrink: 0; /* Prevent header from shrinking */\\r\\n\\t}\\r\\n\\r\\n\\t.start-header h1 {\\r\\n\\t\\tfont-family: 'MedievalSharp', serif;\\r\\n\\t\\tfont-size: clamp(1.8rem, 5vw, 2.5rem);\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\ttext-align: center;\\r\\n\\t}\\r\\n\\r\\n\\t.brand {\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t}\\r\\n\\r\\n\\t.info-btn {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-sm);\\r\\n\\t\\tpadding: var(--space-xs) var(--space-md);\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.info-btn:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t}\\r\\n\\r\\n\\t/* Game Modes Grid */\\r\\n\\t.modes-grid {\\r\\n\\t\\tdisplay: grid;\\r\\n\\t\\tgrid-template-columns: repeat(2, 1fr);\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t\\tflex: 1; /* Take up remaining space */\\r\\n\\t\\talign-content: center; /* Center grid rows vertically */\\r\\n\\t}\\r\\n\\r\\n\\t.mode-card {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t\\tpadding: var(--space-md);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.03);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-card.available:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.06);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t\\ttransform: translateY(-2px);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-card.disabled {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t\\tfilter: grayscale(0.8);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-icon {\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t\\twidth: 64px;\\r\\n\\t\\theight: 64px;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\tbackground: rgba(0, 0, 0, 0.2);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-icon img {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tobject-fit: cover;\\r\\n\\t}\\r\\n\\r\\n\\t.mode-info {\\r\\n\\t\\tflex: 1;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-info h3 {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 1rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t}\\r\\n\\r\\n\\t.mode-info p {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tline-height: 1.4;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\t.play-btn {\\r\\n\\t\\talign-self: flex-end;\\r\\n\\t\\tpadding: var(--space-xs) var(--space-md);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-sm);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.play-btn.primary {\\r\\n\\t\\tbackground: linear-gradient(135deg, var(--color-accent-primary), #9b6eff);\\r\\n\\t\\tborder-color: transparent;\\r\\n\\t\\tcolor: white;\\r\\n\\t}\\r\\n\\r\\n\\t.play-btn.primary:hover {\\r\\n\\t\\ttransform: scale(1.05);\\r\\n\\t\\tbox-shadow: 0 4px 15px rgba(124, 92, 224, 0.4);\\r\\n\\t}\\r\\n\\r\\n\\t.play-btn:disabled {\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t\\topacity: 0.6;\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 700px) {\\r\\n\\t\\t.modes-grid {\\r\\n\\t\\t\\tgrid-template-columns: 1fr;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.start-content {\\r\\n\\t\\t\\tpadding: var(--space-md);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.mode-icon {\\r\\n\\t\\t\\twidth: 56px;\\r\\n\\t\\t\\theight: 56px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.mode-card {\\r\\n\\t\\t\\tflex-direction: column;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t\\ttext-align: center;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.mode-info {\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.play-btn {\\r\\n\\t\\t\\talign-self: center;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const GameStartWindow = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_character;
  $$unsubscribe_character = subscribe(character, (value) => value);
  createEventDispatcher();
  $$result.css.add(css$d);
  $$unsubscribe_character();
  return `<div class="start-overlay svelte-jbj7do"><div class="start-window svelte-jbj7do">${`<div class="start-content svelte-jbj7do"> <header class="start-header svelte-jbj7do" data-svelte-h="svelte-96hi1g"><h1 class="svelte-jbj7do">Welcome to <span class="brand svelte-jbj7do">Chad-Rpg!</span></h1> </header>  <div class="modes-grid svelte-jbj7do"> <div class="mode-card available svelte-jbj7do"><div class="mode-icon svelte-jbj7do" data-svelte-h="svelte-efolf3"><img src="images/landscape-svgs/rpg.webp" alt="FRPG" class="svelte-jbj7do"></div> <div class="mode-info svelte-jbj7do"><h3 class="svelte-jbj7do" data-svelte-h="svelte-2da0m">FRPG Starter</h3> <p class="svelte-jbj7do" data-svelte-h="svelte-stayup">Start as a new adventurer in a fantasy role-playing world, entering a tavern.</p> <button class="play-btn primary svelte-jbj7do" data-svelte-h="svelte-zwwrmy">Play</button></div></div>  <div class="mode-card disabled svelte-jbj7do" data-svelte-h="svelte-5sx8o9"><div class="mode-icon svelte-jbj7do"><img src="images/landscape-svgs/cyberpunk.webp" alt="Cyberpunk" class="svelte-jbj7do"></div> <div class="mode-info svelte-jbj7do"><h3 class="svelte-jbj7do">Cyberpunk Starter</h3> <p class="svelte-jbj7do">Start as a capable human being at a neon city in a Cyberpunk world.</p> <button class="play-btn svelte-jbj7do" disabled>Coming Soon</button></div></div>  <div class="mode-card disabled svelte-jbj7do" data-svelte-h="svelte-1kne91m"><div class="mode-icon svelte-jbj7do"><img src="images/landscape-svgs/random.svg" alt="Random" class="svelte-jbj7do"></div> <div class="mode-info svelte-jbj7do"><h3 class="svelte-jbj7do">Random Starter</h3> <p class="svelte-jbj7do">Start the game at a random place, in a random world, while on a random event.</p> <button class="play-btn svelte-jbj7do" disabled>Coming Soon</button></div></div>  <div class="mode-card disabled svelte-jbj7do" data-svelte-h="svelte-tot7qh"><div class="mode-icon svelte-jbj7do"><img src="images/landscape-svgs/custom.svg" alt="Custom" class="svelte-jbj7do"></div> <div class="mode-info svelte-jbj7do"><h3 class="svelte-jbj7do">Custom Starter</h3> <p class="svelte-jbj7do">Start your own unique adventure in your own world!</p> <button class="play-btn svelte-jbj7do" disabled>Coming Soon</button></div></div></div></div>`}</div> </div>`;
});
const css$c = {
  code: ".tooltip.svelte-1gjbbd3{position:fixed;min-width:160px;max-width:240px;background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-sm) var(--space-md);z-index:9999;pointer-events:none;box-shadow:var(--shadow-lg)}.tooltip-name.svelte-1gjbbd3{margin:0 0 var(--space-xs) 0;font-size:0.95rem;font-weight:600;color:var(--color-accent-gold);border-bottom:1px solid var(--color-border);padding-bottom:var(--space-xs)}.tooltip-stats.svelte-1gjbbd3{display:flex;flex-direction:column;gap:2px}.stat.svelte-1gjbbd3{margin:0;font-size:0.8rem;color:var(--color-text-secondary);display:flex;align-items:center;gap:var(--space-xs)}.stat.damage.svelte-1gjbbd3{color:var(--color-accent-hp)}.stat.healing.svelte-1gjbbd3{color:var(--color-accent-secondary)}.stat.mana.svelte-1gjbbd3{color:var(--color-accent-mp)}.stat.mana-cost.svelte-1gjbbd3{color:#8eb4ff}.stat.element.svelte-1gjbbd3{color:var(--color-accent-primary)}.tooltip-footer.svelte-1gjbbd3{display:flex;justify-content:space-between;align-items:center;margin-top:var(--space-xs);padding-top:var(--space-xs);border-top:1px solid var(--color-border);gap:var(--space-sm)}.type-badge.svelte-1gjbbd3{font-size:0.65rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--color-text-muted);background:rgba(255, 255, 255, 0.05);padding:2px 6px;border-radius:4px}.price.svelte-1gjbbd3{font-size:0.75rem;color:var(--color-accent-gold);font-weight:500}",
  map: `{"version":3,"file":"ItemDescWindow.svelte","sources":["ItemDescWindow.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { descWindow } from \\"../../stores\\";\\nimport { misc } from \\"../../stores\\";\\n<\/script>\\r\\n\\r\\n{#if $misc.showDescription === 'block'}\\r\\n\\t<div class=\\"tooltip\\" style=\\"left: {$misc.x}px; top: {$misc.y}px;\\">\\r\\n\\t\\t<h5 class=\\"tooltip-name\\">{$descWindow.name}</h5>\\r\\n\\r\\n\\t\\t<div class=\\"tooltip-stats\\">\\r\\n\\t\\t\\t{#if $descWindow.damage}\\r\\n\\t\\t\\t\\t<p class=\\"stat damage\\">âš”ï¸ Damage: x{$descWindow.damage}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.healing && $descWindow.type === 'healing spell'}\\r\\n\\t\\t\\t\\t<p class=\\"stat healing\\">ðŸ’š Healing: x{$descWindow.healing}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.healing && $descWindow.type === 'potion'}\\r\\n\\t\\t\\t\\t<p class=\\"stat healing\\">ðŸ’š Healing: +{$descWindow.healing}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.mana && $descWindow.type === 'potion'}\\r\\n\\t\\t\\t\\t<p class=\\"stat mana\\">ðŸ’™ Mana: +{$descWindow.mana}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.point && $descWindow.type === 'potion'}\\r\\n\\t\\t\\t\\t<p class=\\"stat\\">â­ Points: {$descWindow.point}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.armor}\\r\\n\\t\\t\\t\\t<p class=\\"stat\\">ðŸ›¡ï¸ Armor: x{$descWindow.armor}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.element}\\r\\n\\t\\t\\t\\t<p class=\\"stat element\\">âœ¨ Element: {$descWindow.element}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.weaponClass}\\r\\n\\t\\t\\t\\t<p class=\\"stat\\">ðŸ—¡ï¸ Class: {$descWindow.weaponClass}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.manaCost}\\r\\n\\t\\t\\t\\t<p class=\\"stat mana-cost\\">ðŸ’§ Mana Cost: -{$descWindow.manaCost}</p>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div class=\\"tooltip-footer\\">\\r\\n\\t\\t\\t{#if $descWindow.type}\\r\\n\\t\\t\\t\\t<span class=\\"type-badge\\">{$descWindow.type}</span>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if $descWindow.price}\\r\\n\\t\\t\\t\\t<span class=\\"price\\">ðŸª™ {$descWindow.price}</span>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\t.tooltip {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tmin-width: 160px;\\r\\n\\t\\tmax-width: 240px;\\r\\n\\t\\tbackground: var(--color-bg-card); /* Updated to match glass theme */\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tpadding: var(--space-sm) var(--space-md);\\r\\n\\t\\tz-index: 9999;\\r\\n\\t\\tpointer-events: none;\\r\\n\\t\\tbox-shadow: var(--shadow-lg);\\r\\n\\t}\\r\\n\\r\\n\\t.tooltip-name {\\r\\n\\t\\tmargin: 0 0 var(--space-xs) 0;\\r\\n\\t\\tfont-size: 0.95rem;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t\\tborder-bottom: 1px solid var(--color-border);\\r\\n\\t\\tpadding-bottom: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.tooltip-stats {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: 2px;\\r\\n\\t}\\r\\n\\r\\n\\t.stat {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.stat.damage {\\r\\n\\t\\tcolor: var(--color-accent-hp);\\r\\n\\t}\\r\\n\\t.stat.healing {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t}\\r\\n\\t.stat.mana {\\r\\n\\t\\tcolor: var(--color-accent-mp);\\r\\n\\t}\\r\\n\\t.stat.mana-cost {\\r\\n\\t\\tcolor: #8eb4ff;\\r\\n\\t}\\r\\n\\t.stat.element {\\r\\n\\t\\tcolor: var(--color-accent-primary);\\r\\n\\t}\\r\\n\\r\\n\\t.tooltip-footer {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tmargin-top: var(--space-xs);\\r\\n\\t\\tpadding-top: var(--space-xs);\\r\\n\\t\\tborder-top: 1px solid var(--color-border);\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.type-badge {\\r\\n\\t\\tfont-size: 0.65rem;\\r\\n\\t\\ttext-transform: uppercase;\\r\\n\\t\\tletter-spacing: 0.05em;\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tpadding: 2px 6px;\\r\\n\\t\\tborder-radius: 4px;\\r\\n\\t}\\r\\n\\r\\n\\t.price {\\r\\n\\t\\tfont-size: 0.75rem;\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAkDC,uBAAS,CACR,QAAQ,CAAE,KAAK,CACf,SAAS,CAAE,KAAK,CAChB,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,uBAAuB,CAAE,KAAK,IAAI,CAAC,CACnC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,aAAa,CAAE,IAAI,WAAW,CAAC,CAC/B,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,UAAU,CAAC,CACxC,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,IAAI,CACpB,UAAU,CAAE,IAAI,WAAW,CAC5B,CAEA,4BAAc,CACb,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAC7B,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,mBAAmB,CAAC,CAC/B,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CAC5C,cAAc,CAAE,IAAI,UAAU,CAC/B,CAEA,6BAAe,CACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,GACN,CAEA,oBAAM,CACL,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,IAAI,sBAAsB,CAAC,CAClC,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,UAAU,CACpB,CAEA,KAAK,sBAAQ,CACZ,KAAK,CAAE,IAAI,iBAAiB,CAC7B,CACA,KAAK,uBAAS,CACb,KAAK,CAAE,IAAI,wBAAwB,CACpC,CACA,KAAK,oBAAM,CACV,KAAK,CAAE,IAAI,iBAAiB,CAC7B,CACA,KAAK,yBAAW,CACf,KAAK,CAAE,OACR,CACA,KAAK,uBAAS,CACb,KAAK,CAAE,IAAI,sBAAsB,CAClC,CAEA,8BAAgB,CACf,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,UAAU,CAAE,IAAI,UAAU,CAAC,CAC3B,WAAW,CAAE,IAAI,UAAU,CAAC,CAC5B,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACzC,GAAG,CAAE,IAAI,UAAU,CACpB,CAEA,0BAAY,CACX,SAAS,CAAE,OAAO,CAClB,cAAc,CAAE,SAAS,CACzB,cAAc,CAAE,MAAM,CACtB,KAAK,CAAE,IAAI,kBAAkB,CAAC,CAC9B,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CACrC,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,aAAa,CAAE,GAChB,CAEA,qBAAO,CACN,SAAS,CAAE,OAAO,CAClB,KAAK,CAAE,IAAI,mBAAmB,CAAC,CAC/B,WAAW,CAAE,GACd"}`
};
const ItemDescWindow = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $misc, $$unsubscribe_misc;
  let $descWindow, $$unsubscribe_descWindow;
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_descWindow = subscribe(descWindow, (value) => $descWindow = value);
  $$result.css.add(css$c);
  $$unsubscribe_misc();
  $$unsubscribe_descWindow();
  return `${$misc.showDescription === "block" ? `<div class="tooltip svelte-1gjbbd3" style="${"left: " + escape($misc.x, true) + "px; top: " + escape($misc.y, true) + "px;"}"><h5 class="tooltip-name svelte-1gjbbd3">${escape($descWindow.name)}</h5> <div class="tooltip-stats svelte-1gjbbd3">${$descWindow.damage ? `<p class="stat damage svelte-1gjbbd3">âš”ï¸ Damage: x${escape($descWindow.damage)}</p>` : ``} ${$descWindow.healing && $descWindow.type === "healing spell" ? `<p class="stat healing svelte-1gjbbd3">ðŸ’š Healing: x${escape($descWindow.healing)}</p>` : ``} ${$descWindow.healing && $descWindow.type === "potion" ? `<p class="stat healing svelte-1gjbbd3">ðŸ’š Healing: +${escape($descWindow.healing)}</p>` : ``} ${$descWindow.mana && $descWindow.type === "potion" ? `<p class="stat mana svelte-1gjbbd3">ðŸ’™ Mana: +${escape($descWindow.mana)}</p>` : ``} ${$descWindow.point && $descWindow.type === "potion" ? `<p class="stat svelte-1gjbbd3">â­ Points: ${escape($descWindow.point)}</p>` : ``} ${$descWindow.armor ? `<p class="stat svelte-1gjbbd3">ðŸ›¡ï¸ Armor: x${escape($descWindow.armor)}</p>` : ``} ${$descWindow.element ? `<p class="stat element svelte-1gjbbd3">âœ¨ Element: ${escape($descWindow.element)}</p>` : ``} ${$descWindow.weaponClass ? `<p class="stat svelte-1gjbbd3">ðŸ—¡ï¸ Class: ${escape($descWindow.weaponClass)}</p>` : ``} ${$descWindow.manaCost ? `<p class="stat mana-cost svelte-1gjbbd3">ðŸ’§ Mana Cost: -${escape($descWindow.manaCost)}</p>` : ``}</div> <div class="tooltip-footer svelte-1gjbbd3">${$descWindow.type ? `<span class="type-badge svelte-1gjbbd3">${escape($descWindow.type)}</span>` : ``} ${$descWindow.price ? `<span class="price svelte-1gjbbd3">ðŸª™ ${escape($descWindow.price)}</span>` : ``}</div></div>` : ``}`;
});
const css$b = {
  code: ".notification-window.svelte-1fggnf2.svelte-1fggnf2{background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);padding:var(--space-xl) var(--space-xxl, 3rem);border-radius:var(--radius-lg);border:1px solid var(--color-border);box-shadow:var(--shadow-lg), 0 0 40px rgba(0, 0, 0, 0.5);position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:var(--space-lg);z-index:999;min-width:280px;max-width:90vw}.notification-window.svelte-1fggnf2 p.svelte-1fggnf2{color:var(--color-text-primary);font-size:1.1rem;font-weight:400;margin:0;line-height:1.5}.notification-window.svelte-1fggnf2 button.svelte-1fggnf2{background:var(--color-bg-card);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-sm) var(--space-xl);color:var(--color-text-primary);font-size:0.9rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);min-width:100px}.notification-window.svelte-1fggnf2 button.svelte-1fggnf2:hover{background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover);transform:translateY(-2px)}.dual-button.svelte-1fggnf2.svelte-1fggnf2{display:flex;justify-content:center;gap:var(--space-md)}.dual-button.svelte-1fggnf2 button.svelte-1fggnf2:nth-child(1){background:linear-gradient(135deg, rgba(63, 207, 142, 0.2), rgba(63, 207, 142, 0.1));border-color:var(--color-accent-secondary);color:var(--color-accent-secondary)}.dual-button.svelte-1fggnf2 button.svelte-1fggnf2:nth-child(1):hover{background:linear-gradient(135deg, rgba(63, 207, 142, 0.3), rgba(63, 207, 142, 0.15));box-shadow:0 0 12px rgba(63, 207, 142, 0.3)}.dual-button.svelte-1fggnf2 button.svelte-1fggnf2:nth-child(2){background:linear-gradient(135deg, rgba(224, 92, 124, 0.2), rgba(224, 92, 124, 0.1));border-color:var(--color-accent-hp);color:var(--color-accent-hp)}.dual-button.svelte-1fggnf2 button.svelte-1fggnf2:nth-child(2):hover{background:linear-gradient(135deg, rgba(224, 92, 124, 0.3), rgba(224, 92, 124, 0.15));box-shadow:0 0 12px rgba(224, 92, 124, 0.3)}@media(max-width: 480px){.notification-window.svelte-1fggnf2.svelte-1fggnf2{padding:var(--space-lg) var(--space-md);min-width:240px}.notification-window.svelte-1fggnf2 p.svelte-1fggnf2{font-size:0.95rem}.notification-window.svelte-1fggnf2 button.svelte-1fggnf2{padding:var(--space-sm) var(--space-md);font-size:0.85rem}}",
  map: `{"version":3,"file":"InGameWarnMsgs.svelte","sources":["InGameWarnMsgs.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../stores\\";\\nimport { character } from \\"../../stores\\";\\nimport { ui } from \\"../../stores\\";\\nimport { selectedItem } from \\"../../stores\\";\\nimport { fade } from \\"svelte/transition\\";\\nfunction buyItem(item) {\\n    $selectedItem = {};\\n    if ($character.gold < item.price)\\n        return $ui.errorWarnMsg = \\"Not enough gold.\\";\\n    $character.gold -= item.price;\\n    if (item.type == \\"weapon\\" || item.type == \\"potion\\") {\\n        $character.inventory.push(item);\\n        $character.inventory = $character.inventory;\\n        let newArray = $game.gameData.shop.filter((shopItem) => shopItem != item);\\n        $game.gameData.shop = newArray;\\n    }\\n    else if (item.type == \\"destruction spell\\" || item.type == \\"healing spell\\" || item.type == \\"unique spell\\") {\\n        $character.spells.push(item);\\n        $character.spells = $character.spells;\\n        let newArray = $game.gameData.shop.filter((shopItem) => shopItem != item);\\n        $game.gameData.shop = newArray;\\n    }\\n}\\nfunction sellItem(item) {\\n    $selectedItem = {};\\n    if (!$game.gameData.event.shopMode)\\n        return;\\n    if (!item.price) {\\n        let newArray = $character.inventory.filter((obj) => obj.name !== item.name);\\n        $character.inventory = newArray;\\n    }\\n    $character.gold += item.price;\\n    if (!item.element) {\\n        let newArray = $character.inventory.filter((obj) => obj.name !== item.name);\\n        $character.inventory = newArray;\\n    }\\n    else {\\n        let newArray = $character.spells.filter((obj) => obj.name !== item.name);\\n        $character.spells = newArray;\\n    }\\n    $selectedItem.showDescription = \\"none\\";\\n}\\n<\/script>\\r\\n\\r\\n<!-- ingame notification window (out of ui) -->\\r\\n{#if $ui.errorWarnMsg}\\r\\n\\t<div transition:fade={{ duration: 200 }} class=\\"notification-window\\">\\r\\n\\t\\t<p>\\r\\n\\t\\t\\t{$ui.errorWarnMsg}\\r\\n\\t\\t</p>\\r\\n\\t\\t<button on:click={() => ($ui.errorWarnMsg = '')}>Got it</button>\\r\\n\\t</div>\\r\\n{/if}\\r\\n<!-- ingame notification window ends here -->\\r\\n\\r\\n<!-- askbuy window (out of ui) -->\\r\\n{#if $ui.buyWarnMsg}\\r\\n\\t<div transition:fade={{ duration: 200 }} class=\\"notification-window\\">\\r\\n\\t\\t<p>\\r\\n\\t\\t\\t{$ui.buyWarnMsg}\\r\\n\\t\\t</p>\\r\\n\\t\\t<div class=\\"dual-button\\">\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\ton:click={() => {\\r\\n\\t\\t\\t\\t\\tbuyItem($selectedItem)\\r\\n\\t\\t\\t\\t\\t$ui.buyWarnMsg = ''\\r\\n\\t\\t\\t\\t}}>Yes</button\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t<button on:click={() => ($ui.buyWarnMsg = '')}>No</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n{/if}\\r\\n<!-- askbuy window -->\\r\\n\\r\\n<!-- asksell window (out of ui) -->\\r\\n{#if $ui.sellWarnMsg}\\r\\n\\t<div transition:fade={{ duration: 200 }} class=\\"notification-window\\">\\r\\n\\t\\t<p>\\r\\n\\t\\t\\t{$ui.sellWarnMsg}\\r\\n\\t\\t</p>\\r\\n\\t\\t<div class=\\"dual-button\\">\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\ton:click={() => {\\r\\n\\t\\t\\t\\t\\tsellItem($selectedItem)\\r\\n\\t\\t\\t\\t\\t$ui.sellWarnMsg = ''\\r\\n\\t\\t\\t\\t}}>Yes</button\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t<button on:click={() => ($ui.sellWarnMsg = '')}>No</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n{/if}\\r\\n\\r\\n<!-- asksell window -->\\r\\n<style>\\r\\n\\t.notification-window {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tpadding: var(--space-xl) var(--space-xxl, 3rem);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tbox-shadow: var(--shadow-lg), 0 0 40px rgba(0, 0, 0, 0.5);\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-lg);\\r\\n\\t\\tz-index: 999;\\r\\n\\t\\tmin-width: 280px;\\r\\n\\t\\tmax-width: 90vw;\\r\\n\\t}\\r\\n\\r\\n\\t.notification-window p {\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-size: 1.1rem;\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tline-height: 1.5;\\r\\n\\t}\\r\\n\\r\\n\\t.notification-window button {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tpadding: var(--space-sm) var(--space-xl);\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tmin-width: 100px;\\r\\n\\t}\\r\\n\\r\\n\\t.notification-window button:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t\\ttransform: translateY(-2px);\\r\\n\\t}\\r\\n\\r\\n\\t.dual-button {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.dual-button button:nth-child(1) {\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(63, 207, 142, 0.2), rgba(63, 207, 142, 0.1));\\r\\n\\t\\tborder-color: var(--color-accent-secondary);\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t}\\r\\n\\r\\n\\t.dual-button button:nth-child(1):hover {\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(63, 207, 142, 0.3), rgba(63, 207, 142, 0.15));\\r\\n\\t\\tbox-shadow: 0 0 12px rgba(63, 207, 142, 0.3);\\r\\n\\t}\\r\\n\\r\\n\\t.dual-button button:nth-child(2) {\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(224, 92, 124, 0.2), rgba(224, 92, 124, 0.1));\\r\\n\\t\\tborder-color: var(--color-accent-hp);\\r\\n\\t\\tcolor: var(--color-accent-hp);\\r\\n\\t}\\r\\n\\r\\n\\t.dual-button button:nth-child(2):hover {\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(224, 92, 124, 0.3), rgba(224, 92, 124, 0.15));\\r\\n\\t\\tbox-shadow: 0 0 12px rgba(224, 92, 124, 0.3);\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.notification-window {\\r\\n\\t\\t\\tpadding: var(--space-lg) var(--space-md);\\r\\n\\t\\t\\tmin-width: 240px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.notification-window p {\\r\\n\\t\\t\\tfont-size: 0.95rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.notification-window button {\\r\\n\\t\\t\\tpadding: var(--space-sm) var(--space-md);\\r\\n\\t\\t\\tfont-size: 0.85rem;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AA8FC,kDAAqB,CACpB,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,uBAAuB,CAAE,KAAK,IAAI,CAAC,CACnC,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAC/C,aAAa,CAAE,IAAI,WAAW,CAAC,CAC/B,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,UAAU,CAAE,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACzD,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,GAAG,CACT,GAAG,CAAE,GAAG,CACR,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,IAAI,UAAU,CAAC,CACpB,OAAO,CAAE,GAAG,CACZ,SAAS,CAAE,KAAK,CAChB,SAAS,CAAE,IACZ,CAEA,mCAAoB,CAAC,gBAAE,CACtB,KAAK,CAAE,IAAI,oBAAoB,CAAC,CAChC,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,GACd,CAEA,mCAAoB,CAAC,qBAAO,CAC3B,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,uBAAuB,CAAE,KAAK,IAAI,CAAC,CACnC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,aAAa,CAAE,IAAI,WAAW,CAAC,CAC/B,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,UAAU,CAAC,CACxC,KAAK,CAAE,IAAI,oBAAoB,CAAC,CAChC,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,iBAAiB,CAAC,CACtC,SAAS,CAAE,KACZ,CAEA,mCAAoB,CAAC,qBAAM,MAAO,CACjC,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,YAAY,CAAE,IAAI,oBAAoB,CAAC,CACvC,SAAS,CAAE,WAAW,IAAI,CAC3B,CAEA,0CAAa,CACZ,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,GAAG,CAAE,IAAI,UAAU,CACpB,CAEA,2BAAY,CAAC,qBAAM,WAAW,CAAC,CAAE,CAChC,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CACrF,YAAY,CAAE,IAAI,wBAAwB,CAAC,CAC3C,KAAK,CAAE,IAAI,wBAAwB,CACpC,CAEA,2BAAY,CAAC,qBAAM,WAAW,CAAC,CAAC,MAAO,CACtC,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CACtF,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAC5C,CAEA,2BAAY,CAAC,qBAAM,WAAW,CAAC,CAAE,CAChC,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CACrF,YAAY,CAAE,IAAI,iBAAiB,CAAC,CACpC,KAAK,CAAE,IAAI,iBAAiB,CAC7B,CAEA,2BAAY,CAAC,qBAAM,WAAW,CAAC,CAAC,MAAO,CACtC,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CACtF,UAAU,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAC5C,CAEA,MAAO,YAAY,KAAK,CAAE,CACzB,kDAAqB,CACpB,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,UAAU,CAAC,CACxC,SAAS,CAAE,KACZ,CAEA,mCAAoB,CAAC,gBAAE,CACtB,SAAS,CAAE,OACZ,CAEA,mCAAoB,CAAC,qBAAO,CAC3B,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,UAAU,CAAC,CACxC,SAAS,CAAE,OACZ,CACD"}`
};
const InGameWarnMsgs = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_selectedItem;
  let $$unsubscribe_character;
  let $$unsubscribe_game;
  let $ui, $$unsubscribe_ui;
  $$unsubscribe_selectedItem = subscribe(selectedItem, (value) => value);
  $$unsubscribe_character = subscribe(character, (value) => value);
  $$unsubscribe_game = subscribe(game, (value) => value);
  $$unsubscribe_ui = subscribe(ui, (value) => $ui = value);
  $$result.css.add(css$b);
  $$unsubscribe_selectedItem();
  $$unsubscribe_character();
  $$unsubscribe_game();
  $$unsubscribe_ui();
  return ` ${$ui.errorWarnMsg ? `<div class="notification-window svelte-1fggnf2"><p class="svelte-1fggnf2">${escape($ui.errorWarnMsg)}</p> <button class="svelte-1fggnf2" data-svelte-h="svelte-1jqi5pi">Got it</button></div>` : ``}   ${$ui.buyWarnMsg ? `<div class="notification-window svelte-1fggnf2"><p class="svelte-1fggnf2">${escape($ui.buyWarnMsg)}</p> <div class="dual-button svelte-1fggnf2"><button class="svelte-1fggnf2" data-svelte-h="svelte-apjy26">Yes</button> <button class="svelte-1fggnf2" data-svelte-h="svelte-w5ivu8">No</button></div></div>` : ``}   ${$ui.sellWarnMsg ? `<div class="notification-window svelte-1fggnf2"><p class="svelte-1fggnf2">${escape($ui.sellWarnMsg)}</p> <div class="dual-button svelte-1fggnf2"><button class="svelte-1fggnf2" data-svelte-h="svelte-1le7zoc">Yes</button> <button class="svelte-1fggnf2" data-svelte-h="svelte-1ua6seu">No</button></div></div>` : ``} `;
});
const css$a = {
  code: ".action-panel.svelte-ujcncv.svelte-ujcncv{min-width:200px;max-width:320px;background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-md)}.panel-header.svelte-ujcncv.svelte-ujcncv{padding:var(--space-sm) var(--space-md);display:flex;flex-direction:column;gap:var(--space-xs);background:linear-gradient(180deg, rgba(255, 255, 255, 0.04) 0%, transparent 100%);border-bottom:1px solid var(--color-border)}.stat-bar.svelte-ujcncv.svelte-ujcncv{height:24px;border-radius:12px;background:rgba(0, 0, 0, 0.3);position:relative;overflow:hidden}.stat-bar.hp.svelte-ujcncv .stat-fill.svelte-ujcncv{background:linear-gradient(90deg, var(--color-accent-hp), #ff7eb3)}.stat-bar.mp.svelte-ujcncv .stat-fill.svelte-ujcncv{background:linear-gradient(90deg, var(--color-accent-mp), var(--color-accent-primary))}.stat-bar.neutral.svelte-ujcncv .stat-fill.svelte-ujcncv{background:rgba(255, 255, 255, 0.1)}.stat-fill.svelte-ujcncv.svelte-ujcncv{height:100%;border-radius:12px;transition:width var(--transition-normal)}.stat-text.svelte-ujcncv.svelte-ujcncv{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:0.75rem;font-weight:500;text-shadow:0 1px 2px rgba(0, 0, 0, 0.5)}.panel-title.svelte-ujcncv.svelte-ujcncv{margin:0;text-align:center;font-size:0.85rem;font-weight:500;color:var(--color-accent-secondary);letter-spacing:0.05em;text-transform:uppercase}.items-grid.svelte-ujcncv.svelte-ujcncv{display:flex;flex-wrap:wrap;gap:var(--space-sm);padding:var(--space-md);max-height:180px;overflow-y:auto;justify-content:flex-start}.item-btn.svelte-ujcncv.svelte-ujcncv{width:48px;height:48px;border-radius:var(--radius-md);background:rgba(255, 255, 255, 0.05);border:1px solid var(--color-border);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);flex-shrink:0}.item-btn.svelte-ujcncv.svelte-ujcncv:hover:not(:disabled){background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover);transform:translateY(-2px);box-shadow:var(--shadow-sm)}.item-btn.svelte-ujcncv.svelte-ujcncv:active:not(:disabled){transform:translateY(0)}.item-btn.svelte-ujcncv.svelte-ujcncv:disabled{opacity:0.4;cursor:not-allowed}.item-icon.svelte-ujcncv.svelte-ujcncv{width:60%;height:60%;object-fit:contain;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));pointer-events:none}@media(max-width: 768px){.action-panel.svelte-ujcncv.svelte-ujcncv{min-width:160px;max-width:280px}.item-btn.svelte-ujcncv.svelte-ujcncv{width:42px;height:42px}.items-grid.svelte-ujcncv.svelte-ujcncv{max-height:140px}}@media(max-width: 480px){.action-panel.svelte-ujcncv.svelte-ujcncv{min-width:130px;padding:var(--space-xs)}.panel-header.svelte-ujcncv.svelte-ujcncv{padding:var(--space-xs)}.stat-bar.svelte-ujcncv.svelte-ujcncv{height:14px;border-radius:7px}.stat-fill.svelte-ujcncv.svelte-ujcncv{border-radius:7px}.stat-text.svelte-ujcncv.svelte-ujcncv{font-size:0.6rem}.panel-title.svelte-ujcncv.svelte-ujcncv{font-size:0.6rem}.item-btn.svelte-ujcncv.svelte-ujcncv{width:32px;height:32px}.items-grid.svelte-ujcncv.svelte-ujcncv{max-height:70px;gap:2px;padding:var(--space-xs)}}",
  map: '{"version":3,"file":"ActionBox.svelte","sources":["ActionBox.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../stores\\";\\nimport { ui } from \\"../../stores\\";\\nimport { selectedItem } from \\"../../stores\\";\\nimport { character } from \\"../../stores\\";\\nimport { misc } from \\"../../stores\\";\\nimport { descWindow } from \\"../../stores\\";\\nimport { coolDowns } from \\"../../stores\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nimport { fade, fly } from \\"svelte/transition\\";\\nimport { DICE_SIDES, COMBAT_TIERS, COMBAT_PROMPTS } from \\"$lib/config/constants\\";\\nconst dispatch = createEventDispatcher();\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", { answer });\\n}\\nexport let title;\\nexport let actions;\\nfunction hideWindow() {\\n    $misc.showDescription = \\"none\\";\\n}\\nfunction handleSell(prompt, item) {\\n    if ($game.gameData.event?.shopMode) {\\n        $selectedItem = {};\\n        $selectedItem = item;\\n        $ui.sellWarnMsg = prompt;\\n    }\\n}\\n$: hpPercentage = $character.stats[0].hp / $character.stats[0].maxHp * 100;\\n$: mpPercentage = $character.stats[0].mp / $character.stats[0].maxMp * 100;\\nfunction handleMouseMove(event, item) {\\n    $misc.showDescription = \\"block\\";\\n    $misc.x = event.clientX + 10;\\n    $misc.y = event.clientY - 40;\\n    $descWindow.name = item?.name;\\n    $descWindow.damage = item?.damage;\\n    $descWindow.type = item?.type;\\n    $descWindow.healing = item?.healing;\\n    $descWindow.mana = item?.mana;\\n    $descWindow.point = item?.point;\\n    $descWindow.armor = item?.armor;\\n    $descWindow.element = item?.element;\\n    $descWindow.weaponClass = item?.weaponClass;\\n    $descWindow.manaCost = item?.manaCost;\\n    $descWindow.price = item?.price;\\n    $descWindow.amount = item?.amount;\\n}\\nfunction useItem(item) {\\n    $selectedItem = {};\\n    const { type, name, damage, manaCost, healing, mana, cooldown, point } = item;\\n    const { mp, maxMp, hp, maxHp } = $character.stats[0];\\n    const { inCombat, shopMode } = $game.gameData.event || {};\\n    if (type === \\"weapon\\") {\\n        if (shopMode)\\n            return;\\n        if (!damage)\\n            return $ui.errorWarnMsg = \\"You can only sell that item.\\";\\n        if (!inCombat)\\n            return $ui.errorWarnMsg = \\"You are not in a combat.\\";\\n        $selectedItem.combatScore = Math.floor(calculateCombatScore(damage, type));\\n        const isVictory = $game.gameData.enemy?.enemyHp && $game.gameData.enemy.enemyHp <= $selectedItem.combatScore;\\n        if ($selectedItem.combatScore >= COMBAT_TIERS.POOR.min && $selectedItem.combatScore < COMBAT_TIERS.POOR.max) {\\n            $selectedItem.prompt = isVictory ? COMBAT_PROMPTS.VICTORY(name) : COMBAT_PROMPTS.POOR(name);\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.DECENT.min && $selectedItem.combatScore < COMBAT_TIERS.DECENT.max) {\\n            $selectedItem.prompt = isVictory ? COMBAT_PROMPTS.VICTORY(name) : COMBAT_PROMPTS.DECENT(name);\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.GREAT.min && $selectedItem.combatScore < COMBAT_TIERS.GREAT.max) {\\n            $selectedItem.prompt = isVictory ? COMBAT_PROMPTS.VICTORY(name) : COMBAT_PROMPTS.GREAT(name);\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.EPIC.min) {\\n            $selectedItem.prompt = COMBAT_PROMPTS.EPIC(name);\\n        }\\n        $selectedItem.name = name;\\n        $selectedItem.damage = damage;\\n        $selectedItem.healing = void 0;\\n        return;\\n    }\\n    if (type === \\"destruction spell\\") {\\n        if (shopMode)\\n            return;\\n        if (!damage)\\n            return $ui.errorWarnMsg = \\"You can only sell that item.\\";\\n        if (!inCombat)\\n            return $ui.errorWarnMsg = \\"You are not in a combat.\\";\\n        if (mp < manaCost)\\n            return $ui.errorWarnMsg = \\"You have not enough mana.\\";\\n        if ($coolDowns[name] && $coolDowns[name] < cooldown)\\n            return $ui.errorWarnMsg = \\"This spell is on cooldown. \\" + $coolDowns[name] + \\"/\\" + cooldown;\\n        $coolDowns[name] = cooldown;\\n        $selectedItem.combatScore = Math.floor(calculateCombatScore(damage, type));\\n        const isVictorySpell = $game.gameData.enemy?.enemyHp && $game.gameData.enemy.enemyHp <= $selectedItem.combatScore;\\n        if ($selectedItem.combatScore >= COMBAT_TIERS.POOR.min && $selectedItem.combatScore < COMBAT_TIERS.POOR.max) {\\n            $selectedItem.prompt = isVictorySpell ? `Attack with ${name} spell! (this blow destroys the enemy!)` : `Attack with ${name} spell! (player lands a weak attack)`;\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.DECENT.min && $selectedItem.combatScore < COMBAT_TIERS.DECENT.max) {\\n            $selectedItem.prompt = isVictorySpell ? `Attack with ${name} spell! (this blow destroys the enemy!)` : `Attack with ${name} spell! (gives some damage)`;\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.GREAT.min && $selectedItem.combatScore < COMBAT_TIERS.GREAT.max) {\\n            $selectedItem.prompt = isVictorySpell ? `Attack with ${name} spell! (this blow destroys the enemy!)` : `Attack with ${name} spell! (great damage!)`;\\n        }\\n        else if ($selectedItem.combatScore >= COMBAT_TIERS.EPIC.min) {\\n            $selectedItem.prompt = `Attack with ${name} spell! (devastating attack!)`;\\n        }\\n        $selectedItem.name = name;\\n        $selectedItem.damage = damage;\\n        $selectedItem.healing = void 0;\\n        $selectedItem.manaCost = manaCost;\\n        return;\\n    }\\n    if (type === \\"healing spell\\") {\\n        if (shopMode)\\n            return;\\n        if (hp >= maxHp)\\n            return $ui.errorWarnMsg = \\"You\'re at full health.\\";\\n        if (mp < manaCost)\\n            return $ui.errorWarnMsg = \\"You have not enough mana.\\";\\n        if ($coolDowns[name] && $coolDowns[name] < cooldown)\\n            return $ui.errorWarnMsg = \\"This spell is on cooldown. \\" + $coolDowns[name] + \\"/\\" + cooldown;\\n        if (!inCombat) {\\n            emitAnswer(`Heal myself with ${name} spell by ${calculateCombatScore(healing, type)} amount.`);\\n            $character.stats[0].hp += calculateCombatScore(healing, type);\\n            if ($character.stats[0].hp > $character.stats[0].maxHp) {\\n                $character.stats[0].hp = $character.stats[0].maxHp;\\n            }\\n            return;\\n        }\\n        $coolDowns[name] = cooldown;\\n        $selectedItem.combatScore = calculateCombatScore(healing, type);\\n        $selectedItem.prompt = `Heal myself with ${name} spell by ${$selectedItem.combatScore} amount.`;\\n        $selectedItem.name = name;\\n        $selectedItem.healing = healing;\\n        $selectedItem.damage = void 0;\\n        $selectedItem.manaCost = manaCost;\\n        return;\\n    }\\n    if (type === \\"potion\\") {\\n        if (shopMode)\\n            return;\\n        if (healing && hp >= maxHp)\\n            return $ui.errorWarnMsg = \\"You\'re at full health.\\";\\n        if (inCombat)\\n            return $ui.errorWarnMsg = \\"You can\'t drink in combat.\\";\\n        if (healing && hp < maxHp) {\\n            $character.stats[0].hp += parseInt(healing);\\n            if ($character.stats[0].hp > $character.stats[0].maxHp) {\\n                $character.stats[0].hp = $character.stats[0].maxHp;\\n            }\\n            let newArray = $character.inventory.filter((obj) => obj.name !== name);\\n            $character.inventory = newArray;\\n            hideWindow();\\n            return;\\n        }\\n        if (mana && mp >= maxMp)\\n            return $ui.errorWarnMsg = \\"You\'re at full mana.\\";\\n        if (mana && mp < maxMp) {\\n            $character.stats[0].mp += parseInt(mana);\\n            if ($character.stats[0].mp > $character.stats[0].maxMp) {\\n                $character.stats[0].mp = $character.stats[0].maxMp;\\n            }\\n            let newArray = $character.inventory.filter((obj) => obj.name !== name);\\n            $character.inventory = newArray;\\n            hideWindow();\\n            return;\\n        }\\n        if (point) {\\n            $misc.interactivePoints += parseInt(point);\\n            let newArray = $character.inventory.filter((obj) => obj.name !== name);\\n            $character.inventory = newArray;\\n            hideWindow();\\n        }\\n    }\\n}\\nfunction calculateCombatScore(damage, type) {\\n    let dice;\\n    if (type == \\"weapon\\") {\\n        dice = Math.floor(Math.random() * DICE_SIDES.WEAPON) + 1;\\n    }\\n    else {\\n        dice = Math.floor(Math.random() * DICE_SIDES.SPELL) + 1;\\n    }\\n    $misc.diceNumber = dice;\\n    return damage * dice;\\n}\\n<\/script>\\r\\n\\r\\n<div class=\\"action-panel\\" in:fly={{ y: 30, duration: 400, delay: 100 }}>\\r\\n\\t<!-- Header with stats -->\\r\\n\\t<div class=\\"panel-header\\">\\r\\n\\t\\t{#if title === \'Inventory\'}\\r\\n\\t\\t\\t<div class=\\"stat-bar hp\\">\\r\\n\\t\\t\\t\\t<div class=\\"stat-fill\\" style=\\"width: {hpPercentage}%\\" />\\r\\n\\t\\t\\t\\t<span class=\\"stat-text\\">{$character.stats[0].hp}/{$character.stats[0].maxHp}</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{:else if title === \'Spells\'}\\r\\n\\t\\t\\t<div class=\\"stat-bar mp\\">\\r\\n\\t\\t\\t\\t<div class=\\"stat-fill\\" style=\\"width: {mpPercentage}%\\" />\\r\\n\\t\\t\\t\\t<span class=\\"stat-text\\">{$character.stats[0].mp}/{$character.stats[0].maxMp}</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{:else}\\r\\n\\t\\t\\t<div class=\\"stat-bar neutral\\">\\r\\n\\t\\t\\t\\t<div class=\\"stat-fill\\" style=\\"width: 100%\\" />\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t{/if}\\r\\n\\t\\t<h3 class=\\"panel-title\\">{title}</h3>\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- Items Grid -->\\r\\n\\t<div class=\\"items-grid\\">\\r\\n\\t\\t{#each actions as action, i}\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\tclass=\\"item-btn\\"\\r\\n\\t\\t\\t\\tdisabled={$misc.loading || $misc.death}\\r\\n\\t\\t\\t\\ton:click={() => {\\r\\n\\t\\t\\t\\t\\tuseItem(action)\\r\\n\\t\\t\\t\\t\\thandleSell(`Sell ${action.name}?`, action)\\r\\n\\t\\t\\t\\t}}\\r\\n\\t\\t\\t\\ton:mouseenter={(e) => handleMouseMove(e, action)}\\r\\n\\t\\t\\t\\ton:mousemove={(e) => handleMouseMove(e, action)}\\r\\n\\t\\t\\t\\ton:mouseleave={hideWindow}\\r\\n\\t\\t\\t\\tin:fade={{ duration: 200, delay: i * 50 }}\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t\\t{#if action.type === \'weapon\'}\\r\\n\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"/images/{action.weaponClass}.svg\\" alt={action.name} />\\r\\n\\t\\t\\t\\t{:else if action.type === \'potion\'}\\r\\n\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"/images/potion.svg\\" alt={action.name} />\\r\\n\\t\\t\\t\\t{:else if action.element}\\r\\n\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"/images/{action.element}.svg\\" alt={action.name} />\\r\\n\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"/images/item.svg\\" alt={action.name} />\\r\\n\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t{/each}\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.action-panel {\\r\\n\\t\\tmin-width: 200px;\\r\\n\\t\\tmax-width: 320px;\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\tbox-shadow: var(--shadow-md);\\r\\n\\t}\\r\\n\\r\\n\\t.panel-header {\\r\\n\\t\\tpadding: var(--space-sm) var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t\\tbackground: linear-gradient(180deg, rgba(255, 255, 255, 0.04) 0%, transparent 100%);\\r\\n\\t\\tborder-bottom: 1px solid var(--color-border);\\r\\n\\t}\\r\\n\\r\\n\\t.stat-bar {\\r\\n\\t\\theight: 24px;\\r\\n\\t\\tborder-radius: 12px;\\r\\n\\t\\tbackground: rgba(0, 0, 0, 0.3);\\r\\n\\t\\tposition: relative;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t}\\r\\n\\r\\n\\t.stat-bar.hp .stat-fill {\\r\\n\\t\\tbackground: linear-gradient(90deg, var(--color-accent-hp), #ff7eb3);\\r\\n\\t}\\r\\n\\r\\n\\t.stat-bar.mp .stat-fill {\\r\\n\\t\\tbackground: linear-gradient(90deg, var(--color-accent-mp), var(--color-accent-primary));\\r\\n\\t}\\r\\n\\r\\n\\t.stat-bar.neutral .stat-fill {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t}\\r\\n\\r\\n\\t.stat-fill {\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tborder-radius: 12px;\\r\\n\\t\\ttransition: width var(--transition-normal);\\r\\n\\t}\\r\\n\\r\\n\\t.stat-text {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\tfont-size: 0.75rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\ttext-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\\r\\n\\t}\\r\\n\\r\\n\\t.panel-title {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tfont-size: 0.85rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tletter-spacing: 0.05em;\\r\\n\\t\\ttext-transform: uppercase;\\r\\n\\t}\\r\\n\\r\\n\\t.items-grid {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-wrap: wrap;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: var(--space-md);\\r\\n\\t\\tmax-height: 180px;\\r\\n\\t\\toverflow-y: auto;\\r\\n\\t\\tjustify-content: flex-start;\\r\\n\\t}\\r\\n\\r\\n\\t.item-btn {\\r\\n\\t\\twidth: 48px;\\r\\n\\t\\theight: 48px;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.item-btn:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t\\ttransform: translateY(-2px);\\r\\n\\t\\tbox-shadow: var(--shadow-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.item-btn:active:not(:disabled) {\\r\\n\\t\\ttransform: translateY(0);\\r\\n\\t}\\r\\n\\r\\n\\t.item-btn:disabled {\\r\\n\\t\\topacity: 0.4;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.item-icon {\\r\\n\\t\\twidth: 60%;\\r\\n\\t\\theight: 60%;\\r\\n\\t\\tobject-fit: contain;\\r\\n\\t\\tfilter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\\r\\n\\t\\tpointer-events: none;\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 768px) {\\r\\n\\t\\t.action-panel {\\r\\n\\t\\t\\tmin-width: 160px;\\r\\n\\t\\t\\tmax-width: 280px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.item-btn {\\r\\n\\t\\t\\twidth: 42px;\\r\\n\\t\\t\\theight: 42px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.items-grid {\\r\\n\\t\\t\\tmax-height: 140px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.action-panel {\\r\\n\\t\\t\\tmin-width: 130px;\\r\\n\\t\\t\\tpadding: var(--space-xs);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.panel-header {\\r\\n\\t\\t\\tpadding: var(--space-xs);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t/* Thinner HP/MP bars on mobile */\\r\\n\\t\\t.stat-bar {\\r\\n\\t\\t\\theight: 14px;\\r\\n\\t\\t\\tborder-radius: 7px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.stat-fill {\\r\\n\\t\\t\\tborder-radius: 7px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.stat-text {\\r\\n\\t\\t\\tfont-size: 0.6rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.panel-title {\\r\\n\\t\\t\\tfont-size: 0.6rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.item-btn {\\r\\n\\t\\t\\twidth: 32px;\\r\\n\\t\\t\\theight: 32px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.items-grid {\\r\\n\\t\\t\\tmax-height: 70px;\\r\\n\\t\\t\\tgap: 2px;\\r\\n\\t\\t\\tpadding: var(--space-xs);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}'
};
const ActionBox = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let hpPercentage;
  let mpPercentage;
  let $misc, $$unsubscribe_misc;
  let $character, $$unsubscribe_character;
  let $$unsubscribe_ui;
  let $$unsubscribe_selectedItem;
  let $$unsubscribe_coolDowns;
  let $$unsubscribe_game;
  let $$unsubscribe_descWindow;
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_character = subscribe(character, (value) => $character = value);
  $$unsubscribe_ui = subscribe(ui, (value) => value);
  $$unsubscribe_selectedItem = subscribe(selectedItem, (value) => value);
  $$unsubscribe_coolDowns = subscribe(coolDowns, (value) => value);
  $$unsubscribe_game = subscribe(game, (value) => value);
  $$unsubscribe_descWindow = subscribe(descWindow, (value) => value);
  createEventDispatcher();
  let { title } = $$props;
  let { actions } = $$props;
  if ($$props.title === void 0 && $$bindings.title && title !== void 0) $$bindings.title(title);
  if ($$props.actions === void 0 && $$bindings.actions && actions !== void 0) $$bindings.actions(actions);
  $$result.css.add(css$a);
  hpPercentage = $character.stats[0].hp / $character.stats[0].maxHp * 100;
  mpPercentage = $character.stats[0].mp / $character.stats[0].maxMp * 100;
  $$unsubscribe_misc();
  $$unsubscribe_character();
  $$unsubscribe_ui();
  $$unsubscribe_selectedItem();
  $$unsubscribe_coolDowns();
  $$unsubscribe_game();
  $$unsubscribe_descWindow();
  return `<div class="action-panel svelte-ujcncv"> <div class="panel-header svelte-ujcncv">${title === "Inventory" ? `<div class="stat-bar hp svelte-ujcncv"><div class="stat-fill svelte-ujcncv" style="${"width: " + escape(hpPercentage, true) + "%"}"></div> <span class="stat-text svelte-ujcncv">${escape($character.stats[0].hp)}/${escape($character.stats[0].maxHp)}</span></div>` : `${title === "Spells" ? `<div class="stat-bar mp svelte-ujcncv"><div class="stat-fill svelte-ujcncv" style="${"width: " + escape(mpPercentage, true) + "%"}"></div> <span class="stat-text svelte-ujcncv">${escape($character.stats[0].mp)}/${escape($character.stats[0].maxMp)}</span></div>` : `<div class="stat-bar neutral svelte-ujcncv" data-svelte-h="svelte-12db248"><div class="stat-fill svelte-ujcncv" style="width: 100%"></div></div>`}`} <h3 class="panel-title svelte-ujcncv">${escape(title)}</h3></div>  <div class="items-grid svelte-ujcncv">${each(actions, (action, i) => {
    return `<button class="item-btn svelte-ujcncv" ${$misc.loading || $misc.death ? "disabled" : ""}>${action.type === "weapon" ? `<img class="item-icon svelte-ujcncv" src="${"/images/" + escape(action.weaponClass, true) + ".svg"}"${add_attribute("alt", action.name, 0)}>` : `${action.type === "potion" ? `<img class="item-icon svelte-ujcncv" src="/images/potion.svg"${add_attribute("alt", action.name, 0)}>` : `${action.element ? `<img class="item-icon svelte-ujcncv" src="${"/images/" + escape(action.element, true) + ".svg"}"${add_attribute("alt", action.name, 0)}>` : `<img class="item-icon svelte-ujcncv" src="/images/item.svg"${add_attribute("alt", action.name, 0)}>`}`}`} </button>`;
  })}</div> </div>`;
});
const css$9 = {
  code: ".choices-container.svelte-iik609.svelte-iik609{display:flex;flex-direction:column;gap:var(--space-sm);width:100%;height:100%;padding:var(--space-md);background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg)}.choices-list.svelte-iik609.svelte-iik609{display:flex;flex-direction:column;gap:var(--space-xs)}.choice-btn.svelte-iik609.svelte-iik609{display:flex;align-items:center;gap:var(--space-md);width:100%;padding:var(--space-sm) var(--space-md);background:var(--color-bg-glass);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);text-align:left}.choice-btn.svelte-iik609.svelte-iik609:hover:not(:disabled){background:rgba(124, 92, 224, 0.15);border-color:rgba(124, 92, 224, 0.4);transform:translateX(4px)}.choice-btn.svelte-iik609.svelte-iik609:active:not(:disabled){transform:translateX(2px) scale(0.99)}.choice-btn.svelte-iik609.svelte-iik609:disabled{opacity:0.5;cursor:not-allowed}.choice-indicator.svelte-iik609.svelte-iik609{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));border-radius:var(--radius-sm);font-size:0.8rem;font-weight:600;color:white;flex-shrink:0}.choice-text.svelte-iik609.svelte-iik609{font-size:0.9rem;color:var(--color-text-primary);line-height:1.4}.custom-input.svelte-iik609.svelte-iik609{display:flex;gap:var(--space-sm);padding:var(--space-xs);background:var(--color-bg-card);border:1px solid var(--color-border);border-radius:var(--radius-lg)}.input-wrapper.svelte-iik609.svelte-iik609{flex:1;display:flex;align-items:center;gap:var(--space-sm);padding:0 var(--space-sm)}.input-wrapper.svelte-iik609 input.svelte-iik609{flex:1;background:transparent;border:none;outline:none;font-size:0.875rem;color:var(--color-text-primary);padding:var(--space-sm) 0}.input-wrapper.svelte-iik609 input.svelte-iik609::placeholder{color:var(--color-text-muted)}.points-badge.svelte-iik609.svelte-iik609{display:flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 var(--space-xs);background:var(--color-accent-gold);border-radius:12px;font-size:0.7rem;font-weight:600;color:#1a1a1a}.submit-btn.svelte-iik609.svelte-iik609{display:flex;align-items:center;justify-content:center;width:44px;height:44px;background:linear-gradient(135deg, var(--color-accent-primary), #9b6eff);border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);flex-shrink:0}.submit-btn.svelte-iik609.svelte-iik609:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 20px rgba(124, 92, 224, 0.4)}.submit-btn.svelte-iik609.svelte-iik609:active:not(:disabled){transform:scale(0.98)}.submit-btn.svelte-iik609.svelte-iik609:disabled{opacity:0.4;cursor:not-allowed}.submit-btn.svelte-iik609 svg.svelte-iik609{color:white}@media(max-width: 768px){.choice-btn.svelte-iik609.svelte-iik609{padding:var(--space-sm);gap:var(--space-sm)}.choice-indicator.svelte-iik609.svelte-iik609{width:24px;height:24px;font-size:0.7rem}.choice-text.svelte-iik609.svelte-iik609{font-size:0.85rem}.submit-btn.svelte-iik609.svelte-iik609{width:40px;height:40px}}@media(max-width: 480px){.choices-container.svelte-iik609.svelte-iik609{padding:var(--space-sm)}.choice-btn.svelte-iik609.svelte-iik609{padding:var(--space-xs) var(--space-sm)}.choice-indicator.svelte-iik609.svelte-iik609{width:22px;height:22px;font-size:0.65rem}.choice-text.svelte-iik609.svelte-iik609{font-size:0.8rem}.custom-input.svelte-iik609.svelte-iik609{padding:2px;gap:4px}.input-wrapper.svelte-iik609.svelte-iik609{padding:0 var(--space-xs)}.input-wrapper.svelte-iik609 input.svelte-iik609{font-size:0.75rem;padding:var(--space-xs) 0}.submit-btn.svelte-iik609.svelte-iik609{width:34px;height:34px}.points-badge.svelte-iik609.svelte-iik609{min-width:20px;height:20px;font-size:0.65rem}}",
  map: `{"version":3,"file":"PickChoiceUI.svelte","sources":["PickChoiceUI.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../../stores\\";\\nimport { misc } from \\"../../../stores\\";\\nimport { ui } from \\"../../../stores\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nimport { fade, fly } from \\"svelte/transition\\";\\nconst dispatch = createEventDispatcher();\\nlet delay = 0;\\nfunction getDelayTime() {\\n    delay += 80;\\n    return { delay };\\n}\\nfunction emitAnswer(answer) {\\n    if (!answer)\\n        return;\\n    dispatch(\\"emittedAnswer\\", { answer });\\n    delay = 0;\\n}\\nfunction emitInteractiveAnswer(answer) {\\n    if (!answer)\\n        return;\\n    if (answer.includes(\\"sex\\") || answer.includes(\\"kill\\")) {\\n        $ui.errorWarnMsg = \\"There's a flawed word in your answer.\\";\\n        return;\\n    }\\n    if ($misc.interactivePoints == 0) {\\n        $ui.errorWarnMsg = \\"0 chat points left. Buy from merchants or win battles.\\";\\n        return;\\n    }\\n    $misc.interactivePoints -= 1;\\n    dispatch(\\"emittedAnswer\\", { answer });\\n    delay = 0;\\n}\\n<\/script>\\r\\n\\r\\n<div class=\\"choices-panel choices-container\\">\\r\\n\\t<!-- Choice Buttons -->\\r\\n\\t<div class=\\"choices-list\\">\\r\\n\\t\\t{#each $game.gameData.choices as choice, i}\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\tclass=\\"choice-btn\\"\\r\\n\\t\\t\\t\\tdisabled={$misc.loading}\\r\\n\\t\\t\\t\\tin:fly={{ y: 15, duration: 300, delay: i * 80 }}\\r\\n\\t\\t\\t\\ton:click={() => emitAnswer(choice)}\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t\\t<span class=\\"choice-indicator\\">{i + 1}</span>\\r\\n\\t\\t\\t\\t<span class=\\"choice-text\\">{choice}</span>\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t{/each}\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- Custom Input -->\\r\\n\\t{#if $game.gameData.choices?.length >= 1}\\r\\n\\t\\t<div class=\\"custom-input\\" in:fade={{ duration: 300, delay: 300 }}>\\r\\n\\t\\t\\t<div class=\\"input-wrapper\\">\\r\\n\\t\\t\\t\\t<input\\r\\n\\t\\t\\t\\t\\ttype=\\"text\\"\\r\\n\\t\\t\\t\\t\\tplaceholder=\\"Write your own action...\\"\\r\\n\\t\\t\\t\\t\\tbind:value={$misc.query}\\r\\n\\t\\t\\t\\t\\ton:keydown={(e) => e.key === 'Enter' && emitInteractiveAnswer($misc.query)}\\r\\n\\t\\t\\t\\t/>\\r\\n\\t\\t\\t\\t<span class=\\"points-badge\\">{$misc.interactivePoints}</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\tclass=\\"submit-btn\\"\\r\\n\\t\\t\\t\\tdisabled={$misc.loading || !$misc.query}\\r\\n\\t\\t\\t\\ton:click={() => emitInteractiveAnswer($misc.query)}\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t\\t<svg\\r\\n\\t\\t\\t\\t\\twidth=\\"20\\"\\r\\n\\t\\t\\t\\t\\theight=\\"20\\"\\r\\n\\t\\t\\t\\t\\tviewBox=\\"0 0 24 24\\"\\r\\n\\t\\t\\t\\t\\tfill=\\"none\\"\\r\\n\\t\\t\\t\\t\\tstroke=\\"currentColor\\"\\r\\n\\t\\t\\t\\t\\tstroke-width=\\"2\\"\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t<path d=\\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\\" />\\r\\n\\t\\t\\t\\t</svg>\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.choices-container {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tpadding: var(--space-md);\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t}\\r\\n\\r\\n\\t.choices-list {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.choice-btn {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tpadding: var(--space-sm) var(--space-md);\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\ttext-align: left;\\r\\n\\t}\\r\\n\\r\\n\\t.choice-btn:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(124, 92, 224, 0.15);\\r\\n\\t\\tborder-color: rgba(124, 92, 224, 0.4);\\r\\n\\t\\ttransform: translateX(4px);\\r\\n\\t}\\r\\n\\r\\n\\t.choice-btn:active:not(:disabled) {\\r\\n\\t\\ttransform: translateX(2px) scale(0.99);\\r\\n\\t}\\r\\n\\r\\n\\t.choice-btn:disabled {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.choice-indicator {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\twidth: 28px;\\r\\n\\t\\theight: 28px;\\r\\n\\t\\tbackground: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));\\r\\n\\t\\tborder-radius: var(--radius-sm);\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\tcolor: white;\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.choice-text {\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tline-height: 1.4;\\r\\n\\t}\\r\\n\\r\\n\\t/* Custom Input */\\r\\n\\t.custom-input {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: var(--space-xs);\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t}\\r\\n\\r\\n\\t.input-wrapper {\\r\\n\\t\\tflex: 1;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: 0 var(--space-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.input-wrapper input {\\r\\n\\t\\tflex: 1;\\r\\n\\t\\tbackground: transparent;\\r\\n\\t\\tborder: none;\\r\\n\\t\\toutline: none;\\r\\n\\t\\tfont-size: 0.875rem;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tpadding: var(--space-sm) 0;\\r\\n\\t}\\r\\n\\r\\n\\t.input-wrapper input::placeholder {\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t}\\r\\n\\r\\n\\t.points-badge {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tmin-width: 24px;\\r\\n\\t\\theight: 24px;\\r\\n\\t\\tpadding: 0 var(--space-xs);\\r\\n\\t\\tbackground: var(--color-accent-gold);\\r\\n\\t\\tborder-radius: 12px;\\r\\n\\t\\tfont-size: 0.7rem;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\tcolor: #1a1a1a;\\r\\n\\t}\\r\\n\\r\\n\\t.submit-btn {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\twidth: 44px;\\r\\n\\t\\theight: 44px;\\r\\n\\t\\tbackground: linear-gradient(135deg, var(--color-accent-primary), #9b6eff);\\r\\n\\t\\tborder: none;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.submit-btn:hover:not(:disabled) {\\r\\n\\t\\ttransform: scale(1.05);\\r\\n\\t\\tbox-shadow: 0 4px 20px rgba(124, 92, 224, 0.4);\\r\\n\\t}\\r\\n\\r\\n\\t.submit-btn:active:not(:disabled) {\\r\\n\\t\\ttransform: scale(0.98);\\r\\n\\t}\\r\\n\\r\\n\\t.submit-btn:disabled {\\r\\n\\t\\topacity: 0.4;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.submit-btn svg {\\r\\n\\t\\tcolor: white;\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 768px) {\\r\\n\\t\\t.choice-btn {\\r\\n\\t\\t\\tpadding: var(--space-sm);\\r\\n\\t\\t\\tgap: var(--space-sm);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.choice-indicator {\\r\\n\\t\\t\\twidth: 24px;\\r\\n\\t\\t\\theight: 24px;\\r\\n\\t\\t\\tfont-size: 0.7rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.choice-text {\\r\\n\\t\\t\\tfont-size: 0.85rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.submit-btn {\\r\\n\\t\\t\\twidth: 40px;\\r\\n\\t\\t\\theight: 40px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.choices-container {\\r\\n\\t\\t\\tpadding: var(--space-sm);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.choice-btn {\\r\\n\\t\\t\\tpadding: var(--space-xs) var(--space-sm);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.choice-indicator {\\r\\n\\t\\t\\twidth: 22px;\\r\\n\\t\\t\\theight: 22px;\\r\\n\\t\\t\\tfont-size: 0.65rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.choice-text {\\r\\n\\t\\t\\tfont-size: 0.8rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t/* Thinner custom input on mobile */\\r\\n\\t\\t.custom-input {\\r\\n\\t\\t\\tpadding: 2px;\\r\\n\\t\\t\\tgap: 4px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.input-wrapper {\\r\\n\\t\\t\\tpadding: 0 var(--space-xs);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.input-wrapper input {\\r\\n\\t\\t\\tfont-size: 0.75rem;\\r\\n\\t\\t\\tpadding: var(--space-xs) 0;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.submit-btn {\\r\\n\\t\\t\\twidth: 34px;\\r\\n\\t\\t\\theight: 34px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.points-badge {\\r\\n\\t\\t\\tmin-width: 20px;\\r\\n\\t\\t\\theight: 20px;\\r\\n\\t\\t\\tfont-size: 0.65rem;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const PickChoiceUI = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $misc, $$unsubscribe_misc;
  let $$unsubscribe_ui;
  let $game, $$unsubscribe_game;
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_ui = subscribe(ui, (value) => value);
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  createEventDispatcher();
  $$result.css.add(css$9);
  $$unsubscribe_misc();
  $$unsubscribe_ui();
  $$unsubscribe_game();
  return `<div class="choices-panel choices-container svelte-iik609"> <div class="choices-list svelte-iik609">${each($game.gameData.choices, (choice, i) => {
    return `<button class="choice-btn svelte-iik609" ${$misc.loading ? "disabled" : ""}><span class="choice-indicator svelte-iik609">${escape(i + 1)}</span> <span class="choice-text svelte-iik609">${escape(choice)}</span> </button>`;
  })}</div>  ${$game.gameData.choices?.length >= 1 ? `<div class="custom-input svelte-iik609"><div class="input-wrapper svelte-iik609"><input type="text" placeholder="Write your own action..." class="svelte-iik609"${add_attribute("value", $misc.query, 0)}> <span class="points-badge svelte-iik609">${escape($misc.interactivePoints)}</span></div> <button class="submit-btn svelte-iik609" ${$misc.loading || !$misc.query ? "disabled" : ""}><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-iik609"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"></path></svg></button></div>` : ``} </div>`;
});
const css$8 = {
  code: ".combat-panel.svelte-w2jvcs.svelte-w2jvcs{background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-lg);width:100%}.combat-header.svelte-w2jvcs.svelte-w2jvcs{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-md)}.combat-header.svelte-w2jvcs h3.svelte-w2jvcs{margin:0;font-size:1.1rem;font-weight:400;color:var(--color-text-primary)}.combat-accent.svelte-w2jvcs.svelte-w2jvcs{color:var(--color-accent-hp);font-weight:500}.enemy-info.svelte-w2jvcs.svelte-w2jvcs{display:flex;flex-direction:column;align-items:flex-end;gap:var(--space-xs)}.enemy-name.svelte-w2jvcs.svelte-w2jvcs{font-size:0.9rem;color:var(--color-text-secondary)}.enemy-hp-bar.svelte-w2jvcs.svelte-w2jvcs{width:120px;height:24px;background:rgba(0, 0, 0, 0.3);border-radius:12px;position:relative;overflow:hidden}.enemy-hp-fill.svelte-w2jvcs.svelte-w2jvcs{height:100%;background:linear-gradient(90deg, var(--color-accent-hp), #ff7eb3);border-radius:12px;transition:width var(--transition-normal)}.enemy-hp-text.svelte-w2jvcs.svelte-w2jvcs{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:0.75rem;font-weight:500;color:white;text-shadow:0 1px 2px rgba(0, 0, 0, 0.5)}.combat-content.svelte-w2jvcs.svelte-w2jvcs{display:flex;align-items:center;justify-content:space-between;gap:var(--space-lg)}.combat-instructions.svelte-w2jvcs.svelte-w2jvcs{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--space-sm);flex:1}.combat-instructions.svelte-w2jvcs li.svelte-w2jvcs{color:var(--color-text-secondary);font-size:0.9rem;line-height:1.4;display:flex;align-items:flex-start;gap:var(--space-xs)}.combat-instructions.svelte-w2jvcs li .icon.svelte-w2jvcs{flex-shrink:0}.combat-instructions.svelte-w2jvcs li.tip.svelte-w2jvcs{font-size:0.85rem;color:var(--color-text-muted)}.highlight.svelte-w2jvcs.svelte-w2jvcs{color:var(--color-accent-secondary);font-weight:500}.dice-btn.svelte-w2jvcs.svelte-w2jvcs{width:72px;height:72px;border-radius:var(--radius-md);background:rgba(255, 255, 255, 0.05);border:1px solid var(--color-border);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);flex-shrink:0;position:relative}.dice-btn.svelte-w2jvcs.svelte-w2jvcs:hover{background:rgba(255, 255, 255, 0.1);border-color:var(--color-accent-secondary);transform:scale(1.05);box-shadow:0 4px 16px rgba(63, 207, 142, 0.2)}.dice-btn.svelte-w2jvcs.svelte-w2jvcs:active{transform:scale(0.98)}.dice-btn.svelte-w2jvcs img.svelte-w2jvcs{width:56px;height:56px;object-fit:contain}.dice-number.svelte-w2jvcs.svelte-w2jvcs{font-size:1.8rem;font-weight:600;color:var(--color-accent-secondary);margin:0}.dice-number.svelte-w2jvcs span.svelte-w2jvcs{font-size:0.8rem;color:var(--color-text-muted);font-weight:400}@media(max-width: 768px){.combat-header.svelte-w2jvcs.svelte-w2jvcs{flex-direction:column;align-items:flex-start}.enemy-info.svelte-w2jvcs.svelte-w2jvcs{align-items:flex-start;width:100%}.enemy-hp-bar.svelte-w2jvcs.svelte-w2jvcs{width:100%}}@media(max-width: 480px){.combat-panel.svelte-w2jvcs.svelte-w2jvcs{padding:var(--space-md);gap:var(--space-md)}.combat-header.svelte-w2jvcs h3.svelte-w2jvcs{font-size:0.95rem}.combat-content.svelte-w2jvcs.svelte-w2jvcs{flex-direction:column;gap:var(--space-md)}.combat-instructions.svelte-w2jvcs li.svelte-w2jvcs{font-size:0.85rem}.dice-btn.svelte-w2jvcs.svelte-w2jvcs{width:60px;height:60px}.dice-btn.svelte-w2jvcs img.svelte-w2jvcs{width:44px;height:44px}}",
  map: '{"version":3,"file":"CombatUI.svelte","sources":["CombatUI.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { isFunctionOrConstructorTypeNode } from \\"typescript\\";\\nimport { game } from \\"../../../stores\\";\\nimport { selectedItem } from \\"../../../stores\\";\\nimport { ui } from \\"../../../stores\\";\\nimport { character } from \\"../../../stores\\";\\nimport { misc } from \\"../../../stores\\";\\nimport { coolDowns } from \\"../../../stores\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nimport { fade } from \\"svelte/transition\\";\\nconst dispatch = createEventDispatcher();\\nfunction capitalizeFirstLetter(str) {\\n    return str.charAt(0).toUpperCase() + str.slice(1);\\n}\\nlet diceThrown = false;\\nasync function throwDice(combatEvent) {\\n    if (!combatEvent.name)\\n        return $ui.errorWarnMsg = \\"You need to choose a weapon or spell.\\";\\n    if ($coolDowns[combatEvent.name]) {\\n        $coolDowns[combatEvent.name] = 0;\\n    }\\n    if (combatEvent.damage) {\\n        if ($game.gameData.enemy && $game.gameData.enemy.enemyHp)\\n            if ($selectedItem.damage != 0 && !$selectedItem.other) {\\n                if ($misc.diceNumber == 1) {\\n                    $misc.diceNumber = 2;\\n                    $character.stats[0].hp -= Math.floor($game.gameData.enemy.enemyHp / $misc.diceNumber);\\n                }\\n                else {\\n                    $character.stats[0].hp -= Math.floor($game.gameData.enemy.enemyHp / $misc.diceNumber);\\n                }\\n            }\\n            else {\\n                $character.stats[0].hp -= 5;\\n            }\\n        if ($game.gameData.enemy && $game.gameData.enemy.enemyHp) {\\n            $game.gameData.enemy.enemyHp -= $selectedItem.combatScore;\\n        }\\n    }\\n    diceThrown = true;\\n    function wait(ms) {\\n        return new Promise((resolve) => setTimeout(resolve, ms));\\n    }\\n    await wait(1e3);\\n    if ($character.stats[0].hp > 0) {\\n        emitAnswer(combatEvent.prompt);\\n    }\\n    else {\\n        emitAnswer(\\"give a sad gameData.story, because player dies in the last combat event.\\");\\n        $misc.death = true;\\n    }\\n    if (combatEvent.manaCost) {\\n        $character.stats[0].mp -= combatEvent.manaCost;\\n    }\\n    $misc.diceNumber = 0;\\n    if (combatEvent.healing) {\\n        $character.stats[0].hp += $selectedItem.combatScore;\\n        if ($character.stats[0].hp > $character.stats[0].maxHp) {\\n            $character.stats[0].hp = $character.stats[0].maxHp;\\n        }\\n    }\\n    $selectedItem.name = \\"\\";\\n    $selectedItem.damage = void 0;\\n    $selectedItem.healing = void 0;\\n    $selectedItem.mana = void 0;\\n    $selectedItem.prompt = \\"\\";\\n    $selectedItem.combatScore = void 0;\\n    $selectedItem.manaCost = 0;\\n    diceThrown = false;\\n}\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", {\\n        answer\\n    });\\n}\\n$: hpPercentage = $game.gameData.enemy && $game.gameData.enemy?.enemyHp && $game.gameData.enemy?.enemyMaxHp ? $game.gameData.enemy.enemyHp / $game.gameData.enemy.enemyMaxHp * 100 : 100;\\n<\/script>\\r\\n\\r\\n<!-- combat ui -->\\r\\n{#if !$misc.loading}\\r\\n\\t<div class=\\"combat-panel\\" transition:fade={{ duration: 400 }}>\\r\\n\\t\\t<!-- Combat Header -->\\r\\n\\t\\t<div class=\\"combat-header\\">\\r\\n\\t\\t\\t<h3>You are now in a <span class=\\"combat-accent\\">Combat</span> against:</h3>\\r\\n\\t\\t\\t{#if $game.gameData.enemy}\\r\\n\\t\\t\\t\\t<div class=\\"enemy-info\\">\\r\\n\\t\\t\\t\\t\\t{#if $game.gameData.enemy.enemyName}\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"enemy-name\\">{$game.gameData.enemy.enemyName}</span>\\r\\n\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t{#if $game.gameData.enemy.name}\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"enemy-name\\">{$game.gameData.enemy.name}</span>\\r\\n\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t\\t<div class=\\"enemy-hp-bar\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\"enemy-hp-fill\\" style=\\"width: {hpPercentage}%\\" />\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"enemy-hp-text\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{$game.gameData.enemy.enemyHp} HP\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<!-- Combat Info -->\\r\\n\\t\\t<div class=\\"combat-content\\">\\r\\n\\t\\t\\t<ul class=\\"combat-instructions\\">\\r\\n\\t\\t\\t\\t{#if !$selectedItem.name}\\r\\n\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"icon\\">âš”ï¸</span>\\r\\n\\t\\t\\t\\t\\t\\tChoose a <span class=\\"highlight\\">weapon</span> or a\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"highlight\\">spell.</span>\\r\\n\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t{:else if $selectedItem.damage}\\r\\n\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"icon\\">âš”ï¸</span>\\r\\n\\t\\t\\t\\t\\t\\tYou chose <span class=\\"highlight\\">{$selectedItem.name}</span> with\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"highlight\\">x{$selectedItem.damage}</span> damage!\\r\\n\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t{:else if $selectedItem.healing}\\r\\n\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"icon\\">âš”ï¸</span>\\r\\n\\t\\t\\t\\t\\t\\tYou chose <span class=\\"highlight\\">{$selectedItem.name}</span> with\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"highlight\\">x{$selectedItem.healing}</span> heal power!\\r\\n\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"icon\\">âš”ï¸</span>\\r\\n\\t\\t\\t\\t\\t\\tYou chose <span class=\\"highlight\\">{$selectedItem.name}</span> with\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\"highlight\\">unique</span> power!\\r\\n\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t{/if}\\r\\n\\r\\n\\t\\t\\t\\t<li>\\r\\n\\t\\t\\t\\t\\t<span class=\\"icon\\">ðŸŽ²</span>\\r\\n\\t\\t\\t\\t\\tThen, press the <span class=\\"highlight\\">dice</span> to learn your fate!\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t<li class=\\"tip\\">\\r\\n\\t\\t\\t\\t\\t<span class=\\"icon\\">ðŸ”®</span>\\r\\n\\t\\t\\t\\t\\tSuccess is related to <span class=\\"highlight\\">damage</span> and the\\r\\n\\t\\t\\t\\t\\t<span class=\\"highlight\\">dice number.</span>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t</ul>\\r\\n\\r\\n\\t\\t\\t<button\\r\\n\\t\\t\\t\\tclass=\\"dice-btn\\"\\r\\n\\t\\t\\t\\ton:click={() => throwDice($selectedItem)}\\r\\n\\t\\t\\t\\ttransition:fade={{ duration: 200 }}\\r\\n\\t\\t\\t>\\r\\n\\t\\t\\t\\t{#if !diceThrown}\\r\\n\\t\\t\\t\\t\\t<img src=\\"images/dice.webp\\" alt=\\"throw dice\\" transition:fade={{ duration: 300 }} />\\r\\n\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t<p class=\\"dice-number\\" transition:fade={{ duration: 300 }}>\\r\\n\\t\\t\\t\\t\\t\\t{$misc.diceNumber}<span>/23</span>\\r\\n\\t\\t\\t\\t\\t</p>\\r\\n\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n{/if}\\r\\n\\r\\n<!-- combat ui ends here-->\\r\\n<style>\\r\\n\\t.combat-panel {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\tpadding: var(--space-lg);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-lg);\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n\\r\\n\\t.combat-header {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tflex-wrap: wrap;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.combat-header h3 {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 1.1rem;\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t}\\r\\n\\r\\n\\t.combat-accent {\\r\\n\\t\\tcolor: var(--color-accent-hp);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.enemy-info {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: flex-end;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.enemy-name {\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t}\\r\\n\\r\\n\\t.enemy-hp-bar {\\r\\n\\t\\twidth: 120px;\\r\\n\\t\\theight: 24px;\\r\\n\\t\\tbackground: rgba(0, 0, 0, 0.3);\\r\\n\\t\\tborder-radius: 12px;\\r\\n\\t\\tposition: relative;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t}\\r\\n\\r\\n\\t.enemy-hp-fill {\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tbackground: linear-gradient(90deg, var(--color-accent-hp), #ff7eb3);\\r\\n\\t\\tborder-radius: 12px;\\r\\n\\t\\ttransition: width var(--transition-normal);\\r\\n\\t}\\r\\n\\r\\n\\t.enemy-hp-text {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\tfont-size: 0.75rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcolor: white;\\r\\n\\t\\ttext-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\\r\\n\\t}\\r\\n\\r\\n\\t.combat-content {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\tgap: var(--space-lg);\\r\\n\\t}\\r\\n\\r\\n\\t.combat-instructions {\\r\\n\\t\\tlist-style: none;\\r\\n\\t\\tpadding: 0;\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\t.combat-instructions li {\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tline-height: 1.4;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: flex-start;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t}\\r\\n\\r\\n\\t.combat-instructions li .icon {\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.combat-instructions li.tip {\\r\\n\\t\\tfont-size: 0.85rem;\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t}\\r\\n\\r\\n\\t.highlight {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.dice-btn {\\r\\n\\t\\twidth: 72px;\\r\\n\\t\\theight: 72px;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t\\tposition: relative;\\r\\n\\t}\\r\\n\\r\\n\\t.dice-btn:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-accent-secondary);\\r\\n\\t\\ttransform: scale(1.05);\\r\\n\\t\\tbox-shadow: 0 4px 16px rgba(63, 207, 142, 0.2);\\r\\n\\t}\\r\\n\\r\\n\\t.dice-btn:active {\\r\\n\\t\\ttransform: scale(0.98);\\r\\n\\t}\\r\\n\\r\\n\\t.dice-btn img {\\r\\n\\t\\twidth: 56px;\\r\\n\\t\\theight: 56px;\\r\\n\\t\\tobject-fit: contain;\\r\\n\\t}\\r\\n\\r\\n\\t.dice-number {\\r\\n\\t\\tfont-size: 1.8rem;\\r\\n\\t\\tfont-weight: 600;\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tmargin: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.dice-number span {\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 768px) {\\r\\n\\t\\t.combat-header {\\r\\n\\t\\t\\tflex-direction: column;\\r\\n\\t\\t\\talign-items: flex-start;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.enemy-info {\\r\\n\\t\\t\\talign-items: flex-start;\\r\\n\\t\\t\\twidth: 100%;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.enemy-hp-bar {\\r\\n\\t\\t\\twidth: 100%;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.combat-panel {\\r\\n\\t\\t\\tpadding: var(--space-md);\\r\\n\\t\\t\\tgap: var(--space-md);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.combat-header h3 {\\r\\n\\t\\t\\tfont-size: 0.95rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.combat-content {\\r\\n\\t\\t\\tflex-direction: column;\\r\\n\\t\\t\\tgap: var(--space-md);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.combat-instructions li {\\r\\n\\t\\t\\tfont-size: 0.85rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.dice-btn {\\r\\n\\t\\t\\twidth: 60px;\\r\\n\\t\\t\\theight: 60px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.dice-btn img {\\r\\n\\t\\t\\twidth: 44px;\\r\\n\\t\\t\\theight: 44px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}'
};
const CombatUI = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let hpPercentage;
  let $game, $$unsubscribe_game;
  let $selectedItem, $$unsubscribe_selectedItem;
  let $$unsubscribe_character;
  let $misc, $$unsubscribe_misc;
  let $$unsubscribe_coolDowns;
  let $$unsubscribe_ui;
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  $$unsubscribe_selectedItem = subscribe(selectedItem, (value) => $selectedItem = value);
  $$unsubscribe_character = subscribe(character, (value) => value);
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_coolDowns = subscribe(coolDowns, (value) => value);
  $$unsubscribe_ui = subscribe(ui, (value) => value);
  createEventDispatcher();
  $$result.css.add(css$8);
  hpPercentage = $game.gameData.enemy && $game.gameData.enemy?.enemyHp && $game.gameData.enemy?.enemyMaxHp ? $game.gameData.enemy.enemyHp / $game.gameData.enemy.enemyMaxHp * 100 : 100;
  $$unsubscribe_game();
  $$unsubscribe_selectedItem();
  $$unsubscribe_character();
  $$unsubscribe_misc();
  $$unsubscribe_coolDowns();
  $$unsubscribe_ui();
  return ` ${!$misc.loading ? `<div class="combat-panel svelte-w2jvcs"> <div class="combat-header svelte-w2jvcs"><h3 class="svelte-w2jvcs" data-svelte-h="svelte-l2vx65">You are now in a <span class="combat-accent svelte-w2jvcs">Combat</span> against:</h3> ${$game.gameData.enemy ? `<div class="enemy-info svelte-w2jvcs">${$game.gameData.enemy.enemyName ? `<span class="enemy-name svelte-w2jvcs">${escape($game.gameData.enemy.enemyName)}</span>` : ``} ${$game.gameData.enemy.name ? `<span class="enemy-name svelte-w2jvcs">${escape($game.gameData.enemy.name)}</span>` : ``} <div class="enemy-hp-bar svelte-w2jvcs"><div class="enemy-hp-fill svelte-w2jvcs" style="${"width: " + escape(hpPercentage, true) + "%"}"></div> <span class="enemy-hp-text svelte-w2jvcs">${escape($game.gameData.enemy.enemyHp)} HP</span></div></div>` : ``}</div>  <div class="combat-content svelte-w2jvcs"><ul class="combat-instructions svelte-w2jvcs">${!$selectedItem.name ? `<li class="svelte-w2jvcs" data-svelte-h="svelte-1y3wva9"><span class="icon svelte-w2jvcs">âš”ï¸</span>
						Choose a <span class="highlight svelte-w2jvcs">weapon</span> or a
						<span class="highlight svelte-w2jvcs">spell.</span></li>` : `${$selectedItem.damage ? `<li class="svelte-w2jvcs"><span class="icon svelte-w2jvcs" data-svelte-h="svelte-9vk6ix">âš”ï¸</span>
						You chose <span class="highlight svelte-w2jvcs">${escape($selectedItem.name)}</span> with
						<span class="highlight svelte-w2jvcs">x${escape($selectedItem.damage)}</span> damage!</li>` : `${$selectedItem.healing ? `<li class="svelte-w2jvcs"><span class="icon svelte-w2jvcs" data-svelte-h="svelte-9vk6ix">âš”ï¸</span>
						You chose <span class="highlight svelte-w2jvcs">${escape($selectedItem.name)}</span> with
						<span class="highlight svelte-w2jvcs">x${escape($selectedItem.healing)}</span> heal power!</li>` : `<li class="svelte-w2jvcs"><span class="icon svelte-w2jvcs" data-svelte-h="svelte-9vk6ix">âš”ï¸</span>
						You chose <span class="highlight svelte-w2jvcs">${escape($selectedItem.name)}</span> with
						<span class="highlight svelte-w2jvcs" data-svelte-h="svelte-8f1fb6">unique</span> power!</li>`}`}`} <li class="svelte-w2jvcs" data-svelte-h="svelte-y5ao6w"><span class="icon svelte-w2jvcs">ðŸŽ²</span>
					Then, press the <span class="highlight svelte-w2jvcs">dice</span> to learn your fate!</li> <li class="tip svelte-w2jvcs" data-svelte-h="svelte-15bz7wb"><span class="icon svelte-w2jvcs">ðŸ”®</span>
					Success is related to <span class="highlight svelte-w2jvcs">damage</span> and the
					<span class="highlight svelte-w2jvcs">dice number.</span></li></ul> <button class="dice-btn svelte-w2jvcs">${`<img src="images/dice.webp" alt="throw dice" class="svelte-w2jvcs">`}</button></div></div>` : ``} `;
});
const css$7 = {
  code: ".shop-panel.svelte-sywws2.svelte-sywws2{background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-xl) var(--space-md);width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.shop-header.svelte-sywws2.svelte-sywws2{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.shop-icon.svelte-sywws2.svelte-sywws2{font-size:1.2rem}.shop-header.svelte-sywws2 h3.svelte-sywws2{margin:0;font-size:0.95rem;font-weight:400;color:var(--color-text-secondary);text-align:center}.shop-name.svelte-sywws2.svelte-sywws2{color:var(--color-accent-secondary);font-weight:500}.shop-items.svelte-sywws2.svelte-sywws2{display:flex;flex-wrap:wrap;gap:var(--space-sm);justify-content:center}.shop-item-btn.svelte-sywws2.svelte-sywws2{position:relative;width:56px;height:56px;border-radius:var(--radius-md);background:rgba(255, 255, 255, 0.05);border:1px solid var(--color-border);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);overflow:visible}.shop-item-btn.svelte-sywws2.svelte-sywws2:hover{background:rgba(255, 255, 255, 0.1);border-color:var(--color-accent-secondary);transform:translateY(-2px);box-shadow:0 4px 12px rgba(63, 207, 142, 0.2)}.item-icon.svelte-sywws2.svelte-sywws2{width:60%;height:60%;object-fit:contain;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));pointer-events:none}.price-tag.svelte-sywws2.svelte-sywws2{position:absolute;bottom:-8px;right:-8px;font-size:0.6rem;background:var(--color-bg-dark);border:1px solid var(--color-border);border-radius:10px;padding:2px 6px;color:var(--color-accent-gold);white-space:nowrap}.empty-shop.svelte-sywws2.svelte-sywws2{text-align:center;color:var(--color-text-muted);font-size:0.85rem;padding:var(--space-md)}@media(max-width: 480px){.shop-item-btn.svelte-sywws2.svelte-sywws2{width:48px;height:48px}.shop-header.svelte-sywws2 h3.svelte-sywws2{font-size:0.85rem}}",
  map: `{"version":3,"file":"ShopUI.svelte","sources":["ShopUI.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../../stores\\";\\nimport { selectedItem } from \\"../../../stores\\";\\nimport { ui } from \\"../../../stores\\";\\nimport { descWindow } from \\"../../../stores\\";\\nimport { misc } from \\"../../../stores\\";\\nimport { fade, fly } from \\"svelte/transition\\";\\nfunction hideWindow() {\\n    $misc.showDescription = \\"none\\";\\n}\\nfunction handleBuy(prompt, item) {\\n    if ($game.gameData.event.shopMode) {\\n        $selectedItem = {};\\n        $selectedItem = item;\\n        $ui.buyWarnMsg = prompt;\\n    }\\n}\\nfunction handleMouseMove(event, item) {\\n    $misc.showDescription = \\"block\\";\\n    $misc.x = event.clientX + 10;\\n    $misc.y = event.clientY - 40;\\n    $descWindow.name = item?.name ?? void 0;\\n    $descWindow.damage = item?.damage ?? void 0;\\n    $descWindow.type = item?.type ?? void 0;\\n    $descWindow.healing = item?.healing ?? void 0;\\n    $descWindow.mana = item?.mana ?? void 0;\\n    $descWindow.point = item?.point ?? void 0;\\n    $descWindow.armor = item?.armor ?? void 0;\\n    $descWindow.element = item?.element ?? void 0;\\n    $descWindow.weaponClass = item?.weaponClass ?? void 0;\\n    $descWindow.manaCost = item?.manaCost ?? void 0;\\n    $descWindow.price = item?.price ?? void 0;\\n    $descWindow.amount = item?.amount ?? void 0;\\n}\\nfunction getShopName(mode) {\\n    const modeMap = {\\n        weaponsmith: \\"Weaponsmith\\",\\n        armorsmith: \\"Armorsmith\\",\\n        \\"spell shop\\": \\"Spell Shop\\",\\n        \\"potion shop\\": \\"Potion Shop\\",\\n        market: \\"Market\\",\\n        merchant: \\"Merchant\\"\\n    };\\n    const lowerMode = mode?.toLowerCase() || \\"\\";\\n    return modeMap[lowerMode] || \\"Merchant\\";\\n}\\n<\/script>\\r\\n\\r\\n<div class=\\"shop-panel\\" in:fly={{ y: 20, duration: 400 }}>\\r\\n\\t<!-- Shop Header -->\\r\\n\\t<div class=\\"shop-header\\">\\r\\n\\t\\t<span class=\\"shop-icon\\">ðŸª</span>\\r\\n\\t\\t<h3>\\r\\n\\t\\t\\tYou're at a local\\r\\n\\t\\t\\t<span class=\\"shop-name\\">{getShopName($game.gameData.event.shopMode)}</span>\\r\\n\\t\\t</h3>\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- Shop Items Grid -->\\r\\n\\t{#if $game.gameData.shop?.length}\\r\\n\\t\\t<div class=\\"shop-items\\">\\r\\n\\t\\t\\t{#each $game.gameData.shop as buyable, i}\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tclass=\\"shop-item-btn\\"\\r\\n\\t\\t\\t\\t\\ton:click={() => handleBuy(\`Do you wanna buy \${buyable.name}?\`, buyable)}\\r\\n\\t\\t\\t\\t\\ton:mouseenter={(e) => handleMouseMove(e, buyable)}\\r\\n\\t\\t\\t\\t\\ton:mousemove={(e) => handleMouseMove(e, buyable)}\\r\\n\\t\\t\\t\\t\\ton:mouseleave={hideWindow}\\r\\n\\t\\t\\t\\t\\tin:fade={{ duration: 200, delay: i * 50 }}\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t{#if buyable.type === 'weapon'}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/{buyable.weaponClass}.svg\\" alt={buyable.name} />\\r\\n\\t\\t\\t\\t\\t{:else if buyable.type === 'potion'}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/potion.svg\\" alt={buyable.name} />\\r\\n\\t\\t\\t\\t\\t{:else if buyable.element}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/{buyable.element}.svg\\" alt={buyable.name} />\\r\\n\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/item.svg\\" alt={buyable.name} />\\r\\n\\t\\t\\t\\t\\t{/if}\\r\\n\\r\\n\\t\\t\\t\\t\\t<!-- Price Tag -->\\r\\n\\t\\t\\t\\t\\t<span class=\\"price-tag\\">ðŸª™ {buyable.price || '?'}</span>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t{/each}\\r\\n\\t\\t</div>\\r\\n\\t{:else}\\r\\n\\t\\t<p class=\\"empty-shop\\">No items available</p>\\r\\n\\t{/if}\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.shop-panel {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\tpadding: var(--space-xl) var(--space-md); /* More top/bottom padding */\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-header {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.shop-icon {\\r\\n\\t\\tfont-size: 1.2rem;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-header h3 {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 0.95rem;\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\ttext-align: center;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-name {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-items {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-wrap: wrap;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-item-btn {\\r\\n\\t\\tposition: relative;\\r\\n\\t\\twidth: 56px;\\r\\n\\t\\theight: 56px;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\toverflow: visible;\\r\\n\\t}\\r\\n\\r\\n\\t.shop-item-btn:hover {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-accent-secondary);\\r\\n\\t\\ttransform: translateY(-2px);\\r\\n\\t\\tbox-shadow: 0 4px 12px rgba(63, 207, 142, 0.2);\\r\\n\\t}\\r\\n\\r\\n\\t.item-icon {\\r\\n\\t\\twidth: 60%;\\r\\n\\t\\theight: 60%;\\r\\n\\t\\tobject-fit: contain;\\r\\n\\t\\tfilter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\\r\\n\\t\\tpointer-events: none;\\r\\n\\t}\\r\\n\\r\\n\\t.price-tag {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\tbottom: -8px;\\r\\n\\t\\tright: -8px;\\r\\n\\t\\tfont-size: 0.6rem;\\r\\n\\t\\tbackground: var(--color-bg-dark);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: 10px;\\r\\n\\t\\tpadding: 2px 6px;\\r\\n\\t\\tcolor: var(--color-accent-gold);\\r\\n\\t\\twhite-space: nowrap;\\r\\n\\t}\\r\\n\\r\\n\\t.empty-shop {\\r\\n\\t\\ttext-align: center;\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t\\tfont-size: 0.85rem;\\r\\n\\t\\tpadding: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.shop-item-btn {\\r\\n\\t\\t\\twidth: 48px;\\r\\n\\t\\t\\theight: 48px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.shop-header h3 {\\r\\n\\t\\t\\tfont-size: 0.85rem;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AA0FC,uCAAY,CACX,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,uBAAuB,CAAE,KAAK,IAAI,CAAC,CACnC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,aAAa,CAAE,IAAI,WAAW,CAAC,CAC/B,OAAO,CAAE,IAAI,UAAU,CAAC,CAAC,IAAI,UAAU,CAAC,CACxC,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,aAClB,CAEA,wCAAa,CACZ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,GAAG,CAAE,IAAI,UAAU,CACpB,CAEA,sCAAW,CACV,SAAS,CAAE,MACZ,CAEA,0BAAY,CAAC,gBAAG,CACf,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,sBAAsB,CAAC,CAClC,UAAU,CAAE,MACb,CAEA,sCAAW,CACV,KAAK,CAAE,IAAI,wBAAwB,CAAC,CACpC,WAAW,CAAE,GACd,CAEA,uCAAY,CACX,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,IAAI,UAAU,CAAC,CACpB,eAAe,CAAE,MAClB,CAEA,0CAAe,CACd,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,IAAI,WAAW,CAAC,CAC/B,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CACrC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,GAAG,CAAC,IAAI,iBAAiB,CAAC,CACtC,QAAQ,CAAE,OACX,CAEA,0CAAc,MAAO,CACpB,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,YAAY,CAAE,IAAI,wBAAwB,CAAC,CAC3C,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAC9C,CAEA,sCAAW,CACV,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,CACX,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CACjD,cAAc,CAAE,IACjB,CAEA,sCAAW,CACV,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,MAAM,CACjB,UAAU,CAAE,IAAI,eAAe,CAAC,CAChC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,CACrC,aAAa,CAAE,IAAI,CACnB,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,KAAK,CAAE,IAAI,mBAAmB,CAAC,CAC/B,WAAW,CAAE,MACd,CAEA,uCAAY,CACX,UAAU,CAAE,MAAM,CAClB,KAAK,CAAE,IAAI,kBAAkB,CAAC,CAC9B,SAAS,CAAE,OAAO,CAClB,OAAO,CAAE,IAAI,UAAU,CACxB,CAGA,MAAO,YAAY,KAAK,CAAE,CACzB,0CAAe,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IACT,CAEA,0BAAY,CAAC,gBAAG,CACf,SAAS,CAAE,OACZ,CACD"}`
};
function getShopName(mode) {
  const modeMap = {
    weaponsmith: "Weaponsmith",
    armorsmith: "Armorsmith",
    "spell shop": "Spell Shop",
    "potion shop": "Potion Shop",
    market: "Market",
    merchant: "Merchant"
  };
  const lowerMode = mode?.toLowerCase() || "";
  return modeMap[lowerMode] || "Merchant";
}
const ShopUI = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_descWindow;
  let $$unsubscribe_misc;
  let $$unsubscribe_ui;
  let $$unsubscribe_selectedItem;
  let $game, $$unsubscribe_game;
  $$unsubscribe_descWindow = subscribe(descWindow, (value) => value);
  $$unsubscribe_misc = subscribe(misc, (value) => value);
  $$unsubscribe_ui = subscribe(ui, (value) => value);
  $$unsubscribe_selectedItem = subscribe(selectedItem, (value) => value);
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  $$result.css.add(css$7);
  $$unsubscribe_descWindow();
  $$unsubscribe_misc();
  $$unsubscribe_ui();
  $$unsubscribe_selectedItem();
  $$unsubscribe_game();
  return `<div class="shop-panel svelte-sywws2"> <div class="shop-header svelte-sywws2"><span class="shop-icon svelte-sywws2" data-svelte-h="svelte-7k8cl9">ðŸª</span> <h3 class="svelte-sywws2">You&#39;re at a local
			<span class="shop-name svelte-sywws2">${escape(getShopName($game.gameData.event.shopMode))}</span></h3></div>  ${$game.gameData.shop?.length ? `<div class="shop-items svelte-sywws2">${each($game.gameData.shop, (buyable, i) => {
    return `<button class="shop-item-btn svelte-sywws2">${buyable.type === "weapon" ? `<img class="item-icon svelte-sywws2" src="${"images/" + escape(buyable.weaponClass, true) + ".svg"}"${add_attribute("alt", buyable.name, 0)}>` : `${buyable.type === "potion" ? `<img class="item-icon svelte-sywws2" src="images/potion.svg"${add_attribute("alt", buyable.name, 0)}>` : `${buyable.element ? `<img class="item-icon svelte-sywws2" src="${"images/" + escape(buyable.element, true) + ".svg"}"${add_attribute("alt", buyable.name, 0)}>` : `<img class="item-icon svelte-sywws2" src="images/item.svg"${add_attribute("alt", buyable.name, 0)}>`}`}`}  <span class="price-tag svelte-sywws2">ðŸª™ ${escape(buyable.price || "?")}</span> </button>`;
  })}</div>` : `<p class="empty-shop svelte-sywws2" data-svelte-h="svelte-1s761w5">No items available</p>`} </div>`;
});
const css$6 = {
  code: ".loot-panel.svelte-1qmhwsd.svelte-1qmhwsd{background:var(--color-bg-card);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-lg) var(--space-md);display:flex;flex-direction:column;align-items:center;gap:var(--space-md);width:100%;max-width:500px;margin:0 auto}.loot-header.svelte-1qmhwsd.svelte-1qmhwsd{display:flex;align-items:center;justify-content:center;gap:var(--space-sm)}.loot-header.svelte-1qmhwsd h3.svelte-1qmhwsd{margin:0;font-size:1.1rem;font-weight:400;color:var(--color-text-primary)}.loot-icon.svelte-1qmhwsd.svelte-1qmhwsd{font-size:1.2rem}.loot-accent.svelte-1qmhwsd.svelte-1qmhwsd{color:var(--color-accent-secondary);font-weight:500}.loot-items.svelte-1qmhwsd.svelte-1qmhwsd{display:flex;flex-wrap:wrap;gap:var(--space-sm);justify-content:center;align-items:center}.loot-item-btn.svelte-1qmhwsd.svelte-1qmhwsd{width:60px;height:60px;border-radius:var(--radius-md);background:rgba(255, 255, 255, 0.05);border:1px solid var(--color-border);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);position:relative}.loot-item-btn.svelte-1qmhwsd.svelte-1qmhwsd:hover:not(:disabled){background:rgba(255, 255, 255, 0.1);border-color:var(--color-accent-secondary);transform:translateY(-2px);box-shadow:0 4px 12px rgba(63, 207, 142, 0.2)}.loot-item-btn.svelte-1qmhwsd.svelte-1qmhwsd:active:not(:disabled){transform:translateY(0)}.loot-item-btn.svelte-1qmhwsd.svelte-1qmhwsd:disabled{opacity:0.5;cursor:not-allowed}.item-icon.svelte-1qmhwsd.svelte-1qmhwsd{width:70%;height:70%;object-fit:contain}.loot-all-btn.svelte-1qmhwsd.svelte-1qmhwsd{padding:var(--space-sm) var(--space-md);background:linear-gradient(135deg, rgba(63, 207, 142, 0.2), rgba(63, 207, 142, 0.1));border:1px solid var(--color-accent-secondary);border-radius:var(--radius-md);color:var(--color-accent-secondary);font-size:0.85rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.loot-all-btn.svelte-1qmhwsd.svelte-1qmhwsd:hover:not(:disabled){background:linear-gradient(135deg, rgba(63, 207, 142, 0.3), rgba(63, 207, 142, 0.15));box-shadow:0 0 12px rgba(63, 207, 142, 0.3)}.loot-all-btn.svelte-1qmhwsd.svelte-1qmhwsd:disabled{opacity:0.5;cursor:not-allowed}.empty-loot.svelte-1qmhwsd.svelte-1qmhwsd{color:var(--color-text-muted);font-size:0.875rem;text-align:center}@media(max-width: 480px){.loot-panel.svelte-1qmhwsd.svelte-1qmhwsd{padding:var(--space-md)}.loot-item-btn.svelte-1qmhwsd.svelte-1qmhwsd{width:50px;height:50px}.loot-header.svelte-1qmhwsd h3.svelte-1qmhwsd{font-size:0.95rem}}",
  map: `{"version":3,"file":"LootUI.svelte","sources":["LootUI.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../../stores\\";\\nimport { misc } from \\"../../../stores\\";\\nimport { descWindow } from \\"../../../stores\\";\\nimport { character } from \\"../../../stores\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nimport { fade } from \\"svelte/transition\\";\\nconst dispatch = createEventDispatcher();\\nfunction handleMouseMove(event, item) {\\n    $misc.showDescription = \\"block\\";\\n    $misc.x = event.clientX + 10;\\n    $misc.y = event.clientY - 40;\\n    $descWindow.name = item && item.name ? item.name : void 0;\\n    $descWindow.damage = item && item.damage ? item.damage : void 0;\\n    $descWindow.type = item && item.type ? item.type : void 0;\\n    $descWindow.healing = item && item.healing ? item.healing : void 0;\\n    $descWindow.mana = item && item.mana ? item.mana : void 0;\\n    $descWindow.point = item && item.point ? item.point : void 0;\\n    $descWindow.armor = item && item.armor ? item.armor : void 0;\\n    $descWindow.element = item && item.element ? item.element : void 0;\\n    $descWindow.weaponClass = item && item.weaponClass ? item.weaponClass : void 0;\\n    $descWindow.manaCost = item && item.manaCost ? item.manaCost : void 0;\\n    $descWindow.price = item && item.price ? item.price : void 0;\\n    $descWindow.amount = item && item.amount ? item.amount : void 0;\\n}\\nfunction hideWindow() {\\n    $misc.showDescription = \\"none\\";\\n}\\nfunction lootItem(item) {\\n    if (item.type == \\"weapon\\" || item.type == \\"potion\\") {\\n        $character.inventory.push(item);\\n        $character.inventory = $character.inventory;\\n    }\\n    else if (item.type == \\"destruction spell\\" || item.type == \\"healing spell\\" || item.type == \\"unique spell\\") {\\n        $character.spells.push(item);\\n        $character.spells = $character.spells;\\n    }\\n    else if (item.type == \\"currency\\") {\\n        $character.gold += parseInt(item.amount);\\n    }\\n    else {\\n        $character.inventory.push(item);\\n        $character.inventory = $character.inventory;\\n    }\\n    let newArray = $game.gameData.lootBox.filter((lootItem2) => lootItem2.name !== item.name);\\n    $game.gameData.lootBox = newArray;\\n    if (!$game.gameData.lootBox?.length) {\\n        emitAnswer(\\"I'll loot it all (clear the gameData.lootBox array in your next response!)\\");\\n        $game.gameData.event.lootMode = false;\\n    }\\n    hideWindow();\\n}\\nfunction lootAll() {\\n    $game.gameData.lootBox.forEach((item) => {\\n        if (item.type == \\"weapon\\" || item.type == \\"potion\\") {\\n            $character.inventory.push(item);\\n            $character.inventory = $character.inventory;\\n        }\\n        else if (item.type == \\"destruction spell\\" || item.type == \\"healing spell\\" || item.type == \\"unique spell\\") {\\n            $character.spells.push(item);\\n            $character.spells = $character.spells;\\n        }\\n        else if (item.type == \\"currency\\") {\\n            $character.gold += parseInt(item.amount);\\n        }\\n        else {\\n            $character.inventory.push(item);\\n            $character.inventory = $character.inventory;\\n        }\\n    });\\n    $game.gameData.lootBox = [];\\n    if (!$game.gameData.lootBox?.length) {\\n        emitAnswer(\\"I've looted all. What should i do now..? (clear the gameData.lootBox array in your next response!)\\");\\n        $game.gameData.event.lootMode = false;\\n    }\\n}\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", {\\n        answer\\n    });\\n}\\n<\/script>\\r\\n\\r\\n<!-- loot ui-->\\r\\n<div class=\\"loot-panel\\" transition:fade={{ duration: 400 }}>\\r\\n\\t<!-- Loot Header -->\\r\\n\\t<div class=\\"loot-header\\">\\r\\n\\t\\t<span class=\\"loot-icon\\">ðŸ’°</span>\\r\\n\\t\\t<h3>\\r\\n\\t\\t\\tYou're <span class=\\"loot-accent\\">looting</span>\\r\\n\\t\\t</h3>\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- Loot Items Grid -->\\r\\n\\t{#if !$game.gameData.lootBox?.length}\\r\\n\\t\\t<p class=\\"empty-loot\\">No loot available</p>\\r\\n\\t{:else}\\r\\n\\t\\t<div class=\\"loot-items\\">\\r\\n\\t\\t\\t{#each $game.gameData.lootBox as item, i}\\r\\n\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\tclass=\\"loot-item-btn\\"\\r\\n\\t\\t\\t\\t\\tdisabled={$misc.loading}\\r\\n\\t\\t\\t\\t\\ton:click={() => lootItem(item)}\\r\\n\\t\\t\\t\\t\\ton:mouseenter={(event) => handleMouseMove(event, item)}\\r\\n\\t\\t\\t\\t\\ton:mousemove={(event) => handleMouseMove(event, item)}\\r\\n\\t\\t\\t\\t\\ton:mouseleave={hideWindow}\\r\\n\\t\\t\\t\\t\\tin:fade={{ duration: 200, delay: i * 50 }}\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t{#if item.type == 'weapon'}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/{item.weaponClass}.svg\\" alt={item.name} />\\r\\n\\t\\t\\t\\t\\t{:else if item.element}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/{item.element}.svg\\" alt={item.name} />\\r\\n\\t\\t\\t\\t\\t{:else if item.type == 'potion' || item.type == 'currency'}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/{item.type}.svg\\" alt={item.name} />\\r\\n\\t\\t\\t\\t\\t{:else}\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\"item-icon\\" src=\\"images/item.svg\\" alt={item.name} />\\r\\n\\t\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t{/each}\\r\\n\\r\\n\\t\\t\\t<button class=\\"loot-all-btn\\" disabled={$misc.loading} on:click={() => lootAll()}>\\r\\n\\t\\t\\t\\tLoot All\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n</div>\\r\\n\\r\\n<!-- loot ui ends here -->\\r\\n<style>\\r\\n\\t.loot-panel {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(24px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-lg);\\r\\n\\t\\tpadding: var(--space-lg) var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tmax-width: 500px;\\r\\n\\t\\tmargin: 0 auto;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-header {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-header h3 {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tfont-size: 1.1rem;\\r\\n\\t\\tfont-weight: 400;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-icon {\\r\\n\\t\\tfont-size: 1.2rem;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-accent {\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-items {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-wrap: wrap;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\talign-items: center;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-item-btn {\\r\\n\\t\\twidth: 60px;\\r\\n\\t\\theight: 60px;\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.05);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t\\tposition: relative;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-item-btn:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-accent-secondary);\\r\\n\\t\\ttransform: translateY(-2px);\\r\\n\\t\\tbox-shadow: 0 4px 12px rgba(63, 207, 142, 0.2);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-item-btn:active:not(:disabled) {\\r\\n\\t\\ttransform: translateY(0);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-item-btn:disabled {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.item-icon {\\r\\n\\t\\twidth: 70%;\\r\\n\\t\\theight: 70%;\\r\\n\\t\\tobject-fit: contain;\\r\\n\\t}\\r\\n\\r\\n\\t.loot-all-btn {\\r\\n\\t\\tpadding: var(--space-sm) var(--space-md);\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(63, 207, 142, 0.2), rgba(63, 207, 142, 0.1));\\r\\n\\t\\tborder: 1px solid var(--color-accent-secondary);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcolor: var(--color-accent-secondary);\\r\\n\\t\\tfont-size: 0.85rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-all-btn:hover:not(:disabled) {\\r\\n\\t\\tbackground: linear-gradient(135deg, rgba(63, 207, 142, 0.3), rgba(63, 207, 142, 0.15));\\r\\n\\t\\tbox-shadow: 0 0 12px rgba(63, 207, 142, 0.3);\\r\\n\\t}\\r\\n\\r\\n\\t.loot-all-btn:disabled {\\r\\n\\t\\topacity: 0.5;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.empty-loot {\\r\\n\\t\\tcolor: var(--color-text-muted);\\r\\n\\t\\tfont-size: 0.875rem;\\r\\n\\t\\ttext-align: center;\\r\\n\\t}\\r\\n\\r\\n\\t@media (max-width: 480px) {\\r\\n\\t\\t.loot-panel {\\r\\n\\t\\t\\tpadding: var(--space-md);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.loot-item-btn {\\r\\n\\t\\t\\twidth: 50px;\\r\\n\\t\\t\\theight: 50px;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.loot-header h3 {\\r\\n\\t\\t\\tfont-size: 0.95rem;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const LootUI = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $game, $$unsubscribe_game;
  let $$unsubscribe_character;
  let $misc, $$unsubscribe_misc;
  let $$unsubscribe_descWindow;
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  $$unsubscribe_character = subscribe(character, (value) => value);
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_descWindow = subscribe(descWindow, (value) => value);
  createEventDispatcher();
  $$result.css.add(css$6);
  $$unsubscribe_game();
  $$unsubscribe_character();
  $$unsubscribe_misc();
  $$unsubscribe_descWindow();
  return ` <div class="loot-panel svelte-1qmhwsd"> <div class="loot-header svelte-1qmhwsd" data-svelte-h="svelte-1gcu6fj"><span class="loot-icon svelte-1qmhwsd">ðŸ’°</span> <h3 class="svelte-1qmhwsd">You&#39;re <span class="loot-accent svelte-1qmhwsd">looting</span></h3></div>  ${!$game.gameData.lootBox?.length ? `<p class="empty-loot svelte-1qmhwsd" data-svelte-h="svelte-bqdugv">No loot available</p>` : `<div class="loot-items svelte-1qmhwsd">${each($game.gameData.lootBox, (item, i) => {
    return `<button class="loot-item-btn svelte-1qmhwsd" ${$misc.loading ? "disabled" : ""}>${item.type == "weapon" ? `<img class="item-icon svelte-1qmhwsd" src="${"images/" + escape(item.weaponClass, true) + ".svg"}"${add_attribute("alt", item.name, 0)}>` : `${item.element ? `<img class="item-icon svelte-1qmhwsd" src="${"images/" + escape(item.element, true) + ".svg"}"${add_attribute("alt", item.name, 0)}>` : `${item.type == "potion" || item.type == "currency" ? `<img class="item-icon svelte-1qmhwsd" src="${"images/" + escape(item.type, true) + ".svg"}"${add_attribute("alt", item.name, 0)}>` : `<img class="item-icon svelte-1qmhwsd" src="images/item.svg"${add_attribute("alt", item.name, 0)}>`}`}`} </button>`;
  })} <button class="loot-all-btn svelte-1qmhwsd" ${$misc.loading ? "disabled" : ""}>Loot All</button></div>`}</div> `;
});
const css$5 = {
  code: ".death.svelte-qs22l5{min-height:36.9%;display:flex;justify-content:space-between;flex-direction:column;width:100%;height:100%;margin-inline:auto;gap:1rem;backdrop-filter:blur(2px)}.death-box.svelte-qs22l5{background-color:rgba(31, 31, 31, 0.841);border-radius:0.5rem;height:100%}.you-died.svelte-qs22l5{position:absolute;top:1.5rem;left:50%;transform:translateX(-50%);font-size:2rem;color:brown}.new-game.svelte-qs22l5{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);margin-top:2rem;font-size:1.3rem;color:#3fcf8e;border:3px solid rgba(121, 121, 121, 0.373);padding:1rem;border-radius:0.6rem;transition:0.1s;cursor:pointer}.new-game.svelte-qs22l5:hover{transform:translate(-50%, -50%) scale(0.97)}@media(orientation: portrait){.death.svelte-qs22l5{min-height:95%}.death-box.svelte-qs22l5{display:flex;align-items:center;justify-content:space-around}.you-died.svelte-qs22l5{position:relative;transform:none;top:0;left:0}.new-game.svelte-qs22l5{position:relative;transform:none;top:0;left:0;margin:0}}",
  map: '{"version":3,"file":"DeathUI.svelte","sources":["DeathUI.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../../stores\\";\\nimport { misc } from \\"../../../stores\\";\\nimport { fade } from \\"svelte/transition\\";\\nfunction restartGame() {\\n    $misc.death = false;\\n    $misc.started = false;\\n}\\n<\/script>\\r\\n\\r\\n{#if !$misc.loading}\\r\\n\\t<div transition:fade={{ duration: 2000 }} class=\\"death\\">\\r\\n\\t\\t<div class=\\"death-box\\">\\r\\n\\t\\t\\t<h3 class=\\"you-died\\">You Died.</h3>\\r\\n\\t\\t\\t<button on:click={() => restartGame()} class=\\"new-game\\">Start a New Game!</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\t.death {\\r\\n\\t\\tmin-height: 36.9%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tmargin-inline: auto;\\r\\n\\t\\tgap: 1rem;\\r\\n\\t\\tbackdrop-filter: blur(2px);\\r\\n\\t}\\r\\n\\t.death-box {\\r\\n\\t\\tbackground-color: rgba(31, 31, 31, 0.841);\\r\\n\\t\\tborder-radius: 0.5rem;\\r\\n\\t\\theight: 100%;\\r\\n\\t}\\r\\n\\t.you-died {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 1.5rem;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttransform: translateX(-50%);\\r\\n\\r\\n\\t\\tfont-size: 2rem;\\r\\n\\t\\tcolor: brown;\\r\\n\\t}\\r\\n\\t.new-game {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 50%;\\r\\n\\t\\tleft: 50%;\\r\\n\\t\\ttransform: translate(-50%, -50%);\\r\\n\\t\\tmargin-top: 2rem;\\r\\n\\t\\tfont-size: 1.3rem;\\r\\n\\t\\tcolor: #3fcf8e;\\r\\n\\t\\tborder: 3px solid rgba(121, 121, 121, 0.373);\\r\\n\\t\\tpadding: 1rem;\\r\\n\\t\\tborder-radius: 0.6rem;\\r\\n\\t\\ttransition: 0.1s;\\r\\n\\r\\n\\t\\tcursor: pointer;\\r\\n\\t}\\r\\n\\t.new-game:hover {\\r\\n\\t\\ttransform: translate(-50%, -50%) scale(0.97);\\r\\n\\t}\\r\\n\\r\\n\\t@media (orientation: portrait) {\\r\\n\\t\\t.death {\\r\\n\\t\\t\\tmin-height: 95%;\\r\\n\\t\\t}\\r\\n\\t\\t.death-box {\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t\\tjustify-content: space-around;\\r\\n\\t\\t}\\r\\n\\t\\t.you-died {\\r\\n\\t\\t\\tposition: relative;\\r\\n\\t\\t\\ttransform: none;\\r\\n\\t\\t\\ttop: 0;\\r\\n\\t\\t\\tleft: 0;\\r\\n\\t\\t}\\r\\n\\t\\t.new-game {\\r\\n\\t\\t\\tposition: relative;\\r\\n\\t\\t\\ttransform: none;\\r\\n\\t\\t\\ttop: 0;\\r\\n\\t\\t\\tleft: 0;\\r\\n\\t\\t\\tmargin: 0;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAmBC,oBAAO,CACN,UAAU,CAAE,KAAK,CACjB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,cAAc,CAAE,MAAM,CACtB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,IAAI,CACnB,GAAG,CAAE,IAAI,CACT,eAAe,CAAE,KAAK,GAAG,CAC1B,CACA,wBAAW,CACV,gBAAgB,CAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CACzC,aAAa,CAAE,MAAM,CACrB,MAAM,CAAE,IACT,CACA,uBAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,MAAM,CACX,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,WAAW,IAAI,CAAC,CAE3B,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,KACR,CACA,uBAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAChC,UAAU,CAAE,IAAI,CAChB,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAC5C,OAAO,CAAE,IAAI,CACb,aAAa,CAAE,MAAM,CACrB,UAAU,CAAE,IAAI,CAEhB,MAAM,CAAE,OACT,CACA,uBAAS,MAAO,CACf,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,CAC5C,CAEA,MAAO,cAAc,QAAQ,CAAE,CAC9B,oBAAO,CACN,UAAU,CAAE,GACb,CACA,wBAAW,CACV,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,YAClB,CACA,uBAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CACP,CACA,uBAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,CACT,CACD"}'
};
const DeathUI = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $misc, $$unsubscribe_misc;
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$result.css.add(css$5);
  $$unsubscribe_misc();
  return `${!$misc.loading ? `<div class="death svelte-qs22l5"><div class="death-box svelte-qs22l5"><h3 class="you-died svelte-qs22l5" data-svelte-h="svelte-tf9q50">You Died.</h3> <button class="new-game svelte-qs22l5" data-svelte-h="svelte-1omjvs8">Start a New Game!</button></div></div>` : ``}`;
});
const css$4 = {
  code: ".bottom-bar.svelte-oa5h26.svelte-oa5h26{position:fixed;top:var(--space-md);right:var(--space-md);display:flex;align-items:center;justify-content:flex-end;gap:var(--space-sm);padding:var(--space-xs);z-index:200}.stat-chip.svelte-oa5h26.svelte-oa5h26{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-md);background:var(--color-bg-card);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--color-border);border-radius:20px;min-width:80px}.stat-chip.gold.svelte-oa5h26 svg.svelte-oa5h26{flex-shrink:0}.stat-chip.time.svelte-oa5h26 svg.svelte-oa5h26{color:var(--color-text-secondary);flex-shrink:0}.stat-value.svelte-oa5h26.svelte-oa5h26{font-size:0.9rem;font-weight:500;color:var(--color-text-primary);font-variant-numeric:tabular-nums}.action-buttons.svelte-oa5h26.svelte-oa5h26{display:flex;gap:var(--space-sm);flex-wrap:wrap;justify-content:center}.action-btn.svelte-oa5h26.svelte-oa5h26{display:flex;align-items:center;gap:var(--space-xs);padding:var(--space-xs) var(--space-md);background:var(--color-bg-glass);backdrop-filter:blur(12px);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-primary);font-size:0.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn.svelte-oa5h26.svelte-oa5h26:hover:not(:disabled){background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover)}.action-btn.svelte-oa5h26.svelte-oa5h26:disabled{opacity:0.4;cursor:not-allowed}.action-btn.retreat.svelte-oa5h26.svelte-oa5h26{background:var(--color-bg-card);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-color:var(--color-border);color:var(--color-text-primary);font-weight:500}.action-btn.retreat.svelte-oa5h26.svelte-oa5h26:hover:not(:disabled){background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover)}.action-btn.leave-shop.svelte-oa5h26.svelte-oa5h26{background:var(--color-bg-card);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-color:var(--color-border);color:var(--color-text-primary);font-weight:500}.action-btn.leave-shop.svelte-oa5h26.svelte-oa5h26:hover:not(:disabled){background:rgba(255, 255, 255, 0.1);border-color:var(--color-border-hover)}@media(max-width: 600px){.bottom-bar.svelte-oa5h26.svelte-oa5h26{flex-wrap:wrap;gap:var(--space-sm)}.stat-chip.svelte-oa5h26.svelte-oa5h26{min-width:70px;padding:var(--space-xs) var(--space-sm)}.stat-value.svelte-oa5h26.svelte-oa5h26{font-size:0.85rem}.action-btn.svelte-oa5h26.svelte-oa5h26{font-size:0.75rem;padding:var(--space-xs) var(--space-sm)}}",
  map: `{"version":3,"file":"BottomUIBar.svelte","sources":["BottomUIBar.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { misc } from \\"../../../stores\\";\\nimport { game } from \\"../../../stores\\";\\nimport { character } from \\"../../../stores\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nimport { fade, fly } from \\"svelte/transition\\";\\nconst dispatch = createEventDispatcher();\\nfunction calculateRetreat() {\\n    let number = Math.floor(Math.random() * 6) + 1;\\n    if (number <= 3) {\\n        emitAnswer(\\"Player tries to escape, but got hit while trying to escape, couldn't escape and lost 20 health. Combat goes on.\\");\\n        $character.stats[0].hp -= 20;\\n    }\\n    else {\\n        emitAnswer(\\"Player tries to escape, and escapes from the combat area successfully!\\");\\n        $game.gameData.event.inCombat = false;\\n        $game.gameData.enemy = [];\\n    }\\n}\\nfunction leaveButton(leaveString) {\\n    emitAnswer(leaveString);\\n    $game.gameData.event.shopMode = null;\\n    $game.gameData.event.lootMode = false;\\n    $game.gameData.lootBox = [];\\n}\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", { answer });\\n}\\nfunction extractHours(time) {\\n    if (!time)\\n        return 0;\\n    const parts = time.split(\\":\\");\\n    return parseInt(parts[0]) || 0;\\n}\\n<\/script>\\r\\n\\r\\n{#if !$misc.loading}\\r\\n\\t{#if $game.gameData.choices?.length >= 2 || $game.gameData.event?.inCombat || $game.gameData.event?.shopMode || $game.gameData.event?.lootMode}\\r\\n\\t\\t<div class=\\"bottom-bar\\" in:fly={{ y: 20, duration: 400, delay: 200 }}>\\r\\n\\t\\t\\t<!-- Gold Display -->\\r\\n\\t\\t\\t<div class=\\"stat-chip gold\\">\\r\\n\\t\\t\\t\\t<svg width=\\"16\\" height=\\"16\\" viewBox=\\"0 0 24 24\\" fill=\\"currentColor\\">\\r\\n\\t\\t\\t\\t\\t<circle cx=\\"12\\" cy=\\"12\\" r=\\"10\\" fill=\\"#f0c040\\" />\\r\\n\\t\\t\\t\\t\\t<circle cx=\\"12\\" cy=\\"12\\" r=\\"6\\" fill=\\"#d4a832\\" />\\r\\n\\t\\t\\t\\t</svg>\\r\\n\\t\\t\\t\\t<span class=\\"stat-value\\">{$character.gold}</span>\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<!-- Action Buttons (contextual) -->\\r\\n\\t\\t\\t<div class=\\"action-buttons\\">\\r\\n\\t\\t\\t\\t{#if $game.gameData.event?.inCombat}\\r\\n\\t\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\t\\tclass=\\"action-btn retreat\\"\\r\\n\\t\\t\\t\\t\\t\\tdisabled={$misc.loading}\\r\\n\\t\\t\\t\\t\\t\\ton:click={() => calculateRetreat()}\\r\\n\\t\\t\\t\\t\\t\\tin:fade={{ duration: 200 }}\\r\\n\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t<svg\\r\\n\\t\\t\\t\\t\\t\\t\\twidth=\\"16\\"\\r\\n\\t\\t\\t\\t\\t\\t\\theight=\\"16\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tviewBox=\\"0 0 24 24\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tfill=\\"none\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tstroke=\\"currentColor\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tstroke-width=\\"2\\"\\r\\n\\t\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\"M19 12H5M12 19l-7-7 7-7\\" />\\r\\n\\t\\t\\t\\t\\t\\t</svg>\\r\\n\\t\\t\\t\\t\\t\\t<span>Retreat</span>\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t{:else if $game.gameData.event?.shopMode}\\r\\n\\t\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\t\\tclass=\\"action-btn leave-shop\\"\\r\\n\\t\\t\\t\\t\\t\\tdisabled={$misc.loading}\\r\\n\\t\\t\\t\\t\\t\\ton:click={() => {\\r\\n\\t\\t\\t\\t\\t\\t\\tleaveButton(\\"I'll leave the shop.\\")\\r\\n\\t\\t\\t\\t\\t\\t\\t$game.gameData.event.shopMode = null\\r\\n\\t\\t\\t\\t\\t\\t}}\\r\\n\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\tðŸšª Leave Shop\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t{:else if $game.gameData.event?.lootMode}\\r\\n\\t\\t\\t\\t\\t<button\\r\\n\\t\\t\\t\\t\\t\\tclass=\\"action-btn\\"\\r\\n\\t\\t\\t\\t\\t\\tdisabled={$misc.loading}\\r\\n\\t\\t\\t\\t\\t\\tstyle=\\"opacity: {$game.gameData.lootBox?.length ? '1' : '0'};\\"\\r\\n\\t\\t\\t\\t\\t\\ton:click={() => leaveButton('Leave the loot.')}\\r\\n\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\tLeave it\\r\\n\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t{/if}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<!-- Time Display -->\\r\\n\\t\\t\\t<div class=\\"stat-chip time\\">\\r\\n\\t\\t\\t\\t<svg\\r\\n\\t\\t\\t\\t\\twidth=\\"16\\"\\r\\n\\t\\t\\t\\t\\theight=\\"16\\"\\r\\n\\t\\t\\t\\t\\tviewBox=\\"0 0 24 24\\"\\r\\n\\t\\t\\t\\t\\tfill=\\"none\\"\\r\\n\\t\\t\\t\\t\\tstroke=\\"currentColor\\"\\r\\n\\t\\t\\t\\t\\tstroke-width=\\"2\\"\\r\\n\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t<circle cx=\\"12\\" cy=\\"12\\" r=\\"10\\" />\\r\\n\\t\\t\\t\\t\\t<path d=\\"M12 6v6l4 2\\" />\\r\\n\\t\\t\\t\\t</svg>\\r\\n\\t\\t\\t\\t<span class=\\"stat-value\\">{$game.gameData.placeAndTime?.time || '00:00'}</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t{/if}\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\t.bottom-bar {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\ttop: var(--space-md);\\r\\n\\t\\tright: var(--space-md);\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: flex-end;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: var(--space-xs);\\r\\n\\t\\tz-index: 200;\\r\\n\\t}\\r\\n\\r\\n\\t/* Stat Chips */\\r\\n\\t.stat-chip {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tpadding: var(--space-xs) var(--space-md);\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: 20px;\\r\\n\\t\\tmin-width: 80px;\\r\\n\\t}\\r\\n\\r\\n\\t.stat-chip.gold svg {\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.stat-chip.time svg {\\r\\n\\t\\tcolor: var(--color-text-secondary);\\r\\n\\t\\tflex-shrink: 0;\\r\\n\\t}\\r\\n\\r\\n\\t.stat-value {\\r\\n\\t\\tfont-size: 0.9rem;\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-variant-numeric: tabular-nums;\\r\\n\\t}\\r\\n\\r\\n\\t/* Action Buttons */\\r\\n\\t.action-buttons {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tgap: var(--space-sm);\\r\\n\\t\\tflex-wrap: wrap;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tgap: var(--space-xs);\\r\\n\\t\\tpadding: var(--space-xs) var(--space-md);\\r\\n\\t\\tbackground: var(--color-bg-glass);\\r\\n\\t\\tbackdrop-filter: blur(12px);\\r\\n\\t\\tborder: 1px solid var(--color-border);\\r\\n\\t\\tborder-radius: var(--radius-md);\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-size: 0.8rem;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t\\ttransition: all var(--transition-fast);\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn:disabled {\\r\\n\\t\\topacity: 0.4;\\r\\n\\t\\tcursor: not-allowed;\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn.retreat {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder-color: var(--color-border);\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn.retreat:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn.secondary {\\r\\n\\t\\tbackground: transparent;\\r\\n\\t\\tborder-color: rgba(255, 255, 255, 0.15);\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn.leave-shop {\\r\\n\\t\\tbackground: var(--color-bg-card);\\r\\n\\t\\tbackdrop-filter: blur(16px);\\r\\n\\t\\t-webkit-backdrop-filter: blur(16px);\\r\\n\\t\\tborder-color: var(--color-border);\\r\\n\\t\\tcolor: var(--color-text-primary);\\r\\n\\t\\tfont-weight: 500;\\r\\n\\t}\\r\\n\\r\\n\\t.action-btn.leave-shop:hover:not(:disabled) {\\r\\n\\t\\tbackground: rgba(255, 255, 255, 0.1);\\r\\n\\t\\tborder-color: var(--color-border-hover);\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive */\\r\\n\\t@media (max-width: 600px) {\\r\\n\\t\\t.bottom-bar {\\r\\n\\t\\t\\tflex-wrap: wrap;\\r\\n\\t\\t\\tgap: var(--space-sm);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.stat-chip {\\r\\n\\t\\t\\tmin-width: 70px;\\r\\n\\t\\t\\tpadding: var(--space-xs) var(--space-sm);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.stat-value {\\r\\n\\t\\t\\tfont-size: 0.85rem;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.action-btn {\\r\\n\\t\\t\\tfont-size: 0.75rem;\\r\\n\\t\\t\\tpadding: var(--space-xs) var(--space-sm);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const BottomUIBar = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $game, $$unsubscribe_game;
  let $character, $$unsubscribe_character;
  let $misc, $$unsubscribe_misc;
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  $$unsubscribe_character = subscribe(character, (value) => $character = value);
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  createEventDispatcher();
  $$result.css.add(css$4);
  $$unsubscribe_game();
  $$unsubscribe_character();
  $$unsubscribe_misc();
  return `${!$misc.loading ? `${$game.gameData.choices?.length >= 2 || $game.gameData.event?.inCombat || $game.gameData.event?.shopMode || $game.gameData.event?.lootMode ? `<div class="bottom-bar svelte-oa5h26"> <div class="stat-chip gold svelte-oa5h26"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-oa5h26"><circle cx="12" cy="12" r="10" fill="#f0c040"></circle><circle cx="12" cy="12" r="6" fill="#d4a832"></circle></svg> <span class="stat-value svelte-oa5h26">${escape($character.gold)}</span></div>  <div class="action-buttons svelte-oa5h26">${$game.gameData.event?.inCombat ? `<button class="action-btn retreat svelte-oa5h26" ${$misc.loading ? "disabled" : ""}><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg> <span data-svelte-h="svelte-1lsngfr">Retreat</span></button>` : `${$game.gameData.event?.shopMode ? `<button class="action-btn leave-shop svelte-oa5h26" ${$misc.loading ? "disabled" : ""}>ðŸšª Leave Shop</button>` : `${$game.gameData.event?.lootMode ? `<button class="action-btn svelte-oa5h26" ${$misc.loading ? "disabled" : ""} style="${"opacity: " + escape($game.gameData.lootBox?.length ? "1" : "0", true) + ";"}">Leave it</button>` : ``}`}`}</div>  <div class="stat-chip time svelte-oa5h26"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-oa5h26"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v6l4 2"></path></svg> <span class="stat-value svelte-oa5h26">${escape($game.gameData.placeAndTime?.time || "00:00")}</span></div></div>` : ``}` : ``}`;
});
const css$3 = {
  code: ".ui-mid.svelte-1sr59j3{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;gap:var(--space-md)}.shop-layout.svelte-1sr59j3{display:grid;grid-template-columns:60% 1fr;gap:var(--space-md);width:100%}@media(max-width: 768px){.shop-layout.svelte-1sr59j3{grid-template-columns:1fr}}.svelte-1sr59j3::placeholder{color:#aaa}",
  map: '{"version":3,"file":"Choices.svelte","sources":["Choices.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { game } from \\"../../stores\\";\\nimport { misc } from \\"../../stores\\";\\nimport PickChoice from \\"$lib/components/MainControls/PickChoiceUI.svelte\\";\\nimport Combat from \\"$lib/components/MainControls/CombatUI.svelte\\";\\nimport Shop from \\"$lib/components/MainControls/ShopUI.svelte\\";\\nimport Loot from \\"$lib/components/MainControls/LootUI.svelte\\";\\nimport Death from \\"$lib/components/MainControls/DeathUI.svelte\\";\\nimport GoldTime from \\"$lib/components/MainControls/BottomUIBar.svelte\\";\\nimport { createEventDispatcher } from \\"svelte\\";\\nconst dispatch = createEventDispatcher();\\nfunction emitAnswer(answer) {\\n    dispatch(\\"emittedAnswer\\", {\\n        answer\\n    });\\n}\\nfunction handleEmittedAnswer(event) {\\n    emitAnswer(event.detail.answer);\\n}\\n<\/script>\\r\\n\\r\\n{#if $misc.started}\\r\\n\\t<div class=\\"ui-mid\\">\\r\\n\\t\\t<!-- Death Screen -->\\r\\n\\t\\t{#if $misc.death}\\r\\n\\t\\t\\t<Death />\\r\\n\\t\\t\\t<!-- Combat Screen -->\\r\\n\\t\\t{:else if $game.gameData.event?.inCombat && $game.gameData.enemy}\\r\\n\\t\\t\\t<Combat on:emittedAnswer={handleEmittedAnswer} />\\r\\n\\t\\t\\t<!-- Loot Screen -->\\r\\n\\t\\t{:else if $game.gameData.event?.lootMode}\\r\\n\\t\\t\\t<Loot on:emittedAnswer={handleEmittedAnswer} />\\r\\n\\t\\t\\t<!-- Shop Mode - Show BOTH choices and shop -->\\r\\n\\t\\t{:else if $game.gameData.event?.shopMode}\\r\\n\\t\\t\\t<div class=\\"shop-layout\\">\\r\\n\\t\\t\\t\\t<!-- Choices on top -->\\r\\n\\t\\t\\t\\t<PickChoice on:emittedAnswer={handleEmittedAnswer} />\\r\\n\\t\\t\\t\\t<!-- Shop items below -->\\r\\n\\t\\t\\t\\t<Shop />\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<!-- Normal Mode - Just choices -->\\r\\n\\t\\t{:else if $game.gameData.event}\\r\\n\\t\\t\\t<PickChoice on:emittedAnswer={handleEmittedAnswer} />\\r\\n\\t\\t{/if}\\r\\n\\r\\n\\t\\t<GoldTime on:emittedAnswer={handleEmittedAnswer} />\\r\\n\\t</div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n\\t.ui-mid {\\r\\n\\t\\theight: 100%;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\talign-items: flex-start;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t}\\r\\n\\r\\n\\t.shop-layout {\\r\\n\\t\\tdisplay: grid;\\r\\n\\t\\tgrid-template-columns: 60% 1fr;\\r\\n\\t\\tgap: var(--space-md);\\r\\n\\t\\twidth: 100%;\\r\\n\\t}\\r\\n\\r\\n\\t/* Responsive: Stack on smaller screens */\\r\\n\\t@media (max-width: 768px) {\\r\\n\\t\\t.shop-layout {\\r\\n\\t\\t\\tgrid-template-columns: 1fr;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t::placeholder {\\r\\n\\t\\tcolor: #aaa;\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAiDC,sBAAQ,CACP,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,UAAU,CACvB,GAAG,CAAE,IAAI,UAAU,CACpB,CAEA,2BAAa,CACZ,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,GAAG,CAAC,GAAG,CAC9B,GAAG,CAAE,IAAI,UAAU,CAAC,CACpB,KAAK,CAAE,IACR,CAGA,MAAO,YAAY,KAAK,CAAE,CACzB,2BAAa,CACZ,qBAAqB,CAAE,GACxB,CACD,gBAEA,aAAc,CACb,KAAK,CAAE,IACR"}'
};
const Choices = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $misc, $$unsubscribe_misc;
  let $game, $$unsubscribe_game;
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  createEventDispatcher();
  $$result.css.add(css$3);
  $$unsubscribe_misc();
  $$unsubscribe_game();
  return `${$misc.started ? `<div class="ui-mid svelte-1sr59j3"> ${$misc.death ? `${validate_component(DeathUI, "Death").$$render($$result, {}, {}, {})} ` : `${$game.gameData.event?.inCombat && $game.gameData.enemy ? `${validate_component(CombatUI, "Combat").$$render($$result, {}, {}, {})} ` : `${$game.gameData.event?.lootMode ? `${validate_component(LootUI, "Loot").$$render($$result, {}, {}, {})} ` : `${$game.gameData.event?.shopMode ? `<div class="shop-layout svelte-1sr59j3"> ${validate_component(PickChoiceUI, "PickChoice").$$render($$result, {}, {}, {})}  ${validate_component(ShopUI, "Shop").$$render($$result, {}, {}, {})}</div> ` : `${$game.gameData.event ? `${validate_component(PickChoiceUI, "PickChoice").$$render($$result, {}, {}, {})}` : ``}`}`}`}`} ${validate_component(BottomUIBar, "GoldTime").$$render($$result, {}, {}, {})}</div>` : ``}`;
});
const css$2 = {
  code: ".bg-container.svelte-xau4yh{position:fixed;inset:0;z-index:0;overflow:hidden;background-color:#0a0a12}.bg-image.svelte-xau4yh{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;transition:opacity 2s ease}.bg-fallback.svelte-xau4yh{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0a0a12;background-image:url('/images/main-bg.webp');background-size:cover;background-position:center;background-repeat:no-repeat}.bg-overlay.svelte-xau4yh{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(\r\n			180deg,\r\n			rgba(0, 0, 0, 0.3) 0%,\r\n			rgba(0, 0, 0, 0.1) 30%,\r\n			rgba(0, 0, 0, 0.1) 70%,\r\n			rgba(0, 0, 0, 0.5) 100%\r\n		);pointer-events:none}",
  map: `{"version":3,"file":"BackgroundImgs.svelte","sources":["BackgroundImgs.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { bgImage } from \\"../../stores\\";\\n<\/script>\\r\\n\\r\\n<!-- Background Images Layer -->\\r\\n<div class=\\"bg-container\\">\\r\\n\\t<!-- Default fallback background - always render, just behind -->\\r\\n\\t<div class=\\"bg-fallback\\" />\\r\\n\\r\\n\\t<!-- Fetched backgrounds with crossfade -->\\r\\n\\t{#if $bgImage.fetchedBg1}\\r\\n\\t\\t<img\\r\\n\\t\\t\\tclass=\\"bg-image\\"\\r\\n\\t\\t\\tsrc={$bgImage.fetchedBg1}\\r\\n\\t\\t\\tstyle=\\"opacity: {$bgImage.img1active ? '1' : '0'};\\"\\r\\n\\t\\t\\talt=\\"\\"\\r\\n\\t\\t/>\\r\\n\\t{/if}\\r\\n\\r\\n\\t{#if $bgImage.fetchedBg2}\\r\\n\\t\\t<img\\r\\n\\t\\t\\tclass=\\"bg-image\\"\\r\\n\\t\\t\\tsrc={$bgImage.fetchedBg2}\\r\\n\\t\\t\\tstyle=\\"opacity: {$bgImage.img2active ? '1' : '0'};\\"\\r\\n\\t\\t\\talt=\\"\\"\\r\\n\\t\\t/>\\r\\n\\t{/if}\\r\\n\\r\\n\\t<!-- Overlay gradient for better text readability -->\\r\\n\\t<div class=\\"bg-overlay\\" />\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n\\t.bg-container {\\r\\n\\t\\tposition: fixed;\\r\\n\\t\\tinset: 0;\\r\\n\\t\\tz-index: 0;\\r\\n\\t\\toverflow: hidden;\\r\\n\\t\\tbackground-color: #0a0a12;\\r\\n\\t}\\r\\n\\r\\n\\t.bg-image {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 0;\\r\\n\\t\\tleft: 0;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tobject-fit: cover;\\r\\n\\t\\tobject-position: center;\\r\\n\\t\\ttransition: opacity 2s ease;\\r\\n\\t}\\r\\n\\r\\n\\t.bg-fallback {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 0;\\r\\n\\t\\tleft: 0;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tbackground-color: #0a0a12;\\r\\n\\t\\tbackground-image: url('/images/main-bg.webp');\\r\\n\\t\\tbackground-size: cover;\\r\\n\\t\\tbackground-position: center;\\r\\n\\t\\tbackground-repeat: no-repeat;\\r\\n\\t}\\r\\n\\r\\n\\t.bg-overlay {\\r\\n\\t\\tposition: absolute;\\r\\n\\t\\ttop: 0;\\r\\n\\t\\tleft: 0;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tbackground: linear-gradient(\\r\\n\\t\\t\\t180deg,\\r\\n\\t\\t\\trgba(0, 0, 0, 0.3) 0%,\\r\\n\\t\\t\\trgba(0, 0, 0, 0.1) 30%,\\r\\n\\t\\t\\trgba(0, 0, 0, 0.1) 70%,\\r\\n\\t\\t\\trgba(0, 0, 0, 0.5) 100%\\r\\n\\t\\t);\\r\\n\\t\\tpointer-events: none;\\r\\n\\t}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAgCC,2BAAc,CACb,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,CAAC,CACR,OAAO,CAAE,CAAC,CACV,QAAQ,CAAE,MAAM,CAChB,gBAAgB,CAAE,OACnB,CAEA,uBAAU,CACT,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,CACjB,eAAe,CAAE,MAAM,CACvB,UAAU,CAAE,OAAO,CAAC,EAAE,CAAC,IACxB,CAEA,0BAAa,CACZ,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,OAAO,CACzB,gBAAgB,CAAE,2BAA2B,CAC7C,eAAe,CAAE,KAAK,CACtB,mBAAmB,CAAE,MAAM,CAC3B,iBAAiB,CAAE,SACpB,CAEA,yBAAY,CACX,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE;AACd,GAAG,MAAM,CAAC;AACV,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;AACzB,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;AAC1B,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;AAC1B,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI;AAC1B,GAAG,CACD,cAAc,CAAE,IACjB"}`
};
const BackgroundImgs = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $bgImage, $$unsubscribe_bgImage;
  $$unsubscribe_bgImage = subscribe(bgImage, (value) => $bgImage = value);
  $$result.css.add(css$2);
  $$unsubscribe_bgImage();
  return ` <div class="bg-container svelte-xau4yh"> <div class="bg-fallback svelte-xau4yh"></div>  ${$bgImage.fetchedBg1 ? `<img class="bg-image svelte-xau4yh"${add_attribute("src", $bgImage.fetchedBg1, 0)} style="${"opacity: " + escape($bgImage.img1active ? "1" : "0", true) + ";"}" alt="">` : ``} ${$bgImage.fetchedBg2 ? `<img class="bg-image svelte-xau4yh"${add_attribute("src", $bgImage.fetchedBg2, 0)} style="${"opacity: " + escape($bgImage.img2active ? "1" : "0", true) + ";"}" alt="">` : ``}  <div class="bg-overlay svelte-xau4yh"></div> </div>`;
});
const buyWeapons = [
  {
    name: "Bronze Sword",
    damage: 4,
    price: 60,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Bronze Dagger",
    damage: 5,
    price: 85,
    type: "weapon",
    weaponClass: "dagger"
  },
  {
    name: "Wooden Bow",
    damage: 4,
    price: 60,
    type: "weapon",
    weaponClass: "bow"
  },
  {
    name: "Iron Mace",
    damage: 4,
    price: 60,
    type: "weapon",
    weaponClass: "mace"
  },
  {
    name: "Steel Longsword",
    damage: 13,
    price: 420,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Bronze Spear",
    damage: 9,
    price: 220,
    type: "weapon",
    weaponClass: "spear"
  },
  {
    name: "Iron Battle Axe",
    damage: 4,
    price: 60,
    type: "weapon",
    weaponClass: "axe"
  },
  {
    name: "Steel Axe",
    damage: 6,
    price: 110,
    type: "weapon",
    weaponClass: "axe"
  },
  {
    name: "Copper Flail",
    damage: 4,
    price: 60,
    type: "weapon",
    weaponClass: "flail"
  },
  {
    name: "Iron Warhammer",
    damage: 5,
    price: 85,
    type: "weapon",
    weaponClass: "axe"
  },
  {
    name: "Bronze Shortsword",
    damage: 5,
    price: 85,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Silver Shortbow",
    damage: 5,
    price: 85,
    type: "weapon",
    weaponClass: "bow"
  },
  {
    name: "Steel Dagger",
    damage: 6,
    price: 110,
    type: "weapon",
    weaponClass: "dagger"
  },
  {
    name: "Iron Flail",
    damage: 6,
    price: 110,
    type: "weapon",
    weaponClass: "flail"
  },
  {
    name: "Bronze Battle Axe",
    damage: 6,
    price: 110,
    type: "weapon",
    weaponClass: "axe"
  },
  {
    name: "Steel Mace",
    damage: 7,
    price: 130,
    type: "weapon",
    weaponClass: "mace"
  },
  {
    name: "Iron Shortsword",
    damage: 7,
    price: 130,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Copper Spear",
    damage: 7,
    price: 130,
    type: "weapon",
    weaponClass: "spear"
  },
  {
    name: "Silver Rapier",
    damage: 8,
    price: 160,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Silver Dagger",
    damage: 8,
    price: 160,
    type: "weapon",
    weaponClass: "dagger"
  },
  {
    name: "Iron Flail",
    damage: 8,
    price: 160,
    type: "weapon",
    weaponClass: "flail"
  },
  {
    name: "Steel Shortsword",
    damage: 9,
    price: 220,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Copper Shortbow",
    damage: 9,
    price: 220,
    type: "weapon",
    weaponClass: "bow"
  },
  {
    name: "Golden Dagger",
    damage: 10,
    price: 270,
    type: "weapon",
    weaponClass: "dagger"
  },
  {
    name: "Iron Longsword",
    damage: 10,
    price: 270,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Steel Spear",
    damage: 11,
    price: 330,
    type: "weapon",
    weaponClass: "spear"
  },
  {
    name: "Copper Battle Axe",
    damage: 12,
    price: 370,
    type: "weapon",
    weaponClass: "axe"
  },
  {
    name: "Bronze Mace",
    damage: 13,
    price: 420,
    type: "weapon",
    weaponClass: "mace"
  },
  {
    name: "Iron Rapier",
    damage: 14,
    price: 460,
    type: "weapon",
    weaponClass: "sword"
  },
  {
    name: "Steel Shortbow",
    damage: 15,
    price: 500,
    type: "weapon",
    weaponClass: "bow"
  }
];
const buySpells = [
  {
    name: "Mend Wounds",
    healing: 3,
    price: 60,
    manaCost: 20,
    type: "healing spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Nature's Grace",
    healing: 4,
    price: 100,
    manaCost: 25,
    type: "healing spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Renewed Vigor",
    healing: 5,
    price: 150,
    manaCost: 35,
    type: "healing spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Healing Light",
    healing: 7,
    price: 250,
    manaCost: 50,
    type: "healing spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Breath of Life",
    healing: 9,
    price: 350,
    manaCost: 70,
    type: "healing spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Arcane Nova",
    damage: 13,
    price: 400,
    manaCost: 65,
    type: "destruction spell",
    element: "fire",
    cooldown: 3
  },
  {
    name: "Shadow Lance",
    damage: 9,
    price: 250,
    manaCost: 50,
    type: "destruction spell",
    element: "dark",
    cooldown: 3
  },
  {
    name: "Frostbite Blast",
    damage: 8,
    price: 200,
    manaCost: 40,
    type: "destruction spell",
    element: "ice",
    cooldown: 3
  },
  {
    name: "Death's Embrace",
    damage: 11,
    price: 350,
    manaCost: 60,
    type: "destruction spell",
    element: "dark",
    cooldown: 3
  },
  {
    name: "Solar Flare",
    damage: 7,
    price: 130,
    manaCost: 30,
    type: "destruction spell",
    element: "fire",
    cooldown: 3
  },
  {
    name: "Thundering Tempest",
    damage: 7,
    price: 130,
    manaCost: 30,
    type: "destruction spell",
    element: "lightning",
    cooldown: 3
  },
  {
    name: "Divine Judgement",
    damage: 15,
    price: 500,
    manaCost: 70,
    type: "destruction spell",
    element: "light",
    cooldown: 3
  },
  {
    name: "Poisonous Cloud",
    damage: 6,
    price: 105,
    manaCost: 25,
    type: "destruction spell",
    element: "toxic",
    cooldown: 3
  },
  {
    name: "Ice Blast",
    damage: 10,
    price: 300,
    manaCost: 55,
    type: "destruction spell",
    element: "ice",
    cooldown: 3
  },
  {
    name: "Acid Rain",
    damage: 6,
    price: 105,
    manaCost: 25,
    type: "destruction spell",
    element: "toxic",
    cooldown: 3
  },
  {
    name: "Inferno Burst",
    damage: 6,
    price: 105,
    manaCost: 25,
    type: "destruction spell",
    element: "fire",
    cooldown: 3
  },
  {
    name: "Storm Surge",
    damage: 5,
    price: 75,
    manaCost: 20,
    type: "destruction spell",
    element: "lightning",
    cooldown: 3
  },
  {
    name: "Spectral Blade",
    damage: 8,
    price: 200,
    manaCost: 40,
    type: "destruction spell",
    element: "dark",
    cooldown: 3
  },
  {
    name: "Necrotic Touch",
    damage: 5,
    price: 75,
    manaCost: 20,
    type: "destruction spell",
    element: "dark",
    cooldown: 3
  },
  {
    name: "Soul Drain",
    damage: 5,
    price: 75,
    manaCost: 20,
    type: "destruction spell",
    element: "dark",
    cooldown: 3
  },
  {
    name: "Teleportation",
    price: 150,
    manaCost: 20,
    type: "unique spell",
    element: "unique",
    cooldown: 3
  },
  {
    name: "Summon",
    price: 600,
    manaCost: 50,
    type: "unique spell",
    element: "unique",
    cooldown: 5
  }
];
const buyPotions = [
  {
    name: "Health Potion",
    price: 30,
    type: "potion",
    healing: "60"
  },
  {
    name: "Mana Potion",
    price: 30,
    type: "potion",
    mana: "40"
  },
  {
    name: "Interactive Chat Potion",
    price: 30,
    type: "potion",
    point: 1
  }
];
const staticPlaces = [
  "Town",
  "City",
  "Forest",
  "Woods",
  "Academy",
  "Beach",
  "Castle",
  "Cathedral",
  "Cave",
  "Dungeon",
  "Harbor",
  "Shore",
  "Dock",
  "Library",
  "Monastery",
  "Mansion",
  "Mountain",
  "Shop",
  "Weaponsmith",
  "Armorsmith",
  "Blacksmith",
  "PotionShop",
  "SpellShop",
  "Spell Shop",
  "Potion Shop",
  "Merchant",
  "Market",
  "Marketplace",
  "Tavern",
  "Inn",
  "Outskirts",
  "River",
  "Garden",
  "Island",
  "Graveyard",
  "Village",
  "Mine",
  "Road"
];
const css$1 = {
  code: ".maintenance-overlay.svelte-xrh5lo.svelte-xrh5lo{position:fixed;inset:0;background:var(--color-bg-dark);display:flex;align-items:center;justify-content:center;z-index:1000}.maintenance-content.svelte-xrh5lo.svelte-xrh5lo{background:var(--color-bg-card);padding:var(--space-xl);border-radius:var(--radius-lg);text-align:center;border:1px solid var(--color-border)}.quota-overlay.svelte-xrh5lo.svelte-xrh5lo{position:fixed;inset:0;background:rgba(0, 0, 0, 0.85);display:flex;align-items:center;justify-content:center;z-index:2000;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.quota-content.svelte-xrh5lo.svelte-xrh5lo{background:var(--color-bg-glass);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);padding:var(--space-xl);border-radius:var(--radius-xl);text-align:center;border:1px solid var(--color-border);max-width:420px;margin:var(--space-md);box-shadow:var(--shadow-lg);transition:all 0.3s ease}.quota-content.high-demand.svelte-xrh5lo.svelte-xrh5lo{border-color:var(--color-accent-primary, #3b82f6);box-shadow:0 0 20px rgba(59, 130, 246, 0.2)}.quota-content.high-demand.svelte-xrh5lo h2.svelte-xrh5lo{color:var(--color-accent-primary, #3b82f6)}.quota-content.timeout.svelte-xrh5lo.svelte-xrh5lo{border-color:var(--color-accent-gold, #facc15);box-shadow:0 0 20px rgba(250, 204, 21, 0.2)}.quota-content.timeout.svelte-xrh5lo h2.svelte-xrh5lo{color:var(--color-accent-gold, #facc15)}.quota-icon.svelte-xrh5lo.svelte-xrh5lo{font-size:3rem;margin-bottom:var(--space-md)}.quota-content.svelte-xrh5lo h2.svelte-xrh5lo{color:var(--color-accent-warning, #f59e0b);margin-bottom:var(--space-md);font-size:1.5rem}.quota-content.svelte-xrh5lo p.svelte-xrh5lo{color:var(--color-text-primary);margin-bottom:var(--space-sm);line-height:1.6}.quota-detail.svelte-xrh5lo.svelte-xrh5lo{color:var(--color-text-secondary);font-size:0.9rem}.quota-sorry.svelte-xrh5lo.svelte-xrh5lo{color:var(--color-text-secondary);font-style:italic;margin-top:var(--space-md)}.quota-dismiss.svelte-xrh5lo.svelte-xrh5lo{margin-top:var(--space-lg);padding:var(--space-sm) var(--space-xl);background:linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));border:none;border-radius:var(--radius-md);color:white;font-weight:600;cursor:pointer;transition:transform 0.2s ease, box-shadow 0.2s ease}.quota-dismiss.svelte-xrh5lo.svelte-xrh5lo:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0, 0, 0, 0.3)}.game-container.svelte-xrh5lo.svelte-xrh5lo{min-height:100vh;min-height:100dvh;position:relative;z-index:1;display:flex;flex-direction:column}.game-content.svelte-xrh5lo.svelte-xrh5lo{display:flex;flex-direction:column;flex:1;padding:var(--space-md);padding-bottom:240px;max-width:1000px;width:100%;margin:0 auto;gap:var(--space-md)}.story-section.svelte-xrh5lo.svelte-xrh5lo{position:relative;height:35vh;overflow-y:auto;padding:var(--space-lg);border-radius:var(--radius-xl);background:var(--color-bg-glass);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--color-border);box-shadow:var(--shadow-lg);margin-top:var(--space-md)}.story-section.svelte-xrh5lo.svelte-xrh5lo::before{content:'';position:absolute;left:20px;right:20px;top:8px;height:2px;border-radius:2px;background:linear-gradient(\n			90deg,\n			transparent,\n			var(--color-accent-primary),\n			var(--color-accent-secondary),\n			var(--color-accent-primary),\n			transparent\n		);opacity:0.6}.loading-message.svelte-xrh5lo.svelte-xrh5lo{display:flex;align-items:flex-start;justify-content:center;min-height:60px;color:var(--color-text-secondary);font-size:1.5rem;letter-spacing:0.3em}.story-text.svelte-xrh5lo.svelte-xrh5lo{line-height:1.8;font-size:0.95rem;color:var(--color-text-primary);letter-spacing:0.01em}.choices-section.svelte-xrh5lo.svelte-xrh5lo{display:flex;flex-direction:column;gap:var(--space-sm)}.ui-section.svelte-xrh5lo.svelte-xrh5lo{margin-top:auto}.action-boxes.svelte-xrh5lo.svelte-xrh5lo{position:fixed;left:50%;transform:translateX(-50%);bottom:var(--space-md);display:flex;justify-content:space-between;align-items:flex-end;gap:var(--space-md);flex-wrap:wrap;width:min(calc(100% - var(--space-xl)), 800px);z-index:100}@media(max-width: 768px){.game-content.svelte-xrh5lo.svelte-xrh5lo{padding:var(--space-sm);padding-bottom:200px}.story-section.svelte-xrh5lo.svelte-xrh5lo{height:30vh;padding:var(--space-md);border-radius:var(--radius-lg)}.action-boxes.svelte-xrh5lo.svelte-xrh5lo{bottom:var(--space-sm);gap:var(--space-sm);width:calc(100% - var(--space-md))}}@media(max-width: 480px){.story-section.svelte-xrh5lo.svelte-xrh5lo{height:20vh}.story-text.svelte-xrh5lo.svelte-xrh5lo{font-size:0.875rem}.game-content.svelte-xrh5lo.svelte-xrh5lo{padding-bottom:140px}.action-boxes.svelte-xrh5lo.svelte-xrh5lo{flex-wrap:nowrap;overflow-x:auto;justify-content:space-between;padding:var(--space-xs);gap:var(--space-xs);-webkit-overflow-scrolling:touch}}@media(max-height: 500px) and (orientation: landscape){.story-section.svelte-xrh5lo.svelte-xrh5lo{max-height:40vh}.game-content.svelte-xrh5lo.svelte-xrh5lo{padding-bottom:160px}.action-boxes.svelte-xrh5lo.svelte-xrh5lo{bottom:var(--space-xs)}}",
  map: '{"version":3,"file":"Game.svelte","sources":["Game.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport { fade } from \\"svelte/transition\\";\\nimport LetterByLetter from \\"./LetterByLetter.svelte\\";\\nimport UiButtons from \\"./UiButtons.svelte\\";\\nimport GameStartWindow from \\"./GameStartWindow.svelte\\";\\nimport DescriptionWindow from \\"./ItemDescWindow.svelte\\";\\nimport MessageWindows from \\"./InGameWarnMsgs.svelte\\";\\nimport ActionBox from \\"./ActionBox.svelte\\";\\nimport Choices from \\"./Choices.svelte\\";\\nimport BackgroundImgs from \\"./BackgroundImgs.svelte\\";\\nimport { game, character, selectedItem, misc, coolDowns, bgImage, ui } from \\"../../stores\\";\\nimport { supabase } from \\"$lib/supabaseClient\\";\\nimport buyWeapons from \\"$lib/gamedata/weapons.json\\";\\nimport buySpells from \\"$lib/gamedata/spells.json\\";\\nimport buyPotions from \\"$lib/gamedata/potions.json\\";\\nimport staticPlaces from \\"$lib/gamedata/places.json\\";\\nimport medievalMageInventory from \\"$lib/gamedata/gamestarters/medievalMageInventory.json\\";\\nimport medievalMageSpells from \\"$lib/gamedata/gamestarters/medievalMageSpells.json\\";\\nimport medievalWarriorInventory from \\"$lib/gamedata/gamestarters/medievalWarriorInventory.json\\";\\nimport medievalWarriorSpells from \\"$lib/gamedata/gamestarters/medievalWarriorSpells.json\\";\\nimport { CHARACTER_CLASSES, STARTING_VALUES, SHOP_CONFIG } from \\"$lib/config/constants\\";\\nlet answer = \\"\\";\\nlet chatMessages = [];\\nlet enemyOnFrontend = false;\\nlet dotty = \\".\\";\\nlet quotaExceeded = false;\\nlet highDemand = false;\\nlet requestTimeout = false;\\nonMount(() => {\\n    const interval = setInterval(() => {\\n        if (dotty === \\"...\\") {\\n            dotty = \\"\\";\\n        }\\n        dotty += \\".\\";\\n    }, 400);\\n    return () => clearInterval(interval);\\n});\\nasync function handleSubmit() {\\n    $misc.loading = true;\\n    chatMessages = [...chatMessages, { role: \\"user\\", content: $misc.query }];\\n    const prompt = chatMessages.length > 0 ? $misc.query : getGamePrompt();\\n    console.log(\\"Sending prompt:\\", prompt);\\n    const controller = new AbortController();\\n    const timeoutId = setTimeout(() => {\\n        if ($misc.loading) {\\n            requestTimeout = true;\\n            $misc.loading = false;\\n            controller.abort();\\n        }\\n    }, 9e3);\\n    try {\\n        const response = await fetch(\\"/api/chat\\", {\\n            method: \\"POST\\",\\n            headers: { \\"Content-Type\\": \\"application/json\\" },\\n            body: JSON.stringify({ prompt }),\\n            signal: controller.signal\\n            // Link the abort signal\\n        });\\n        clearTimeout(timeoutId);\\n        requestTimeout = false;\\n        if (response.status === 429) {\\n            const errorData = await response.json();\\n            if (errorData.error === \\"quota_exceeded\\") {\\n                quotaExceeded = true;\\n                $misc.loading = false;\\n                return;\\n            }\\n        }\\n        if (response.status === 503) {\\n            const errorData = await response.json();\\n            if (errorData.error === \\"high_demand\\") {\\n                highDemand = true;\\n                requestTimeout = false;\\n                $misc.loading = false;\\n                return;\\n            }\\n        }\\n        if (response.status === 504) {\\n            if (requestTimeout)\\n                return;\\n            highDemand = true;\\n            requestTimeout = false;\\n            $misc.loading = false;\\n            return;\\n        }\\n        if (!response.ok) {\\n            throw new Error(`HTTP Error: ${response.status}`);\\n        }\\n        const responseData = await response.json();\\n        let gameData;\\n        const extractJSON = (text) => {\\n            let cleaned = text.replace(/```json\\\\s*/g, \\"\\").replace(/```\\\\s*/g, \\"\\").trim();\\n            const firstBrace = cleaned.indexOf(\\"{\\");\\n            if (firstBrace === -1)\\n                return cleaned;\\n            let braceCount = 0;\\n            let lastBrace = firstBrace;\\n            for (let i = firstBrace; i < cleaned.length; i++) {\\n                if (cleaned[i] === \\"{\\")\\n                    braceCount++;\\n                if (cleaned[i] === \\"}\\") {\\n                    braceCount--;\\n                    if (braceCount === 0) {\\n                        lastBrace = i;\\n                        break;\\n                    }\\n                }\\n            }\\n            return cleaned.substring(firstBrace, lastBrace + 1);\\n        };\\n        try {\\n            const rawText = responseData.candidates[0].content.parts[0].text;\\n            const jsonString = extractJSON(rawText);\\n            const parsed = JSON.parse(jsonString);\\n            gameData = parsed.gameData || parsed;\\n        }\\n        catch (error) {\\n            console.error(\\"JSON parse error, raw text:\\", responseData.candidates[0].content.parts[0].text);\\n            throw error;\\n        }\\n        console.log(\\"Parsed gameData:\\", gameData);\\n        let hpOfEnemy = 0;\\n        if ($game.gameData.enemy?.enemyHp) {\\n            hpOfEnemy = $game.gameData.enemy.enemyHp;\\n        }\\n        $game = { gameData };\\n        if (hpOfEnemy && $game.gameData.enemy?.enemyHp) {\\n            $game.gameData.enemy.enemyHp = hpOfEnemy;\\n        }\\n        if (!$game.gameData.enemy?.enemyMaxHp && $game.gameData.enemy?.enemyHp) {\\n            $game.gameData.enemy.enemyMaxHp = $game.gameData.enemy.enemyHp;\\n        }\\n        $misc.started = true;\\n        $misc.place = $game.gameData.placeAndTime?.place || \\"\\";\\n        $misc.time = $game.gameData.placeAndTime?.time || \\"00:00\\";\\n        chatMessages = [...chatMessages, { role: \\"assistant\\", content: gameData }];\\n    }\\n    catch (error) {\\n        if (error.name === \\"AbortError\\" || requestTimeout) {\\n            console.log(\\"Request was aborted or timed out at 9s mark\\");\\n            return;\\n        }\\n        else {\\n            console.error(\\"Error in handleSubmit:\\", error);\\n            handleError(error);\\n        }\\n    }\\n    finally {\\n        if (!requestTimeout) {\\n            $misc.loading = false;\\n        }\\n    }\\n}\\nfunction getGamePrompt() {\\n    return `This is a role-playing game where you\'ll be the 1st person character and storyteller. You\'ll describe the world from a 3rd person perspective but when it\'s time for a conversation, interact with the player from a 1st person npc perspective. All these 1st person and 3rd person content will be in gameData.story! Shape the storyline based on players choices.\\n\\nAll of your responses MUST include a valid json object, with this exact properties(keys):\\n\\n\\"gameData\\": {\\n\\t\\"placeAndTime\\": { \\"place\\": \\"Enchanted Library\\", \\"time\\": \\"14:00\\" },\\n\\t\\"story\\": \\"As you step into the vast, towering library...\\",\\n\\t\\"event\\": { \\"inCombat\\": false, \\"shopMode\\": null, \\"lootMode\\": false },\\n\\t\\"choices\\": [\\"Approach the librarian for assistance.\\", \\"Browse the shelves for a specific book.\\", \\"Sit down and read a random tome.\\"],\\n\\t\\"enemy\\": {},\\n\\t\\"lootBox\\": []\\n}\\n\\nDon\'t forget to include at least 3 unique choices for the user to choose.`;\\n}\\nfunction handleError(error) {\\n    console.error(\\"Game error:\\", error);\\n    setTimeout(() => {\\n        if ($misc.query) {\\n            giveAnswer($misc.query);\\n        }\\n    }, 1e3);\\n}\\nfunction giveAnswer(choice) {\\n    if (!choice || choice.trim().length === 0)\\n        return;\\n    if (choice.includes(\\"sex\\") || choice.includes(\\"kill\\")) {\\n        if (!choice.includes(\\"skill\\")) {\\n            $ui.errorWarnMsg = \\"There\'s a flawed word in your answer.\\";\\n            return;\\n        }\\n    }\\n    $game.gameData.story = \\"\\";\\n    $game.gameData.choices = [];\\n    $game.gameData.shop = [];\\n    for (const key in $coolDowns) {\\n        if ($coolDowns.hasOwnProperty(key)) {\\n            $coolDowns[key] += 1;\\n        }\\n    }\\n    $selectedItem.showDescription = \\"none\\";\\n    $misc.query = choice;\\n    handleSubmit().then(() => {\\n        $misc.query = \\"\\";\\n        answer = \\"\\";\\n    });\\n    if (!$misc.started) {\\n        $misc.started = true;\\n    }\\n}\\nconst locationImageCounts = {\\n    Academy: 2,\\n    Armorsmith: 7,\\n    Beach: 3,\\n    Blacksmith: 7,\\n    Castle: 5,\\n    Cathedral: 2,\\n    Cave: 4,\\n    City: 4,\\n    \\"City-night\\": 4,\\n    Dock: 4,\\n    Dungeon: 4,\\n    Forest: 3,\\n    \\"Forest-night\\": 3,\\n    Garden: 3,\\n    Graveyard: 3,\\n    Harbor: 4,\\n    Inn: 6,\\n    Library: 4,\\n    Mansion: 3,\\n    Market: 7,\\n    Marketplace: 7,\\n    Merchant: 7,\\n    Monastery: 3,\\n    Mountain: 3,\\n    PotionShop: 7,\\n    River: 3,\\n    Shop: 7,\\n    Shore: 4,\\n    SpellShop: 7,\\n    Tavern: 6,\\n    Town: 4,\\n    \\"Town-night\\": 5,\\n    Village: 4,\\n    Weaponsmith: 7,\\n    Woods: 3,\\n    \\"Woods-night\\": 3\\n};\\nasync function fetchImg() {\\n    if ($game.gameData.placeAndTime?.place === $misc.currentImg)\\n        return;\\n    const places = [...staticPlaces];\\n    const currentPlace = $game.gameData.placeAndTime?.place || \\"\\";\\n    const matchedPlace = places.find((place) => currentPlace.toLowerCase().includes(place.toLowerCase())) || places[0];\\n    const imageCount = locationImageCounts[matchedPlace] || 3;\\n    const randomImgNum = Math.floor(Math.random() * imageCount) + 1;\\n    const imgPath = `${matchedPlace}/${randomImgNum}.webp`;\\n    try {\\n        const { data, error } = await supabase.storage.from(\\"imgs\\").download(imgPath);\\n        if (error) {\\n            console.warn(\\"Image not available:\\", imgPath, error.message || error);\\n            return;\\n        }\\n        const url = URL.createObjectURL(data);\\n        updateBackgroundImage(url);\\n        $misc.currentImg = currentPlace;\\n    }\\n    catch (error) {\\n        console.warn(\\"Could not load background image:\\", error);\\n    }\\n}\\nfunction updateBackgroundImage(url) {\\n    const img = new Image();\\n    img.onload = () => {\\n        if ($bgImage.img1active) {\\n            $bgImage.fetchedBg2 = url;\\n            setTimeout(() => {\\n                $bgImage.img2active = true;\\n                $bgImage.img1active = false;\\n            }, 50);\\n        }\\n        else {\\n            $bgImage.fetchedBg1 = url;\\n            setTimeout(() => {\\n                $bgImage.img1active = true;\\n                $bgImage.img2active = false;\\n            }, 50);\\n        }\\n    };\\n    img.src = url;\\n}\\nfunction mixBuyables(category) {\\n    let items;\\n    switch (category) {\\n        case \\"Weaponsmith\\":\\n        case \\"Armorsmith\\":\\n        case \\"Blacksmith\\":\\n            items = buyWeapons;\\n            break;\\n        case \\"SpellShop\\":\\n        case \\"Spell Shop\\":\\n        case \\"Shop\\":\\n        case \\"Marketplace\\":\\n            items = buySpells;\\n            break;\\n        case \\"PotionShop\\":\\n        case \\"Potion Shop\\":\\n        case \\"Market\\":\\n        case \\"Merchant\\":\\n            items = buyPotions;\\n            break;\\n        default:\\n            items = buyPotions;\\n            break;\\n    }\\n    const shuffled = [...items];\\n    for (let i = shuffled.length - 1; i > 0; i--) {\\n        const j = Math.floor(Math.random() * (i + 1));\\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\\n    }\\n    $game.gameData.shop = shuffled.slice(0, SHOP_CONFIG.ITEMS_PER_SHOP);\\n}\\nfunction handleEmittedAnswer(event) {\\n    giveAnswer(event.detail.answer);\\n}\\nfunction handleMedievalGameStart(event) {\\n    startMedievalGame(event.detail.answer);\\n}\\nfunction startMedievalGame(answer2) {\\n    chatMessages = [];\\n    $game.gameData.lootBox = [];\\n    $game.gameData.placeAndTime = { place: \\"\\", time: \\"00:00\\" };\\n    $game.gameData.shop = [];\\n    $game.gameData.choices = [];\\n    $game.gameData.enemy = {};\\n    $game.gameData.event = { inCombat: false, shopMode: null, lootMode: false };\\n    $selectedItem = {};\\n    $character.gold = STARTING_VALUES.GOLD;\\n    const heroClass = $game.gameData.heroClass;\\n    if (heroClass === \\"mage\\") {\\n        $character.stats = [CHARACTER_CLASSES.MAGE.stats];\\n        $character.spells = [...medievalMageSpells];\\n        $character.inventory = [...medievalMageInventory];\\n    }\\n    else if (heroClass === \\"warrior\\") {\\n        $character.stats = [CHARACTER_CLASSES.WARRIOR.stats];\\n        $character.spells = [...medievalWarriorSpells];\\n        $character.inventory = [...medievalWarriorInventory];\\n    }\\n    giveAnswer(answer2);\\n}\\n$: if ($game.gameData.placeAndTime?.place && $game.gameData.placeAndTime.place !== $misc.currentImg) {\\n    fetchImg();\\n}\\n$: if ($game.gameData.event?.shopMode && (!$game.gameData.shop || $game.gameData.shop.length !== SHOP_CONFIG.ITEMS_PER_SHOP)) {\\n    mixBuyables($game.gameData.event.shopMode);\\n}\\n<\/script>\\n\\n<div>\\n\\t<BackgroundImgs />\\n\\n\\t{#if $misc.maintenanceWindow}\\n\\t\\t<div class=\\"maintenance-overlay\\">\\n\\t\\t\\t<div class=\\"maintenance-content\\">\\n\\t\\t\\t\\t<h2>Game Maintenance</h2>\\n\\t\\t\\t\\t<p>The game is currently under maintenance. Please check back later.</p>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{:else}\\n\\t\\t<div class=\\"game-container\\">\\n\\t\\t\\t{#if !$misc.started}\\n\\t\\t\\t\\t<GameStartWindow on:emittedAnswer={handleMedievalGameStart} />\\n\\t\\t\\t{:else}\\n\\t\\t\\t\\t<div class=\\"game-content\\">\\n\\t\\t\\t\\t\\t<div class=\\"story-section\\">\\n\\t\\t\\t\\t\\t\\t{#if $misc.loading}\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\"loading-message\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<LetterByLetter text={dotty} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t{:else if $game.gameData.story}\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\"story-text\\" transition:fade>\\n\\t\\t\\t\\t\\t\\t\\t\\t<LetterByLetter text={$game.gameData.story} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\\"choices-section\\">\\n\\t\\t\\t\\t\\t\\t{#if $game.gameData.choices && $game.gameData.choices.length > 0}\\n\\t\\t\\t\\t\\t\\t\\t<Choices on:emittedAnswer={handleEmittedAnswer} />\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\\"ui-section\\">\\n\\t\\t\\t\\t\\t\\t<UiButtons on:emittedAnswer={handleEmittedAnswer} />\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\\"action-boxes\\">\\n\\t\\t\\t\\t\\t\\t{#if $character.inventory && $character.inventory.length > 0}\\n\\t\\t\\t\\t\\t\\t\\t<ActionBox\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\"Inventory\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tactions={$character.inventory}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:emittedAnswer={handleEmittedAnswer}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\n\\t\\t\\t\\t\\t\\t{#if $character.spells && $character.spells.length > 0}\\n\\t\\t\\t\\t\\t\\t\\t<ActionBox\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\"Spells\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tactions={$character.spells}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:emittedAnswer={handleEmittedAnswer}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\n\\t\\t\\t\\t\\t\\t{#if $game.gameData.lootBox && $game.gameData.lootBox.length > 0}\\n\\t\\t\\t\\t\\t\\t\\t<ActionBox\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\"Loot\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tactions={$game.gameData.lootBox}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:emittedAnswer={handleEmittedAnswer}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t{/if}\\n\\t\\t</div>\\n\\n\\t\\t<DescriptionWindow />\\n\\t\\t<MessageWindows />\\n\\t{/if}\\n\\n\\t{#if quotaExceeded}\\n\\t\\t<div class=\\"quota-overlay\\" transition:fade>\\n\\t\\t\\t<div class=\\"quota-content\\">\\n\\t\\t\\t\\t<div class=\\"quota-icon\\">âš ï¸</div>\\n\\t\\t\\t\\t<h2>API Limit Reached</h2>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\tThis game is for <strong>demonstration purposes only</strong> and uses a free API quota.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-detail\\">\\n\\t\\t\\t\\t\\tThe AI chat service has temporarily reached its limit. Please try again later or check\\n\\t\\t\\t\\t\\tback tomorrow.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-sorry\\">Sorry for the inconvenience!</p>\\n\\t\\t\\t\\t<button class=\\"quota-dismiss\\" on:click={() => (quotaExceeded = false)}> Dismiss </button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{/if}\\n\\n\\t{#if highDemand}\\n\\t\\t<div class=\\"quota-overlay\\" transition:fade>\\n\\t\\t\\t<div class=\\"quota-content high-demand\\">\\n\\t\\t\\t\\t<div class=\\"quota-icon\\">ðŸš€</div>\\n\\t\\t\\t\\t<h2>High Traffic</h2>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\tThe AI service is currently <strong>heavily overloaded</strong> or timed out.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-detail\\">\\n\\t\\t\\t\\t\\tGoogle Gemini is taking too long to respond, and the server had to stop waiting. Please try your action again in a moment.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-sorry\\">Thank you for your patience!</p>\\n\\t\\t\\t\\t<button class=\\"quota-dismiss\\" on:click={() => (highDemand = false)}> Dismiss </button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{/if}\\n\\n\\t{#if requestTimeout}\\n\\t\\t<div class=\\"quota-overlay\\" transition:fade>\\n\\t\\t\\t<div class=\\"quota-content timeout\\">\\n\\t\\t\\t\\t<div class=\\"quota-icon\\">ðŸ¤–</div>\\n\\t\\t\\t\\t<h2>Request Cancelled</h2>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\tThe Gemini API is <strong>currently full</strong> and couldn\'t respond in time.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-detail\\">\\n\\t\\t\\t\\t\\tTo keep the game responsive, we\'ve stopped the current request. Please try your action again.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t<p class=\\"quota-sorry\\">Thank you for your patience!</p>\\n\\t\\t\\t\\t<button class=\\"quota-dismiss\\" on:click={() => { \\n\\t\\t\\t\\t\\trequestTimeout = false; \\n\\t\\t\\t\\t\\t$misc.loading = false;\\n\\t\\t\\t\\t}}> Try Again </button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t{/if}\\n</div>\\n\\n<style>\\n\\t.maintenance-overlay {\\n\\t\\tposition: fixed;\\n\\t\\tinset: 0;\\n\\t\\tbackground: var(--color-bg-dark);\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t\\tz-index: 1000;\\n\\t}\\n\\n\\t.maintenance-content {\\n\\t\\tbackground: var(--color-bg-card);\\n\\t\\tpadding: var(--space-xl);\\n\\t\\tborder-radius: var(--radius-lg);\\n\\t\\ttext-align: center;\\n\\t\\tborder: 1px solid var(--color-border);\\n\\t}\\n\\n\\t/* Quota Exceeded Overlay */\\n\\t.quota-overlay {\\n\\t\\tposition: fixed;\\n\\t\\tinset: 0;\\n\\t\\tbackground: rgba(0, 0, 0, 0.85);\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t\\tz-index: 2000;\\n\\t\\tbackdrop-filter: blur(8px);\\n\\t\\t-webkit-backdrop-filter: blur(8px);\\n\\t}\\n\\n\\t.quota-content {\\n\\t\\tbackground: var(--color-bg-glass);\\n\\t\\tbackdrop-filter: blur(24px);\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\n\\t\\tpadding: var(--space-xl);\\n\\t\\tborder-radius: var(--radius-xl);\\n\\t\\ttext-align: center;\\n\\t\\tborder: 1px solid var(--color-border);\\n\\t\\tmax-width: 420px;\\n\\t\\tmargin: var(--space-md);\\n\\t\\tbox-shadow: var(--shadow-lg);\\n\\t\\ttransition: all 0.3s ease;\\n\\t}\\n\\n\\t.quota-content.high-demand {\\n\\t\\tborder-color: var(--color-accent-primary, #3b82f6);\\n\\t\\tbox-shadow: 0 0 20px rgba(59, 130, 246, 0.2);\\n\\t}\\n\\n\\t.quota-content.high-demand h2 {\\n\\t\\tcolor: var(--color-accent-primary, #3b82f6);\\n\\t}\\n\\n\\t.quota-content.timeout {\\n\\t\\tborder-color: var(--color-accent-gold, #facc15);\\n\\t\\tbox-shadow: 0 0 20px rgba(250, 204, 21, 0.2);\\n\\t}\\n\\n\\t.quota-content.timeout h2 {\\n\\t\\tcolor: var(--color-accent-gold, #facc15);\\n\\t}\\n\\n\\t.quota-icon {\\n\\t\\tfont-size: 3rem;\\n\\t\\tmargin-bottom: var(--space-md);\\n\\t}\\n\\n\\t.quota-content h2 {\\n\\t\\tcolor: var(--color-accent-warning, #f59e0b);\\n\\t\\tmargin-bottom: var(--space-md);\\n\\t\\tfont-size: 1.5rem;\\n\\t}\\n\\n\\t.quota-content p {\\n\\t\\tcolor: var(--color-text-primary);\\n\\t\\tmargin-bottom: var(--space-sm);\\n\\t\\tline-height: 1.6;\\n\\t}\\n\\n\\t.quota-detail {\\n\\t\\tcolor: var(--color-text-secondary);\\n\\t\\tfont-size: 0.9rem;\\n\\t}\\n\\n\\t.quota-sorry {\\n\\t\\tcolor: var(--color-text-secondary);\\n\\t\\tfont-style: italic;\\n\\t\\tmargin-top: var(--space-md);\\n\\t}\\n\\n\\t.quota-dismiss {\\n\\t\\tmargin-top: var(--space-lg);\\n\\t\\tpadding: var(--space-sm) var(--space-xl);\\n\\t\\tbackground: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-secondary));\\n\\t\\tborder: none;\\n\\t\\tborder-radius: var(--radius-md);\\n\\t\\tcolor: white;\\n\\t\\tfont-weight: 600;\\n\\t\\tcursor: pointer;\\n\\t\\ttransition: transform 0.2s ease, box-shadow 0.2s ease;\\n\\t}\\n\\n\\t.quota-dismiss:hover {\\n\\t\\ttransform: translateY(-2px);\\n\\t\\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\\n\\t}\\n\\n\\t.game-container {\\n\\t\\tmin-height: 100vh;\\n\\t\\tmin-height: 100dvh;\\n\\t\\tposition: relative;\\n\\t\\tz-index: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t.game-content {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tflex: 1;\\n\\t\\tpadding: var(--space-md);\\n\\t\\tpadding-bottom: 240px;\\n\\t\\tmax-width: 1000px;\\n\\t\\twidth: 100%;\\n\\t\\tmargin: 0 auto;\\n\\t\\tgap: var(--space-md);\\n\\t}\\n\\n\\t/* Story Box - The narrative display */\\n\\t.story-section {\\n\\t\\tposition: relative;\\n\\t\\theight: 35vh; /* Fixed height - stays consistent */\\n\\t\\toverflow-y: auto;\\n\\t\\tpadding: var(--space-lg);\\n\\t\\tborder-radius: var(--radius-xl);\\n\\t\\tbackground: var(--color-bg-glass);\\n\\t\\tbackdrop-filter: blur(24px);\\n\\t\\t-webkit-backdrop-filter: blur(24px);\\n\\t\\tborder: 1px solid var(--color-border);\\n\\t\\tbox-shadow: var(--shadow-lg);\\n\\t\\tmargin-top: var(--space-md);\\n\\t}\\n\\n\\t/* Decorative top accent line */\\n\\t.story-section::before {\\n\\t\\tcontent: \'\';\\n\\t\\tposition: absolute;\\n\\t\\tleft: 20px;\\n\\t\\tright: 20px;\\n\\t\\ttop: 8px;\\n\\t\\theight: 2px;\\n\\t\\tborder-radius: 2px;\\n\\t\\tbackground: linear-gradient(\\n\\t\\t\\t90deg,\\n\\t\\t\\ttransparent,\\n\\t\\t\\tvar(--color-accent-primary),\\n\\t\\t\\tvar(--color-accent-secondary),\\n\\t\\t\\tvar(--color-accent-primary),\\n\\t\\t\\ttransparent\\n\\t\\t);\\n\\t\\topacity: 0.6;\\n\\t}\\n\\n\\t.loading-message {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: flex-start; /* Stay at top */\\n\\t\\tjustify-content: center;\\n\\t\\tmin-height: 60px;\\n\\t\\tcolor: var(--color-text-secondary);\\n\\t\\tfont-size: 1.5rem;\\n\\t\\tletter-spacing: 0.3em;\\n\\t}\\n\\n\\t.story-text {\\n\\t\\tline-height: 1.8;\\n\\t\\tfont-size: 0.95rem;\\n\\t\\tcolor: var(--color-text-primary);\\n\\t\\tletter-spacing: 0.01em;\\n\\t}\\n\\n\\t.choices-section {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: var(--space-sm);\\n\\t}\\n\\n\\t.ui-section {\\n\\t\\tmargin-top: auto;\\n\\t}\\n\\n\\t/* Action Boxes Container */\\n\\t.action-boxes {\\n\\t\\tposition: fixed;\\n\\t\\tleft: 50%;\\n\\t\\ttransform: translateX(-50%);\\n\\t\\tbottom: var(--space-md);\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between; /* Spread boxes to edges */\\n\\t\\talign-items: flex-end;\\n\\t\\tgap: var(--space-md);\\n\\t\\tflex-wrap: wrap;\\n\\t\\twidth: min(calc(100% - var(--space-xl)), 800px);\\n\\t\\tz-index: 100;\\n\\t}\\n\\n\\t/* Responsive Adjustments */\\n\\t@media (max-width: 768px) {\\n\\t\\t.game-content {\\n\\t\\t\\tpadding: var(--space-sm);\\n\\t\\t\\tpadding-bottom: 200px;\\n\\t\\t}\\n\\n\\t\\t.story-section {\\n\\t\\t\\theight: 30vh; /* Fixed height */\\n\\t\\t\\tpadding: var(--space-md);\\n\\t\\t\\tborder-radius: var(--radius-lg);\\n\\t\\t}\\n\\n\\t\\t.action-boxes {\\n\\t\\t\\tbottom: var(--space-sm);\\n\\t\\t\\tgap: var(--space-sm);\\n\\t\\t\\twidth: calc(100% - var(--space-md));\\n\\t\\t}\\n\\t}\\n\\n\\t@media (max-width: 480px) {\\n\\t\\t.story-section {\\n\\t\\t\\theight: 20vh; /* Fixed height */\\n\\t\\t}\\n\\n\\t\\t.story-text {\\n\\t\\t\\tfont-size: 0.875rem;\\n\\t\\t}\\n\\n\\t\\t.game-content {\\n\\t\\t\\tpadding-bottom: 140px;\\n\\t\\t}\\n\\n\\t\\t.action-boxes {\\n\\t\\t\\tflex-wrap: nowrap;\\n\\t\\t\\toverflow-x: auto;\\n\\t\\t\\tjustify-content: space-between; /* Inventory left, Spells right */\\n\\t\\t\\tpadding: var(--space-xs);\\n\\t\\t\\tgap: var(--space-xs);\\n\\t\\t\\t-webkit-overflow-scrolling: touch;\\n\\t\\t}\\n\\t}\\n\\n\\t/* Landscape mobile */\\n\\t@media (max-height: 500px) and (orientation: landscape) {\\n\\t\\t.story-section {\\n\\t\\t\\tmax-height: 40vh;\\n\\t\\t}\\n\\n\\t\\t.game-content {\\n\\t\\t\\tpadding-bottom: 160px;\\n\\t\\t}\\n\\n\\t\\t.action-boxes {\\n\\t\\t\\tbottom: var(--space-xs);\\n\\t\\t}\\n\\t}\\n</style>\\n"],"names":[],"mappings":"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"}'
};
const Game = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $game, $$unsubscribe_game;
  let $misc, $$unsubscribe_misc;
  let $character, $$unsubscribe_character;
  let $$unsubscribe_selectedItem;
  let $bgImage, $$unsubscribe_bgImage;
  let $$unsubscribe_coolDowns;
  let $$unsubscribe_ui;
  $$unsubscribe_game = subscribe(game, (value) => $game = value);
  $$unsubscribe_misc = subscribe(misc, (value) => $misc = value);
  $$unsubscribe_character = subscribe(character, (value) => $character = value);
  $$unsubscribe_selectedItem = subscribe(selectedItem, (value) => value);
  $$unsubscribe_bgImage = subscribe(bgImage, (value) => $bgImage = value);
  $$unsubscribe_coolDowns = subscribe(coolDowns, (value) => value);
  $$unsubscribe_ui = subscribe(ui, (value) => value);
  let dotty = ".";
  const locationImageCounts = {
    Academy: 2,
    Armorsmith: 7,
    Beach: 3,
    Blacksmith: 7,
    Castle: 5,
    Cathedral: 2,
    Cave: 4,
    City: 4,
    "City-night": 4,
    Dock: 4,
    Dungeon: 4,
    Forest: 3,
    "Forest-night": 3,
    Garden: 3,
    Graveyard: 3,
    Harbor: 4,
    Inn: 6,
    Library: 4,
    Mansion: 3,
    Market: 7,
    Marketplace: 7,
    Merchant: 7,
    Monastery: 3,
    Mountain: 3,
    PotionShop: 7,
    River: 3,
    Shop: 7,
    Shore: 4,
    SpellShop: 7,
    Tavern: 6,
    Town: 4,
    "Town-night": 5,
    Village: 4,
    Weaponsmith: 7,
    Woods: 3,
    "Woods-night": 3
  };
  async function fetchImg() {
    if ($game.gameData.placeAndTime?.place === $misc.currentImg) return;
    const places = [...staticPlaces];
    const currentPlace = $game.gameData.placeAndTime?.place || "";
    const matchedPlace = places.find((place) => currentPlace.toLowerCase().includes(place.toLowerCase())) || places[0];
    const imageCount = locationImageCounts[matchedPlace] || 3;
    const randomImgNum = Math.floor(Math.random() * imageCount) + 1;
    const imgPath = `${matchedPlace}/${randomImgNum}.webp`;
    try {
      const { data, error } = await supabase.storage.from("imgs").download(imgPath);
      if (error) {
        console.warn("Image not available:", imgPath, error.message || error);
        return;
      }
      const url = URL.createObjectURL(data);
      updateBackgroundImage(url);
      set_store_value(misc, $misc.currentImg = currentPlace, $misc);
    } catch (error) {
      console.warn("Could not load background image:", error);
    }
  }
  function updateBackgroundImage(url) {
    const img = new Image();
    img.onload = () => {
      if ($bgImage.img1active) {
        set_store_value(bgImage, $bgImage.fetchedBg2 = url, $bgImage);
        setTimeout(
          () => {
            set_store_value(bgImage, $bgImage.img2active = true, $bgImage);
            set_store_value(bgImage, $bgImage.img1active = false, $bgImage);
          },
          50
        );
      } else {
        set_store_value(bgImage, $bgImage.fetchedBg1 = url, $bgImage);
        setTimeout(
          () => {
            set_store_value(bgImage, $bgImage.img1active = true, $bgImage);
            set_store_value(bgImage, $bgImage.img2active = false, $bgImage);
          },
          50
        );
      }
    };
    img.src = url;
  }
  function mixBuyables(category) {
    let items;
    switch (category) {
      case "Weaponsmith":
      case "Armorsmith":
      case "Blacksmith":
        items = buyWeapons;
        break;
      case "SpellShop":
      case "Spell Shop":
      case "Shop":
      case "Marketplace":
        items = buySpells;
        break;
      case "PotionShop":
      case "Potion Shop":
      case "Market":
      case "Merchant":
        items = buyPotions;
        break;
      default:
        items = buyPotions;
        break;
    }
    const shuffled = [...items];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    set_store_value(game, $game.gameData.shop = shuffled.slice(0, SHOP_CONFIG.ITEMS_PER_SHOP), $game);
  }
  $$result.css.add(css$1);
  {
    if ($game.gameData.placeAndTime?.place && $game.gameData.placeAndTime.place !== $misc.currentImg) {
      fetchImg();
    }
  }
  {
    if ($game.gameData.event?.shopMode && (!$game.gameData.shop || $game.gameData.shop.length !== SHOP_CONFIG.ITEMS_PER_SHOP)) {
      mixBuyables($game.gameData.event.shopMode);
    }
  }
  $$unsubscribe_game();
  $$unsubscribe_misc();
  $$unsubscribe_character();
  $$unsubscribe_selectedItem();
  $$unsubscribe_bgImage();
  $$unsubscribe_coolDowns();
  $$unsubscribe_ui();
  return `<div>${validate_component(BackgroundImgs, "BackgroundImgs").$$render($$result, {}, {}, {})} ${$misc.maintenanceWindow ? `<div class="maintenance-overlay svelte-xrh5lo" data-svelte-h="svelte-1mg5v5a"><div class="maintenance-content svelte-xrh5lo"><h2>Game Maintenance</h2> <p>The game is currently under maintenance. Please check back later.</p></div></div>` : `<div class="game-container svelte-xrh5lo">${!$misc.started ? `${validate_component(GameStartWindow, "GameStartWindow").$$render($$result, {}, {}, {})}` : `<div class="game-content svelte-xrh5lo"><div class="story-section svelte-xrh5lo">${$misc.loading ? `<div class="loading-message svelte-xrh5lo">${validate_component(LetterByLetter, "LetterByLetter").$$render($$result, { text: dotty }, {}, {})}</div>` : `${$game.gameData.story ? `<div class="story-text svelte-xrh5lo">${validate_component(LetterByLetter, "LetterByLetter").$$render($$result, { text: $game.gameData.story }, {}, {})}</div>` : ``}`}</div> <div class="choices-section svelte-xrh5lo">${$game.gameData.choices && $game.gameData.choices.length > 0 ? `${validate_component(Choices, "Choices").$$render($$result, {}, {}, {})}` : ``}</div> <div class="ui-section svelte-xrh5lo">${validate_component(UiButtons, "UiButtons").$$render($$result, {}, {}, {})}</div> <div class="action-boxes svelte-xrh5lo">${$character.inventory && $character.inventory.length > 0 ? `${validate_component(ActionBox, "ActionBox").$$render(
    $$result,
    {
      title: "Inventory",
      actions: $character.inventory
    },
    {},
    {}
  )}` : ``} ${$character.spells && $character.spells.length > 0 ? `${validate_component(ActionBox, "ActionBox").$$render(
    $$result,
    {
      title: "Spells",
      actions: $character.spells
    },
    {},
    {}
  )}` : ``} ${$game.gameData.lootBox && $game.gameData.lootBox.length > 0 ? `${validate_component(ActionBox, "ActionBox").$$render(
    $$result,
    {
      title: "Loot",
      actions: $game.gameData.lootBox
    },
    {},
    {}
  )}` : ``}</div></div>`}</div> ${validate_component(ItemDescWindow, "DescriptionWindow").$$render($$result, {}, {}, {})} ${validate_component(InGameWarnMsgs, "MessageWindows").$$render($$result, {}, {}, {})}`} ${``} ${``} ${``} </div>`;
});
const css = {
  code: "body{margin:0;padding:0;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;background:#0a0a0a;color:#ffffff;overflow-x:hidden}*{box-sizing:border-box}main.svelte-kfrmlb{min-height:100vh;width:100%}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import Game from \\"$lib/components/Game.svelte\\";\\n<\/script>\\n\\n<svelte:head>\\n\\t<title>Chad RPG - Medieval Adventure</title>\\n\\t<meta name=\\"description\\" content=\\"An immersive text-based RPG adventure powered by AI\\" />\\n</svelte:head>\\n\\n<main>\\n\\t<Game />\\n</main>\\n\\n<style>\\n\\t:global(body) {\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 0;\\n\\t\\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n\\t\\tbackground: #0a0a0a;\\n\\t\\tcolor: #ffffff;\\n\\t\\toverflow-x: hidden;\\n\\t}\\n\\t\\n\\t:global(*) {\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\t\\n\\tmain {\\n\\t\\tmin-height: 100vh;\\n\\t\\twidth: 100%;\\n\\t}\\n</style>\\n"],"names":[],"mappings":"AAaS,IAAM,CACb,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,CAC5D,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,MACb,CAEQ,CAAG,CACV,UAAU,CAAE,UACb,CAEA,kBAAK,CACJ,UAAU,CAAE,KAAK,CACjB,KAAK,CAAE,IACR"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1kw1hjp_START -->${$$result.title = `<title>Chad RPG - Medieval Adventure</title>`, ""}<meta name="description" content="An immersive text-based RPG adventure powered by AI"><!-- HEAD_svelte-1kw1hjp_END -->`, ""} <main class="svelte-kfrmlb">${validate_component(Game, "Game").$$render($$result, {}, {}, {})} </main>`;
});
export {
  Page as default
};
